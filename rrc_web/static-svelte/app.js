(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const ue=2,lr=4,cr=8,zs=1<<24,at=16,lt=32,At=64,Sn=128,Fe=512,me=1024,Se=2048,Ve=4096,Te=8192,ot=16384,Rn=32768,Ft=65536,kr=1<<17,Or=1<<18,Wt=1<<19,Ks=1<<20,nt=1<<25,Rt=32768,Yn=1<<21,ur=1<<22,vt=1<<23,gn=Symbol("$state"),Ys=Symbol("legacy props"),Gs=Symbol(""),jt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},Tn=3,Vt=8,Gn=!1;var Lr=Array.isArray,Xs=Array.prototype.indexOf,Cn=Array.from,fr=Object.defineProperty,en=Object.getOwnPropertyDescriptor,Zs=Object.getOwnPropertyDescriptors,Qs=Object.prototype,eo=Array.prototype,Hr=Object.getPrototypeOf,$r=Object.isExtensible;const ht=()=>{};function jr(e){for(var t=0;t<e.length;t++)e[t]()}function Ir(){var e,t,n=new Promise((r,o)=>{e=r,t=o});return{promise:n,resolve:e,reject:t}}function Fr(e){return e===this.v}function Ur(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function qr(e){return!Ur(e,this.v)}function to(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function no(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ro(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function so(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function oo(e){throw new Error("https://svelte.dev/e/effect_orphan")}function io(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ao(){throw new Error("https://svelte.dev/e/hydration_failed")}function lo(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function co(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function uo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function fo(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}let vo=!1;const ho=1,mo=2,Jr=4,po=8,_o=16,bo=1,go=2,Br="[",Mn="[!",dr="]",Ut={},he=Symbol(),yo="http://www.w3.org/1999/xhtml";let Ce=null;function qt(e){Ce=e}function Ue(e,t=!1,n){Ce={p:Ce,i:!1,c:null,e:null,s:e,x:null,l:null}}function qe(e){var t=Ce,n=t.e;if(n!==null){t.e=null;for(var r of n)ms(r)}return e!==void 0&&(t.x=e),t.i=!0,Ce=t.p,e??{}}function Wr(){return!0}let xt=[];function Vr(){var e=xt;xt=[],jr(e)}function Nt(e){if(xt.length===0&&!tn){var t=xt;queueMicrotask(()=>{t===xt&&Vr()})}xt.push(e)}function wo(){for(;xt.length>0;)Vr()}function An(e){console.warn("https://svelte.dev/e/hydration_mismatch")}function xo(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let j=!1;function rt(e){j=e}let U;function we(e){if(e===null)throw An(),Ut;return U=e}function Nn(){return we(Ke(U))}function d(e){if(j){if(Ke(U)!==null)throw An(),Ut;U=e}}function mt(e=1){if(j){for(var t=e,n=U;t--;)n=Ke(n);U=n}}function wn(e=!0){for(var t=0,n=U;;){if(n.nodeType===Vt){var r=n.data;if(r===dr){if(t===0)return n;t-=1}else(r===Br||r===Mn)&&(t+=1)}var o=Ke(n);e&&n.remove(),n=o}}function zr(e){if(!e||e.nodeType!==Vt)throw An(),Ut;return e.data}function st(e){if(typeof e!="object"||e===null||gn in e)return e;const t=Hr(e);if(t!==Qs&&t!==eo)return e;var n=new Map,r=Lr(e),o=X(0),s=Et,a=l=>{if(Et===s)return l();var i=H,c=Et;ke(null),Cr(s);var u=l();return ke(i),Cr(c),u};return r&&n.set("length",X(e.length)),new Proxy(e,{defineProperty(l,i,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&lo();var u=n.get(i);return u===void 0?u=a(()=>{var v=X(c.value);return n.set(i,v),v}):R(u,c.value,!0),!0},deleteProperty(l,i){var c=n.get(i);if(c===void 0){if(i in l){const u=a(()=>X(he));n.set(i,u),nn(o)}}else R(c,he),nn(o);return!0},get(l,i,c){if(i===gn)return e;var u=n.get(i),v=i in l;if(u===void 0&&(!v||en(l,i)?.writable)&&(u=a(()=>{var m=st(v?l[i]:he),y=X(m);return y}),n.set(i,u)),u!==void 0){var f=p(u);return f===he?void 0:f}return Reflect.get(l,i,c)},getOwnPropertyDescriptor(l,i){var c=Reflect.getOwnPropertyDescriptor(l,i);if(c&&"value"in c){var u=n.get(i);u&&(c.value=p(u))}else if(c===void 0){var v=n.get(i),f=v?.v;if(v!==void 0&&f!==he)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return c},has(l,i){if(i===gn)return!0;var c=n.get(i),u=c!==void 0&&c.v!==he||Reflect.has(l,i);if(c!==void 0||q!==null&&(!u||en(l,i)?.writable)){c===void 0&&(c=a(()=>{var f=u?st(l[i]):he,m=X(f);return m}),n.set(i,c));var v=p(c);if(v===he)return!1}return u},set(l,i,c,u){var v=n.get(i),f=i in l;if(r&&i==="length")for(var m=c;m<v.v;m+=1){var y=n.get(m+"");y!==void 0?R(y,he):m in l&&(y=a(()=>X(he)),n.set(m+"",y))}if(v===void 0)(!f||en(l,i)?.writable)&&(v=a(()=>X(void 0)),R(v,st(c)),n.set(i,v));else{f=v.v!==he;var S=a(()=>st(c));R(v,S)}var _=Reflect.getOwnPropertyDescriptor(l,i);if(_?.set&&_.set.call(u,c),!f){if(r&&typeof i=="string"){var $=n.get("length"),I=Number(i);Number.isInteger(I)&&I>=$.v&&R($,I+1)}nn(o)}return!0},ownKeys(l){p(o);var i=Reflect.ownKeys(l).filter(v=>{var f=n.get(v);return f===void 0||f.v!==he});for(var[c,u]of n)u.v!==he&&!(c in l)&&i.push(c);return i},setPrototypeOf(){co()}})}var Er,Kr,Yr,Gr;function Xn(){if(Er===void 0){Er=window,Kr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Yr=en(t,"firstChild").get,Gr=en(t,"nextSibling").get,$r(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),$r(n)&&(n.__t=void 0)}}function $e(e=""){return document.createTextNode(e)}function Tt(e){return Yr.call(e)}function Ke(e){return Gr.call(e)}function h(e,t){if(!j)return Tt(e);var n=Tt(U);if(n===null)n=U.appendChild($e());else if(t&&n.nodeType!==Tn){var r=$e();return n?.before(r),we(r),r}return we(n),n}function rn(e,t=!1){if(!j){var n=Tt(e);return n instanceof Comment&&n.data===""?Ke(n):n}if(t&&U?.nodeType!==Tn){var r=$e();return U?.before(r),we(r),r}return U}function g(e,t=1,n=!1){let r=j?U:e;for(var o;t--;)o=r,r=Ke(r);if(!j)return r;if(n&&r?.nodeType!==Tn){var s=$e();return r===null?o?.after(s):r.before(s),we(s),s}return we(r),r}function Xr(e){e.textContent=""}function Zr(){return!1}function Qr(e){var t=q;if(t===null)return H.f|=vt,e;if((t.f&Rn)===0){if((t.f&Sn)===0)throw e;t.b.error(e)}else Jt(e,t)}function Jt(e,t){for(;t!==null;){if((t.f&Sn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const bn=new Set;let z=null,yn=null,je=null,Le=[],Dn=null,Zn=!1,tn=!1;class Be{committed=!1;current=new Map;previous=new Map;#t=new Set;#e=new Set;#n=0;#r=0;#l=null;#o=new Set;#s=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#r>0}process(t){Le=[],yn=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[]};for(const r of t)this.#i(r,n);this.is_fork||this.#u(),this.is_deferred()?(this.#a(n.effects),this.#a(n.render_effects)):(yn=this,z=null,Sr(n.render_effects),Sr(n.effects),yn=null,this.#l?.resolve()),je=null}#i(t,n){t.f^=me;for(var r=t.first;r!==null;){var o=r.f,s=(o&(lt|At))!==0,a=s&&(o&me)!==0,l=a||(o&Te)!==0||this.skipped_effects.has(r);if((r.f&Sn)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[]}),!l&&r.fn!==null){s?r.f^=me:(o&lr)!==0?n.effects.push(r):fn(r)&&((r.f&at)!==0&&this.#o.add(r),on(r));var i=r.first;if(i!==null){r=i;continue}}var c=r.parent;for(r=r.next;r===null&&c!==null;)c===n.effect&&(this.#a(n.effects),this.#a(n.render_effects),n=n.parent),r=c.next,c=c.parent}}#a(t){for(const n of t)(n.f&Se)!==0?this.#o.add(n):(n.f&Ve)!==0&&this.#s.add(n),this.#c(n.deps),pe(n,me)}#c(t){if(t!==null)for(const n of t)(n.f&ue)===0||(n.f&Rt)===0||(n.f^=Rt,this.#c(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&vt)===0&&(this.current.set(t,t.v),je?.set(t,t.v))}activate(){z=this,this.apply()}deactivate(){z===this&&(z=null,je=null)}flush(){if(this.activate(),Le.length>0){if(es(),z!==null&&z!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#e)t(this);this.#e.clear()}#u(){if(this.#r===0){for(const t of this.#t)t();this.#t.clear()}this.#n===0&&this.#f()}#f(){if(bn.size>1){this.previous.clear();var t=je,n=!0,r={parent:null,effect:null,effects:[],render_effects:[]};for(const s of bn){if(s===this){n=!1;continue}const a=[];for(const[i,c]of this.current){if(s.current.has(i))if(n&&c!==s.current.get(i))s.current.set(i,c);else continue;a.push(i)}if(a.length===0)continue;const l=[...s.current.keys()].filter(i=>!this.current.has(i));if(l.length>0){var o=Le;Le=[];const i=new Set,c=new Map;for(const u of a)ts(u,l,i,c);if(Le.length>0){z=s,s.apply();for(const u of Le)s.#i(u,r);s.deactivate()}Le=o}}z=null,je=t}this.committed=!0,bn.delete(this)}increment(t){this.#n+=1,t&&(this.#r+=1)}decrement(t){this.#n-=1,t&&(this.#r-=1),this.revive()}revive(){for(const t of this.#o)this.#s.delete(t),pe(t,Se),Ct(t);for(const t of this.#s)pe(t,Ve),Ct(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#e.add(t)}settled(){return(this.#l??=Ir()).promise}static ensure(){if(z===null){const t=z=new Be;bn.add(z),tn||Be.enqueue(()=>{z===t&&t.flush()})}return z}static enqueue(t){Nt(t)}apply(){}}function xe(e){var t=tn;tn=!0;try{for(var n;;){if(wo(),Le.length===0&&(z?.flush(),Le.length===0))return Dn=null,n;es()}}finally{tn=t}}function es(){var e=$t;Zn=!0;var t=null;try{var n=0;for(kn(!0);Le.length>0;){var r=Be.ensure();if(n++>1e3){var o,s;ko()}r.process(Le),pt.clear()}}finally{Zn=!1,kn(e),Dn=null}}function ko(){try{io()}catch(e){Jt(e,Dn)}}let Qe=null;function Sr(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(ot|Te))===0&&fn(r)&&(Qe=new Set,on(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?bs(r):r.fn=null),Qe?.size>0)){pt.clear();for(const o of Qe){if((o.f&(ot|Te))!==0)continue;const s=[o];let a=o.parent;for(;a!==null;)Qe.has(a)&&(Qe.delete(a),s.push(a)),a=a.parent;for(let l=s.length-1;l>=0;l--){const i=s[l];(i.f&(ot|Te))===0&&on(i)}}Qe.clear()}}Qe=null}}function ts(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const o of e.reactions){const s=o.f;(s&ue)!==0?ts(o,t,n,r):(s&(ur|at))!==0&&(s&Se)===0&&ns(o,t,r)&&(pe(o,Se),Ct(o))}}function ns(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const o of e.deps){if(t.includes(o))return!0;if((o.f&ue)!==0&&ns(o,t,n))return n.set(o,!0),!0}return n.set(e,!1),!1}function Ct(e){for(var t=Dn=e;t.parent!==null;){t=t.parent;var n=t.f;if(Zn&&t===q&&(n&at)!==0&&(n&Or)===0)return;if((n&(At|lt))!==0){if((n&me)===0)return;t.f^=me}}Le.push(t)}function $o(e){let t=0,n=Mt(0),r;return()=>{an()&&(p(n),On(()=>(t===0&&(r=zt(()=>e(()=>nn(n)))),t+=1,()=>{Nt(()=>{t-=1,t===0&&(r?.(),r=void 0,nn(n))})})))}}var Eo=Ft|Wt|Sn;function So(e,t,n){new Ro(e,t,n)}class Ro{parent;#t=!1;#e;#n=j?U:null;#r;#l;#o;#s=null;#i=null;#a=null;#c=null;#u=null;#f=0;#d=0;#h=!1;#v=null;#g=$o(()=>(this.#v=Mt(this.#f),()=>{this.#v=null}));constructor(t,n,r){this.#e=t,this.#r=n,this.#l=r,this.parent=q.b,this.#t=!!this.#r.pending,this.#o=_r(()=>{if(q.b=this,j){const s=this.#n;Nn(),s.nodeType===Vt&&s.data===Mn?this.#w():this.#y()}else{var o=this.#_();try{this.#s=He(()=>r(o))}catch(s){this.error(s)}this.#d>0?this.#p():this.#t=!1}return()=>{this.#u?.remove()}},Eo),j&&(this.#e=U)}#y(){try{this.#s=He(()=>this.#l(this.#e))}catch(t){this.error(t)}this.#t=!1}#w(){const t=this.#r.pending;t&&(this.#i=He(()=>t(this.#e)),Be.enqueue(()=>{var n=this.#_();this.#s=this.#m(()=>(Be.ensure(),He(()=>this.#l(n)))),this.#d>0?this.#p():(St(this.#i,()=>{this.#i=null}),this.#t=!1)}))}#_(){var t=this.#e;return this.#t&&(this.#u=$e(),this.#e.before(this.#u),t=this.#u),t}is_pending(){return this.#t||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#m(t){var n=q,r=H,o=Ce;ze(this.#o),ke(this.#o),qt(this.#o.ctx);try{return t()}catch(s){return Qr(s),null}finally{ze(n),ke(r),qt(o)}}#p(){const t=this.#r.pending;this.#s!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#u),ws(this.#s,this.#c)),this.#i===null&&(this.#i=He(()=>t(this.#e)))}#b(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(t);return}this.#d+=t,this.#d===0&&(this.#t=!1,this.#i&&St(this.#i,()=>{this.#i=null}),this.#c&&(this.#e.before(this.#c),this.#c=null))}update_pending_count(t){this.#b(t),this.#f+=t,this.#v&&Bt(this.#v,this.#f)}get_effect_pending(){return this.#g(),p(this.#v)}error(t){var n=this.#r.onerror;let r=this.#r.failed;if(this.#h||!n&&!r)throw t;this.#s&&(Ee(this.#s),this.#s=null),this.#i&&(Ee(this.#i),this.#i=null),this.#a&&(Ee(this.#a),this.#a=null),j&&(we(this.#n),mt(),we(wn()));var o=!1,s=!1;const a=()=>{if(o){xo();return}o=!0,s&&fo(),Be.ensure(),this.#f=0,this.#a!==null&&St(this.#a,()=>{this.#a=null}),this.#t=this.has_pending_snippet(),this.#s=this.#m(()=>(this.#h=!1,He(()=>this.#l(this.#e)))),this.#d>0?this.#p():this.#t=!1};var l=H;try{ke(null),s=!0,n?.(t,a),s=!1}catch(i){Jt(i,this.#o&&this.#o.parent)}finally{ke(l)}r&&Nt(()=>{this.#a=this.#m(()=>{Be.ensure(),this.#h=!0;try{return He(()=>{r(this.#e,()=>t,()=>a)})}catch(i){return Jt(i,this.#o.parent),null}finally{this.#h=!1}})})}}function To(e,t,n,r){const o=vr;if(n.length===0&&e.length===0){r(t.map(o));return}var s=z,a=q,l=Co();function i(){Promise.all(n.map(c=>Mo(c))).then(c=>{l();try{r([...t.map(o),...c])}catch(u){(a.f&ot)===0&&Jt(u,a)}s?.deactivate(),xn()}).catch(c=>{Jt(c,a)})}e.length>0?Promise.all(e).then(()=>{l();try{return i()}finally{s?.deactivate(),xn()}}):i()}function Co(){var e=q,t=H,n=Ce,r=z;return function(s=!0){ze(e),ke(t),qt(n),s&&r?.activate()}}function xn(){ze(null),ke(null),qt(null)}function vr(e){var t=ue|Se,n=H!==null&&(H.f&ue)!==0?H:null;return q!==null&&(q.f|=Wt),{ctx:Ce,deps:null,effects:null,equals:Fr,f:t,fn:e,reactions:null,rv:0,v:he,wv:0,parent:n??q,ac:null}}function Mo(e,t){let n=q;n===null&&no();var r=n.b,o=void 0,s=Mt(he),a=!H,l=new Map;return Jo(()=>{var i=Ir();o=i.promise;try{Promise.resolve(e()).then(i.resolve,i.reject).then(()=>{c===z&&c.committed&&c.deactivate(),xn()})}catch(f){i.reject(f),xn()}var c=z;if(a){var u=!r.is_pending();r.update_pending_count(1),c.increment(u),l.get(c)?.reject(jt),l.delete(c),l.set(c,i)}const v=(f,m=void 0)=>{if(c.activate(),m)m!==jt&&(s.f|=vt,Bt(s,m));else{(s.f&vt)!==0&&(s.f^=vt),Bt(s,f);for(const[y,S]of l){if(l.delete(y),y===c)break;S.reject(jt)}}a&&(r.update_pending_count(-1),c.decrement(u))};i.promise.then(v,f=>v(null,f||"unknown"))}),pr(()=>{for(const i of l.values())i.reject(jt)}),new Promise(i=>{function c(u){function v(){u===o?i(s):c(o)}u.then(v,v)}c(o)})}function Ao(e){const t=vr(e);return t.equals=qr,t}function rs(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ee(t[n])}}function No(e){for(var t=e.parent;t!==null;){if((t.f&ue)===0)return(t.f&ot)===0?t:null;t=t.parent}return null}function hr(e){var t,n=q;ze(No(e));try{e.f&=~Rt,rs(e),t=ds(e)}finally{ze(n)}return t}function ss(e){var t=hr(e);if(e.equals(t)||(z?.is_fork||(e.v=t),e.wv=us()),!Dt)if(je!==null)(an()||z?.is_fork)&&je.set(e,t);else{var n=(e.f&Fe)===0?Ve:me;pe(e,n)}}let Qn=new Set;const pt=new Map;let os=!1;function Mt(e,t){var n={f:0,v:e,reactions:null,equals:Fr,rv:0,wv:0};return n}function X(e,t){const n=Mt(e);return Po(n),n}function mr(e,t=!1,n=!0){const r=Mt(e);return t||(r.equals=qr),r}function R(e,t,n=!1){H!==null&&(!We||(H.f&kr)!==0)&&Wr()&&(H.f&(ue|at|ur|kr))!==0&&!it?.includes(e)&&uo();let r=n?st(t):t;return Bt(e,r)}function Bt(e,t){if(!e.equals(t)){var n=e.v;Dt?pt.set(e,t):pt.set(e,n),e.v=t;var r=Be.ensure();r.capture(e,n),(e.f&ue)!==0&&((e.f&Se)!==0&&hr(e),pe(e,(e.f&Fe)!==0?me:Ve)),e.wv=us(),is(e,Se),q!==null&&(q.f&me)!==0&&(q.f&(lt|At))===0&&(Oe===null?Oo([e]):Oe.push(e)),!r.is_fork&&Qn.size>0&&!os&&Do()}return t}function Do(){os=!1;var e=$t;kn(!0);const t=Array.from(Qn);try{for(const n of t)(n.f&me)!==0&&pe(n,Ve),fn(n)&&on(n)}finally{kn(e)}Qn.clear()}function nn(e){R(e,e.v+1)}function is(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,o=0;o<r;o++){var s=n[o],a=s.f,l=(a&Se)===0;if(l&&pe(s,t),(a&ue)!==0){var i=s;je?.delete(i),(a&Rt)===0&&(a&Fe&&(s.f|=Rt),is(i,Ve))}else l&&((a&at)!==0&&Qe!==null&&Qe.add(s),Ct(s))}}let Rr=!1;function as(){Rr||(Rr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Pn(e){var t=H,n=q;ke(null),ze(null);try{return e()}finally{ke(t),ze(n)}}function ls(e,t,n,r=n){e.addEventListener(t,()=>Pn(n));const o=e.__on_r;o?e.__on_r=()=>{o(),r(!0)}:e.__on_r=()=>r(!0),as()}let $t=!1;function kn(e){$t=e}let Dt=!1;function Tr(e){Dt=e}let H=null,We=!1;function ke(e){H=e}let q=null;function ze(e){q=e}let it=null;function Po(e){H!==null&&(it===null?it=[e]:it.push(e))}let ye=null,Re=0,Oe=null;function Oo(e){Oe=e}let cs=1,sn=0,Et=sn;function Cr(e){Et=e}function us(){return++cs}function fn(e){var t=e.f;if((t&Se)!==0)return!0;if(t&ue&&(e.f&=~Rt),(t&Ve)!==0){var n=e.deps;if(n!==null)for(var r=n.length,o=0;o<r;o++){var s=n[o];if(fn(s)&&ss(s),s.wv>e.wv)return!0}(t&Fe)!==0&&je===null&&pe(e,me)}return!1}function fs(e,t,n=!0){var r=e.reactions;if(r!==null&&!it?.includes(e))for(var o=0;o<r.length;o++){var s=r[o];(s.f&ue)!==0?fs(s,t,!1):t===s&&(n?pe(s,Se):(s.f&me)!==0&&pe(s,Ve),Ct(s))}}function ds(e){var t=ye,n=Re,r=Oe,o=H,s=it,a=Ce,l=We,i=Et,c=e.f;ye=null,Re=0,Oe=null,H=(c&(lt|At))===0?e:null,it=null,qt(e.ctx),We=!1,Et=++sn,e.ac!==null&&(Pn(()=>{e.ac.abort(jt)}),e.ac=null);try{e.f|=Yn;var u=e.fn,v=u(),f=e.deps;if(ye!==null){var m;if($n(e,Re),f!==null&&Re>0)for(f.length=Re+ye.length,m=0;m<ye.length;m++)f[Re+m]=ye[m];else e.deps=f=ye;if(an()&&(e.f&Fe)!==0)for(m=Re;m<f.length;m++)(f[m].reactions??=[]).push(e)}else f!==null&&Re<f.length&&($n(e,Re),f.length=Re);if(Wr()&&Oe!==null&&!We&&f!==null&&(e.f&(ue|Ve|Se))===0)for(m=0;m<Oe.length;m++)fs(Oe[m],e);return o!==null&&o!==e&&(sn++,Oe!==null&&(r===null?r=Oe:r.push(...Oe))),(e.f&vt)!==0&&(e.f^=vt),v}catch(y){return Qr(y)}finally{e.f^=Yn,ye=t,Re=n,Oe=r,H=o,it=s,qt(a),We=l,Et=i}}function Lo(e,t){let n=t.reactions;if(n!==null){var r=Xs.call(n,e);if(r!==-1){var o=n.length-1;o===0?n=t.reactions=null:(n[r]=n[o],n.pop())}}n===null&&(t.f&ue)!==0&&(ye===null||!ye.includes(t))&&(pe(t,Ve),(t.f&Fe)!==0&&(t.f^=Fe,t.f&=~Rt),rs(t),$n(t,0))}function $n(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Lo(e,n[r])}function on(e){var t=e.f;if((t&ot)===0){pe(e,me);var n=q,r=$t;q=e,$t=!0;try{(t&(at|zs))!==0?Bo(e):_s(e),ps(e);var o=ds(e);e.teardown=typeof o=="function"?o:null,e.wv=cs;var s;Gn&&vo&&(e.f&Se)!==0&&e.deps}finally{$t=r,q=n}}}async function Ho(){await Promise.resolve(),xe()}function p(e){var t=e.f,n=(t&ue)!==0;if(H!==null&&!We){var r=q!==null&&(q.f&ot)!==0;if(!r&&!it?.includes(e)){var o=H.deps;if((H.f&Yn)!==0)e.rv<sn&&(e.rv=sn,ye===null&&o!==null&&o[Re]===e?Re++:ye===null?ye=[e]:ye.includes(e)||ye.push(e));else{(H.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[H]:s.includes(H)||s.push(H)}}}if(Dt){if(pt.has(e))return pt.get(e);if(n){var a=e,l=a.v;return((a.f&me)===0&&a.reactions!==null||hs(a))&&(l=hr(a)),pt.set(a,l),l}}else n&&(!je?.has(e)||z?.is_fork&&!an())&&(a=e,fn(a)&&ss(a),$t&&an()&&(a.f&Fe)===0&&vs(a));if(je?.has(e))return je.get(e);if((e.f&vt)!==0)throw e.v;return e.v}function vs(e){if(e.deps!==null){e.f^=Fe;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&ue)!==0&&(t.f&Fe)===0&&vs(t)}}function hs(e){if(e.v===he)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(pt.has(t)||(t.f&ue)!==0&&hs(t))return!0;return!1}function zt(e){var t=We;try{return We=!0,e()}finally{We=t}}const jo=-7169;function pe(e,t){e.f=e.f&jo|t}function Io(e){q===null&&(H===null&&oo(),so()),Dt&&ro()}function Fo(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ct(e,t,n){var r=q;r!==null&&(r.f&Te)!==0&&(e|=Te);var o={ctx:Ce,deps:null,nodes:null,f:e|Se|Fe,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{on(o),o.f|=Rn}catch(l){throw Ee(o),l}else t!==null&&Ct(o);var s=o;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&Wt)===0&&(s=s.first,(e&at)!==0&&(e&Ft)!==0&&s!==null&&(s.f|=Ft)),s!==null&&(s.parent=r,r!==null&&Fo(s,r),H!==null&&(H.f&ue)!==0&&(e&At)===0)){var a=H;(a.effects??=[]).push(s)}return o}function an(){return H!==null&&!We}function pr(e){const t=ct(cr,null,!1);return pe(t,me),t.teardown=e,t}function ln(e){Io();var t=q.f,n=!H&&(t&lt)!==0&&(t&Rn)===0;if(n){var r=Ce;(r.e??=[]).push(e)}else return ms(e)}function ms(e){return ct(lr|Ks,e,!1)}function Uo(e){Be.ensure();const t=ct(At|Wt,e,!0);return(n={})=>new Promise(r=>{n.outro?St(t,()=>{Ee(t),r(void 0)}):(Ee(t),r(void 0))})}function qo(e){return ct(lr,e,!1)}function Jo(e){return ct(ur|Wt,e,!0)}function On(e,t=0){return ct(cr|t,e,!0)}function ne(e,t=[],n=[],r=[]){To(r,t,n,o=>{ct(cr,()=>e(...o.map(p)),!0)})}function _r(e,t=0){var n=ct(at|t,e,!0);return n}function He(e){return ct(lt|Wt,e,!0)}function ps(e){var t=e.teardown;if(t!==null){const n=Dt,r=H;Tr(!0),ke(null);try{t.call(null)}finally{Tr(n),ke(r)}}}function _s(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const o=n.ac;o!==null&&Pn(()=>{o.abort(jt)});var r=n.next;(n.f&At)!==0?n.parent=null:Ee(n,t),n=r}}function Bo(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&lt)===0&&Ee(t),t=n}}function Ee(e,t=!0){var n=!1;(t||(e.f&Or)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Wo(e.nodes.start,e.nodes.end),n=!0),_s(e,t&&!n),$n(e,0),pe(e,ot);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();ps(e);var o=e.parent;o!==null&&o.first!==null&&bs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Wo(e,t){for(;e!==null;){var n=e===t?null:Ke(e);e.remove(),e=n}}function bs(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function St(e,t,n=!0){var r=[];gs(e,r,!0);var o=()=>{n&&Ee(e),t&&t()},s=r.length;if(s>0){var a=()=>--s||o();for(var l of r)l.out(a)}else o()}function gs(e,t,n){if((e.f&Te)===0){e.f^=Te;var r=e.nodes&&e.nodes.t;if(r!==null)for(const l of r)(l.is_global||n)&&t.push(l);for(var o=e.first;o!==null;){var s=o.next,a=(o.f&Ft)!==0||(o.f&lt)!==0&&(e.f&at)!==0;gs(o,t,a?n:!1),o=s}}}function br(e){ys(e,!0)}function ys(e,t){if((e.f&Te)!==0){e.f^=Te,(e.f&me)===0&&(pe(e,Se),Ct(e));for(var n=e.first;n!==null;){var r=n.next,o=(n.f&Ft)!==0||(n.f&lt)!==0;ys(n,o?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const a of s)(a.is_global||t)&&a.in()}}function ws(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var o=n===r?null:Ke(n);t.append(n),n=o}}const xs=new Set,er=new Set;function Vo(e,t,n,r={}){function o(s){if(r.capture||Zt.call(t,s),!s.cancelBubble)return Pn(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Nt(()=>{t.addEventListener(e,o,r)}):t.addEventListener(e,o,r),o}function Ln(e,t,n,r,o){var s={capture:r,passive:o},a=Vo(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&pr(()=>{t.removeEventListener(e,a,s)})}function ut(e){for(var t=0;t<e.length;t++)xs.add(e[t]);for(var n of er)n(e)}let Mr=null;function Zt(e){var t=this,n=t.ownerDocument,r=e.type,o=e.composedPath?.()||[],s=o[0]||e.target;Mr=e;var a=0,l=Mr===e&&e.__root;if(l){var i=o.indexOf(l);if(i!==-1&&(t===document||t===window)){e.__root=t;return}var c=o.indexOf(t);if(c===-1)return;i<=c&&(a=i)}if(s=o[a]||e.target,s!==t){fr(e,"currentTarget",{configurable:!0,get(){return s||n}});var u=H,v=q;ke(null),ze(null);try{for(var f,m=[];s!==null;){var y=s.assignedSlot||s.parentNode||s.host||null;try{var S=s["__"+r];S!=null&&(!s.disabled||e.target===s)&&S.call(s,e)}catch(_){f?m.push(_):f=_}if(e.cancelBubble||y===t||y===null)break;s=y}if(f){for(let _ of m)queueMicrotask(()=>{throw _});throw f}}finally{e.__root=t,delete e.currentTarget,ke(u),ze(v)}}}function zo(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function _t(e,t){var n=q;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function M(e,t){var n=(t&bo)!==0,r=(t&go)!==0,o,s=!e.startsWith("<!>");return()=>{if(j)return _t(U,null),U;o===void 0&&(o=zo(s?e:"<!>"+e),n||(o=Tt(o)));var a=r||Kr?document.importNode(o,!0):o.cloneNode(!0);if(n){var l=Tt(a),i=a.lastChild;_t(l,i)}else _t(a,a);return a}}function cn(e=""){if(!j){var t=$e(e+"");return _t(t,t),t}var n=U;return n.nodeType!==Tn&&(n.before(n=$e()),we(n)),_t(n,n),n}function En(){if(j)return _t(U,null),U;var e=document.createDocumentFragment(),t=document.createComment(""),n=$e();return e.append(t,n),_t(t,n),e}function E(e,t){if(j){var n=q;((n.f&Rn)===0||n.nodes.end===null)&&(n.nodes.end=U),Nn();return}e!==null&&e.before(t)}const Ko=["touchstart","touchmove"];function Yo(e){return Ko.includes(e)}function Q(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function ks(e,t){return $s(e,t)}function Go(e,t){Xn(),t.intro=t.intro??!1;const n=t.target,r=j,o=U;try{for(var s=Tt(n);s&&(s.nodeType!==Vt||s.data!==Br);)s=Ke(s);if(!s)throw Ut;rt(!0),we(s);const a=$s(e,{...t,anchor:s});return rt(!1),a}catch(a){if(a instanceof Error&&a.message.split(`
`).some(l=>l.startsWith("https://svelte.dev/e/")))throw a;return a!==Ut&&console.warn("Failed to hydrate: ",a),t.recover===!1&&ao(),Xn(),Xr(n),rt(!1),ks(e,t)}finally{rt(r),we(o)}}const Lt=new Map;function $s(e,{target:t,anchor:n,props:r={},events:o,context:s,intro:a=!0}){Xn();var l=new Set,i=v=>{for(var f=0;f<v.length;f++){var m=v[f];if(!l.has(m)){l.add(m);var y=Yo(m);t.addEventListener(m,Zt,{passive:y});var S=Lt.get(m);S===void 0?(document.addEventListener(m,Zt,{passive:y}),Lt.set(m,1)):Lt.set(m,S+1)}}};i(Cn(xs)),er.add(i);var c=void 0,u=Uo(()=>{var v=n??t.appendChild($e());return So(v,{pending:()=>{}},f=>{if(s){Ue({});var m=Ce;m.c=s}if(o&&(r.$$events=o),j&&_t(f,null),c=e(f,r)||{},j&&(q.nodes.end=U,U===null||U.nodeType!==Vt||U.data!==dr))throw An(),Ut;s&&qe()}),()=>{for(var f of l){t.removeEventListener(f,Zt);var m=Lt.get(f);--m===0?(document.removeEventListener(f,Zt),Lt.delete(f)):Lt.set(f,m)}er.delete(i),v!==n&&v.parentNode?.removeChild(v)}});return tr.set(c,u),c}let tr=new WeakMap;function Xo(e,t){const n=tr.get(e);return n?(tr.delete(e),n(t)):Promise.resolve()}function Ye(e){return new Zo(e)}class Zo{#t;#e;constructor(t){var n=new Map,r=(s,a)=>{var l=mr(a,!1,!1);return n.set(s,l),l};const o=new Proxy({...t.props||{},$$events:{}},{get(s,a){return p(n.get(a)??r(a,Reflect.get(s,a)))},has(s,a){return a===Ys?!0:(p(n.get(a)??r(a,Reflect.get(s,a))),Reflect.has(s,a))},set(s,a,l){return R(n.get(a)??r(a,l),l),Reflect.set(s,a,l)}});this.#e=(t.hydrate?Go:ks)(t.component,{target:t.target,anchor:t.anchor,props:o,context:t.context,intro:t.intro??!1,recover:t.recover}),(!t?.props?.$$host||t.sync===!1)&&xe(),this.#t=o.$$events;for(const s of Object.keys(this.#e))s==="$set"||s==="$destroy"||s==="$on"||fr(this,s,{get(){return this.#e[s]},set(a){this.#e[s]=a},enumerable:!0});this.#e.$set=s=>{Object.assign(o,s)},this.#e.$destroy=()=>{Xo(this.#e)}}$set(t){this.#e.$set(t)}$on(t,n){this.#t[t]=this.#t[t]||[];const r=(...o)=>n.call(this,...o);return this.#t[t].push(r),()=>{this.#t[t]=this.#t[t].filter(o=>o!==r)}}$destroy(){this.#e.$destroy()}}const Qo="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Qo);class ei{anchor;#t=new Map;#e=new Map;#n=new Map;#r=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#o=()=>{var t=z;if(this.#t.has(t)){var n=this.#t.get(t),r=this.#e.get(n);if(r)br(r),this.#r.delete(n);else{var o=this.#n.get(n);o&&(this.#e.set(n,o.effect),this.#n.delete(n),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),r=o.effect)}for(const[s,a]of this.#t){if(this.#t.delete(s),s===t)break;const l=this.#n.get(a);l&&(Ee(l.effect),this.#n.delete(a))}for(const[s,a]of this.#e){if(s===n||this.#r.has(s))continue;const l=()=>{if(Array.from(this.#t.values()).includes(s)){var c=document.createDocumentFragment();ws(a,c),c.append($e()),this.#n.set(s,{effect:a,fragment:c})}else Ee(a);this.#r.delete(s),this.#e.delete(s)};this.#l||!r?(this.#r.add(s),St(a,l,!1)):l()}}};#s=t=>{this.#t.delete(t);const n=Array.from(this.#t.values());for(const[r,o]of this.#n)n.includes(r)||(Ee(o.effect),this.#n.delete(r))};ensure(t,n){var r=z,o=Zr();if(n&&!this.#e.has(t)&&!this.#n.has(t))if(o){var s=document.createDocumentFragment(),a=$e();s.append(a),this.#n.set(t,{effect:He(()=>n(a)),fragment:s})}else this.#e.set(t,He(()=>n(this.anchor)));if(this.#t.set(r,t),o){for(const[l,i]of this.#e)l===t?r.skipped_effects.delete(i):r.skipped_effects.add(i);for(const[l,i]of this.#n)l===t?r.skipped_effects.delete(i.effect):r.skipped_effects.add(i.effect);r.oncommit(this.#o),r.ondiscard(this.#s)}else j&&(this.anchor=U),this.#o()}}function ti(e){Ce===null&&to(),ln(()=>{const t=zt(e);if(typeof t=="function")return t})}function F(e,t,n=!1){j&&Nn();var r=new ei(e),o=n?Ft:0;function s(a,l){if(j){const c=zr(e)===Mn;if(a===c){var i=wn();we(i),r.anchor=i,rt(!1),r.ensure(a,l),rt(!0);return}}r.ensure(a,l)}_r(()=>{var a=!1;t((l,i=!0)=>{a=!0,s(i,l)}),a||s(!1,null)},o)}function Hn(e,t){return t}function ni(e,t,n){for(var r=[],o=t.length,s,a=t.length,l=0;l<o;l++){let v=t[l];St(v,()=>{if(s){if(s.pending.delete(v),s.done.add(v),s.pending.size===0){var f=e.outrogroups;nr(Cn(s.done)),f.delete(s),f.size===0&&(e.outrogroups=null)}}else a-=1},!1)}if(a===0){var i=r.length===0&&n!==null;if(i){var c=n,u=c.parentNode;Xr(u),u.append(c),e.items.clear()}nr(t,!i)}else s={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(s)}function nr(e,t=!0){for(var n=0;n<e.length;n++)Ee(e[n],t)}var Ar;function dn(e,t,n,r,o,s=null){var a=e,l=new Map,i=(t&Jr)!==0;if(i){var c=e;a=j?we(Tt(c)):c.appendChild($e())}j&&Nn();var u=null,v=Ao(()=>{var $=n();return Lr($)?$:$==null?[]:Cn($)}),f,m=!0;function y(){_.fallback=u,ri(_,f,a,t,r),u!==null&&(f.length===0?(u.f&nt)===0?br(u):(u.f^=nt,Qt(u,null,a)):St(u,()=>{u=null}))}var S=_r(()=>{f=p(v);var $=f.length;let I=!1;if(j){var B=zr(a)===Mn;B!==($===0)&&(a=wn(),we(a),rt(!1),I=!0)}for(var L=new Set,ee=z,Y=Zr(),W=0;W<$;W+=1){j&&U.nodeType===Vt&&U.data===dr&&(a=U,I=!0,rt(!1));var w=f[W],C=r(w,W),b=m?null:l.get(C);b?(b.v&&Bt(b.v,w),b.i&&Bt(b.i,W),Y&&ee.skipped_effects.delete(b.e)):(b=si(l,m?a:Ar??=$e(),w,C,W,o,t,n),m||(b.e.f|=nt),l.set(C,b)),L.add(C)}if($===0&&s&&!u&&(m?u=He(()=>s(a)):(u=He(()=>s(Ar??=$e())),u.f|=nt)),j&&$>0&&we(wn()),!m)if(Y){for(const[T,oe]of l)L.has(T)||ee.skipped_effects.add(oe.e);ee.oncommit(y),ee.ondiscard(()=>{})}else y();I&&rt(!0),p(v)}),_={effect:S,items:l,outrogroups:null,fallback:u};m=!1,j&&(a=U)}function ri(e,t,n,r,o){var s=(r&po)!==0,a=t.length,l=e.items,i=e.effect.first,c,u=null,v,f=[],m=[],y,S,_,$;if(s)for($=0;$<a;$+=1)y=t[$],S=o(y,$),_=l.get(S).e,(_.f&nt)===0&&(_.nodes?.a?.measure(),(v??=new Set).add(_));for($=0;$<a;$+=1){if(y=t[$],S=o(y,$),_=l.get(S).e,e.outrogroups!==null)for(const b of e.outrogroups)b.pending.delete(_),b.done.delete(_);if((_.f&nt)!==0)if(_.f^=nt,_===i)Qt(_,null,n);else{var I=u?u.next:i;_===e.effect.last&&(e.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),dt(e,u,_),dt(e,_,I),Qt(_,I,n),u=_,f=[],m=[],i=u.next;continue}if((_.f&Te)!==0&&(br(_),s&&(_.nodes?.a?.unfix(),(v??=new Set).delete(_))),_!==i){if(c!==void 0&&c.has(_)){if(f.length<m.length){var B=m[0],L;u=B.prev;var ee=f[0],Y=f[f.length-1];for(L=0;L<f.length;L+=1)Qt(f[L],B,n);for(L=0;L<m.length;L+=1)c.delete(m[L]);dt(e,ee.prev,Y.next),dt(e,u,ee),dt(e,Y,B),i=B,u=Y,$-=1,f=[],m=[]}else c.delete(_),Qt(_,i,n),dt(e,_.prev,_.next),dt(e,_,u===null?e.effect.first:u.next),dt(e,u,_),u=_;continue}for(f=[],m=[];i!==null&&i!==_;)(c??=new Set).add(i),m.push(i),i=i.next;if(i===null)continue}(_.f&nt)===0&&f.push(_),u=_,i=_.next}if(e.outrogroups!==null){for(const b of e.outrogroups)b.pending.size===0&&(nr(Cn(b.done)),e.outrogroups?.delete(b));e.outrogroups.size===0&&(e.outrogroups=null)}if(i!==null||c!==void 0){var W=[];if(c!==void 0)for(_ of c)(_.f&Te)===0&&W.push(_);for(;i!==null;)(i.f&Te)===0&&i!==e.fallback&&W.push(i),i=i.next;var w=W.length;if(w>0){var C=(r&Jr)!==0&&a===0?n:null;if(s){for($=0;$<w;$+=1)W[$].nodes?.a?.measure();for($=0;$<w;$+=1)W[$].nodes?.a?.fix()}ni(e,W,C)}}s&&Nt(()=>{if(v!==void 0)for(_ of v)_.nodes?.a?.apply()})}function si(e,t,n,r,o,s,a,l){var i=(a&ho)!==0?(a&_o)===0?mr(n,!1,!1):Mt(n):null,c=(a&mo)!==0?Mt(o):null;return{v:i,i:c,e:He(()=>(s(t,i??n,c??o,l),()=>{e.delete(r)}))}}function Qt(e,t,n){if(e.nodes)for(var r=e.nodes.start,o=e.nodes.end,s=t&&(t.f&nt)===0?t.nodes.start:n;r!==null;){var a=Ke(r);if(s.before(r),r===o)return;r=a}}function dt(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function oi(e,t,n){var r=e==null?"":""+e;return r===""?null:r}function It(e,t,n,r,o,s){var a=e.__className;if(j||a!==n||a===void 0){var l=oi(n);(!j||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=n}return s}const ii=Symbol("is custom element"),ai=Symbol("is html");function tt(e){if(j){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;rr(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var o=e.checked;rr(e,"checked",null),e.checked=o}}};e.__on_r=n,Nt(n),as()}}function rr(e,t,n,r){var o=li(e);j&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=n)&&(t==="loading"&&(e[Gs]=n),n==null?e.removeAttribute(t):typeof n!="string"&&ci(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function li(e){return e.__attributes??={[ii]:e.nodeName.includes("-"),[ai]:e.namespaceURI===yo}}var Nr=new Map;function ci(e){var t=e.getAttribute("is")||e.nodeName,n=Nr.get(t);if(n)return n;Nr.set(t,n=[]);for(var r,o=e,s=Element.prototype;s!==o;){r=Zs(o);for(var a in r)r[a].set&&n.push(a);o=Hr(o)}return n}function kt(e,t,n=t){var r=new WeakSet;ls(e,"input",async o=>{var s=o?e.defaultValue:e.value;if(s=zn(e)?Kn(s):s,n(s),z!==null&&r.add(z),await Ho(),s!==(s=t())){var a=e.selectionStart,l=e.selectionEnd,i=e.value.length;if(e.value=s??"",l!==null){var c=e.value.length;a===l&&l===i&&c>i?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=a,e.selectionEnd=Math.min(l,c))}}}),(j&&e.defaultValue!==e.value||zt(t)==null&&e.value)&&(n(zn(e)?Kn(e.value):e.value),z!==null&&r.add(z)),On(()=>{var o=t();if(e===document.activeElement){var s=yn??z;if(r.has(s))return}zn(e)&&o===Kn(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function Es(e,t,n=t){ls(e,"change",r=>{var o=r?e.defaultChecked:e.checked;n(o)}),(j&&e.defaultChecked!==e.checked||zt(t)==null)&&n(e.checked),On(()=>{var r=t();e.checked=!!r})}function zn(e){var t=e.type;return t==="number"||t==="range"}function Kn(e){return e===""?null:+e}function Dr(e,t){return e===t||e?.[gn]===t}function ui(e={},t,n,r){return qo(()=>{var o,s;return On(()=>{o=s,s=[],zt(()=>{e!==n(...s)&&(t(e,...s),o&&Dr(n(...o),e)&&t(null,...o))})}),()=>{Nt(()=>{s&&Dr(n(...s),e)&&t(null,...s)})}}),e}function Ge(e,t,n){e.$$events||={},e.$$events[t]||=[],e.$$events[t].push(n)}function Xe(e){for(var t in e)t in this&&(this[t]=e[t])}function gr(e,t,n){if(e==null)return t(void 0),n&&n(void 0),ht;const r=zt(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Ht=[];function fi(e,t){return{subscribe:Me(e,t).subscribe}}function Me(e,t=ht){let n=null;const r=new Set;function o(l){if(Ur(e,l)&&(e=l,n)){const i=!Ht.length;for(const c of r)c[1](),Ht.push(c,e);if(i){for(let c=0;c<Ht.length;c+=2)Ht[c][0](Ht[c+1]);Ht.length=0}}}function s(l){o(l(e))}function a(l,i=ht){const c=[l,i];return r.add(c),r.size===1&&(n=t(o,s)||ht),l(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:o,update:s,subscribe:a}}function Ss(e,t,n){const r=!Array.isArray(e),o=r?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=t.length<2;return fi(n,(a,l)=>{let i=!1;const c=[];let u=0,v=ht;const f=()=>{if(u)return;v();const y=t(r?c[0]:c,a,l);s?a(y):v=typeof y=="function"?y:ht},m=o.map((y,S)=>gr(y,_=>{c[S]=_,u&=~(1<<S),i&&f()},()=>{u|=1<<S}));return i=!0,f(),function(){jr(m),v(),i=!1}})}function P(e){let t;return gr(e,n=>t=n)(),t}let sr=Symbol();function K(e,t,n){const r=n[t]??={store:null,source:mr(void 0),unsubscribe:ht};if(r.store!==e&&!(sr in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=ht;else{var o=!0;r.unsubscribe=gr(e,s=>{o?r.source.v=s:R(r.source,s)}),o=!1}return e&&sr in n?P(e):p(r.source)}function bt(){const e={};function t(){pr(()=>{for(var n in e)e[n].unsubscribe();fr(e,sr,{enumerable:!1,value:!0})})}return[e,t]}function Ie(e,t,n,r){var o=r,s=!0,a=()=>(s&&(s=!1,o=r),o),l;l=e[t],l===void 0&&r!==void 0&&(l=a());var i;i=()=>{var f=e[t];return f===void 0?a():(s=!0,f)};var c=!1,u=vr(()=>(c=!1,i())),v=q;return(function(f,m){if(arguments.length>0){const y=m?p(u):f;return R(u,y),c=!0,o!==void 0&&(o=y),f}return Dt&&c||(v.f&ot)!==0?u.v:p(u)})}const Rs=Me(null),un=Me(!1),gt=Me(!1),yt=Me(null),Kt=Me(""),jn=Me(null),vn=Me(null),A=Me("[Hub]"),de=Me(new Map([["[Hub]",{messages:[],users:new Set,unread:0}]])),In=Me([]),hn=Me({hubHash:"",destName:"rrc.hub",nickname:"",identityPath:"~/.rrc-web/identity"}),yr=Me(new Set),wr=Ss([de,A],([e,t])=>e.get(t)||{messages:[],users:new Set,unread:0}),xr=Ss(de,e=>Array.from(e.keys())),Ts=Object.freeze(Object.defineProperty({__proto__:null,connectionSettings:hn,currentRoom:A,currentRoomData:wr,discoveredHubs:In,hubName:yt,identityHash:jn,latency:vn,nickname:Kt,roomList:xr,rooms:de,rrcConnected:gt,sentMessageIds:yr,ws:Rs,wsConnected:un},Symbol.toStringTag,{value:"Module"}));let et=null;function Cs(){const t=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;et=new WebSocket(t),Rs.set(et),et.onopen=()=>{un.set(!0),or(),Oi(),J({type:"get_state"})},et.onmessage=n=>{const r=JSON.parse(n.data);di(r)},et.onerror=n=>{console.error("WebSocket error:",n),n.currentTarget?.readyState===WebSocket.CLOSED&&fetch("/ws",{method:"HEAD"}).then(r=>{r.status===401&&window.location.reload()}).catch(()=>{})},et.onclose=n=>{un.set(!1),gt.set(!1),vn.set(null),n.code===1008||n.code===1002?(console.log("WebSocket closed due to authentication failure"),window.location.reload()):setTimeout(Cs,3e3)}}function J(e){et&&et.readyState===WebSocket.OPEN&&et.send(JSON.stringify(e))}function di(e){switch(e.type){case"connected":vi(e);break;case"disconnected":hi();break;case"message":mi(e);break;case"notice":pi(e);break;case"error":_i(e);break;case"system":bi(e);break;case"join":gi(e);break;case"part":yi(e);break;case"message_sent":wi(e);break;case"room_joined":xi(e.room,e.users);break;case"room_parted":ki(e.room);break;case"state":$i(e);break;case"latency":Ei(e);break;case"user_list_update":Si(e);break;case"hub_info":Ri(e);break;case"hub_discovered":Ti(e);break;case"discovered_hubs":Ci(e);break;case"nickname_set":Mi(e);break}}function vi(e){gt.set(!0),e.hub_name&&yt.set(e.hub_name),Kt.set(e.nickname||""),e.identity_hash&&jn.set(e.identity_hash)}function hi(){gt.set(!1),yt.set(null),de.update(e=>{const t=e.get("[Hub]")||{messages:[],users:new Set,unread:0};return t.messages.push({type:"system",text:"Disconnected from hub",timestamp:new Date().toLocaleTimeString()}),e.set("[Hub]",t),new Map(e)})}function mi(e){const t=e.room||"[Hub]";de.update(n=>{n.has(t)||n.set(t,{messages:[],users:new Set,unread:0});const r=n.get(t);return r.messages.push({type:"message",user:e.user,text:e.text,timestamp:e.timestamp||new Date().toLocaleTimeString(),message_id:e.message_id,sender_identity:e.sender_identity}),t!==P(A)&&r.unread++,new Map(n)})}function pi(e){const t=e.room||"[Hub]";de.update(n=>(n.has(t)||n.set(t,{messages:[],users:new Set,unread:0}),n.get(t).messages.push({type:"notice",text:e.text,timestamp:e.timestamp||new Date().toLocaleTimeString()}),new Map(n)))}function _i(e){const t=P(A);de.update(n=>{const r=n.get(t);return r&&r.messages.push({type:"error",text:e.text||e.error,timestamp:new Date().toLocaleTimeString()}),new Map(n)})}function bi(e){const t=e.room||P(A);de.update(n=>(n.has(t)||n.set(t,{messages:[],users:new Set,unread:0}),n.get(t).messages.push({type:"system",text:e.text,timestamp:e.timestamp||new Date().toLocaleTimeString()}),new Map(n)))}function gi(e){const t=e.room||P(A);de.update(n=>{n.has(t)||n.set(t,{messages:[],users:new Set,unread:0});const r=n.get(t);return r.messages.push({type:"join",user:e.user,timestamp:e.timestamp||new Date().toLocaleTimeString()}),t!==P(A)&&r.unread++,new Map(n)})}function yi(e){const t=e.room||P(A);de.update(n=>{n.has(t)||n.set(t,{messages:[],users:new Set,unread:0});const r=n.get(t);return r.messages.push({type:"part",user:e.user,timestamp:e.timestamp||new Date().toLocaleTimeString()}),t!==P(A)&&r.unread++,new Map(n)})}function wi(e){e.message_id&&yr.update(t=>{if(t.add(e.message_id),t.size>100){const n=t.values().next().value;t.delete(n)}return t})}function xi(e,t){de.update(n=>{n.has(e)||n.set(e,{messages:[],users:new Set,unread:0});const r=n.get(e);return r.users=new Set(t||[]),new Map(n)}),A.set(e)}function ki(e){de.update(t=>(t.delete(e),new Map(t))),P(A)===e&&A.set("[Hub]")}function $i(e){e.connected!==void 0&&gt.set(e.connected),e.hub_name&&yt.set(e.hub_name),e.nickname&&Kt.set(e.nickname),e.identity_hash&&jn.set(e.identity_hash),e.config&&hn.update(t=>({...t,hubHash:e.config.hub_hash||t.hubHash,destName:e.config.dest_name||t.destName,nickname:e.config.nickname||t.nickname,identityPath:e.config.identity_path||t.identityPath})),e.rooms&&Object.keys(e.rooms).length>0&&de.update(t=>{const n=new Map;return Object.keys(e.rooms).forEach(r=>{const o=e.rooms[r],s=t.get(r);n.set(r,{messages:o.messages||s?.messages||[],users:new Set(o.users||[]),unread:s?.unread||0})}),n})}function Ei(e){e.latency_ms!==void 0&&vn.set(e.latency_ms)}function Si(e){const t=e.room||"[Hub]";de.update(n=>{n.has(t)||n.set(t,{messages:[],users:new Set,unread:0});const r=n.get(t);return r.users=new Set(e.users||[]),new Map(n)})}function Ri(e){yt.set(e.hub_name)}function Ti(e){e.hub&&In.update(t=>t.find(r=>r.hash===e.hub.hash)?t:[...t,e.hub])}function Ci(e){In.set(e.hubs||[])}function Mi(e){e.nickname!==void 0&&Kt.set(e.nickname)}function or(){J({type:"get_discovered_hubs"})}function Ai(e,t,n,r){J({type:"connect",hub_hash:e,dest_name:t,nickname:n,identity_path:r}),Li(e,t,n,r)}function Ms(){J({type:"disconnect"})}function Ni(e){J({type:"join_room",room:e})}function Di(e){J({type:"part_room",room:e})}function Pi(e,t){e.trim()&&J({type:"send_message",text:e,room:t||P(A)})}function Oi(){const e=localStorage.getItem("rrc_connection_settings");if(e)try{const t=JSON.parse(e);hn.set(t)}catch(t){console.error("Failed to load connection settings:",t)}}function Li(e,t,n,r){const o={hubHash:e,destName:t,nickname:n,identityPath:r};localStorage.setItem("rrc_connection_settings",JSON.stringify(o)),hn.set(o)}function As(e){de.update(t=>{const n=t.get(e);return n&&(n.unread=0),new Map(t)})}var Hi=M('<span class="text-sm opacity-70"> </span>'),ji=M('<button class="btn btn-outline btn-error btn-sm">Disconnect</button>'),Ii=M('<div class="flex items-center gap-1"><div class="badge badge-success badge-xs"></div> <span>WS</span></div>'),Fi=M('<div class="flex items-center gap-1"><div class="badge badge-error badge-xs"></div> <span>WS</span></div>'),Ui=M('<div class="flex items-center gap-1"><div class="badge badge-success badge-xs"></div> <span>RRC</span></div>'),qi=M('<div class="flex items-center gap-1"><div class="badge badge-error badge-xs"></div> <span>RRC</span></div>'),Ji=M('<div class="flex items-center gap-1"><span class="opacity-70">Nick:</span> <span> </span></div>'),Bi=M('<div class="flex items-center gap-1"><span class="opacity-70">Latency:</span> <span> </span></div>'),Wi=M('<div class="navbar bg-base-300"><div class="flex-1 px-4 flex items-center gap-2"><img src="/transparent-icon.png" alt="RRC" class="h-8 w-8"/> <span class="text-xl font-bold">RRC Web Client</span> <!> <!></div> <div class="flex-none"><div class="flex items-center gap-3"><div class="flex items-center gap-3 text-sm"><!> <!> <!> <!></div> <div class="badge badge-lg badge-primary"> </div> <button class="btn btn-ghost btn-circle btn-sm" title="Toggle theme"><!></button> <button class="btn btn-ghost btn-sm" title="Logout"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"></path></svg></button></div></div></div>');function Ns(e,t){if(new.target)return Ye({component:Ns,...e});Ue(t,!0);const n=()=>K(yt,"$hubName",i),r=()=>K(gt,"$rrcConnected",i),o=()=>K(un,"$wsConnected",i),s=()=>K(Kt,"$nickname",i),a=()=>K(vn,"$latency",i),l=()=>K(A,"$currentRoom",i),[i,c]=bt();let u=Ie(t,"onToggleTheme"),v=X("dark");function f(){R(v,p(v)==="dark"?"light":"dark",!0),document.documentElement.setAttribute("data-theme",p(v)),u()(p(v))}function m(){Ms()}async function y(){try{await fetch("/api/logout",{method:"POST"}),window.location.reload()}catch(x){console.error("Logout error:",x),window.location.reload()}}function S(x){return x==="[Hub]"?n()||"Hub":x}var _={get onToggleTheme(){return u()},set onToggleTheme(x){u(x),xe()},$set:Xe,$on:(x,N)=>Ge(t,x,N)},$=Wi(),I=h($),B=g(h(I),4);{var L=x=>{var N=Hi(),k=h(N);d(N),ne(()=>Q(k,`- ${n()??""}`)),E(x,N)};F(B,x=>{n()&&x(L)})}var ee=g(B,2);{var Y=x=>{var N=ji();N.__click=m,E(x,N)};F(ee,x=>{r()&&x(Y)})}d(I);var W=g(I,2),w=h(W),C=h(w),b=h(C);{var T=x=>{var N=Ii();E(x,N)},oe=x=>{var N=Fi();E(x,N)};F(b,x=>{o()?x(T):x(oe,!1)})}var D=g(b,2);{var ie=x=>{var N=Ui();E(x,N)},ve=x=>{var N=qi();E(x,N)};F(D,x=>{r()?x(ie):x(ve,!1)})}var Z=g(D,2);{var te=x=>{var N=Ji(),k=g(h(N),2),V=h(k,!0);d(k),d(N),ne(()=>Q(V,s())),E(x,N)};F(Z,x=>{s()&&x(te)})}var ae=g(Z,2);{var _e=x=>{var N=Bi(),k=g(h(N),2),V=h(k);d(k),d(N),ne(()=>Q(V,`${a()??""}ms`)),E(x,N)};F(ae,x=>{a()!==null&&x(_e)})}d(C);var re=g(C,2),be=h(re,!0);d(re);var se=g(re,2);se.__click=f;var le=h(se);{var ce=x=>{var N=cn("â˜€ï¸");E(x,N)},Ae=x=>{var N=cn("ðŸŒ™");E(x,N)};F(le,x=>{p(v)==="dark"?x(ce):x(Ae,!1)})}d(se);var Ne=g(se,2);Ne.__click=y,d(w),d(W),d($),ne(x=>Q(be,x),[()=>S(l())]),E(e,$);var De=qe(_);return c(),De}ut(["click"]);var Vi=M('<span class="badge badge-sm"> </span>'),zi=M('<div class="text-center py-8"><p class="text-base-content/60 text-sm mb-2">No hubs discovered yet</p> <p class="text-base-content/40 text-xs">Listening for announcements...</p></div>'),Ki=M('<span class="ml-2"> </span>'),Yi=M('<li><button class="text-left"><div class="w-full"><div class="font-semibold"> </div> <div class="flex justify-between items-center text-xs opacity-60"><span> </span> <!></div></div></button></li>'),Gi=M('<ul class="menu menu-sm"></ul>'),Xi=M('<div class="modal modal-open"><div class="modal-box max-w-6xl"><h3 class="font-bold text-lg mb-4">Connect to RRC Hub</h3> <div class="grid grid-cols-1 lg:grid-cols-2 gap-4"><div class="card bg-base-200"><div class="card-body"><div class="flex justify-between items-center mb-2"><h4 class="card-title text-base">Discovered Hubs <!></h4> <button class="btn btn-ghost btn-sm btn-circle" title="Refresh">â†»</button></div> <div class="overflow-y-auto max-h-64"><!></div></div></div> <div class="card bg-base-200"><div class="card-body"><h4 class="card-title text-base mb-2">Connection Details</h4> <form class="space-y-3"><div class="form-control w-full"><label class="label" for="hubHash"><span class="label-text">Hub Hash:</span></label> <input type="text" id="hubHash" class="input input-bordered input-sm w-full mb-2" placeholder="destination hash" required/> <div class="label"><span class="label-text-alt">Select a discovered hub or enter manually</span></div></div> <div class="form-control w-full"><label class="label" for="nickname"><span class="label-text">Nickname:</span></label> <input type="text" id="nickname" class="input input-bordered input-sm w-full mb-2" placeholder="optional"/></div> <div class="collapse collapse-arrow bg-base-100 mt-2"><input type="checkbox"/> <div class="collapse-title text-sm font-medium">Advanced Options</div> <div class="collapse-content space-y-3"><div class="form-control w-full"><label class="label" for="destName"><span class="label-text">Destination Aspect</span></label> <input type="text" id="destName" class="input input-bordered input-sm w-full"/> <label class="label" for="destName"><span class="label-text-alt">RNS aspect filter</span></label></div> <div class="form-control w-full"><label class="label" for="identityPath"><span class="label-text">Identity Path</span></label> <input type="text" id="identityPath" class="input input-bordered input-sm w-full"/></div></div></div> <div class="card-actions justify-end mt-4"><button type="submit" class="btn btn-primary p-4">Connect</button></div></form></div></div></div></div></div>');function Ds(e,t){if(new.target)return Ye({component:Ds,...e});Ue(t,!0);const n=()=>K(hn,"$connectionSettings",o),r=()=>K(In,"$discoveredHubs",o),[o,s]=bt();let a=Ie(t,"onConnect"),l=X(st(n().hubHash)),i=X(st(n().destName)),c=X(st(n().nickname)),u=X(st(n().identityPath)),v=X(!1);ln(()=>{R(l,n().hubHash||p(l),!0),R(i,n().destName||p(i),!0),R(c,n().nickname||p(c),!0),R(u,n().identityPath||p(u),!0)}),ti(()=>{or()});function f(){Ai(p(l),p(i),p(c),p(u)),a()()}function m(k){R(l,k.hash,!0),R(i,k.aspect||"rrc.hub",!0)}function y(){or()}function S(k){const V=Date.now()/1e3,ge=Math.floor(V-k);return ge<60?`${ge}s ago`:ge<3600?`${Math.floor(ge/60)}m ago`:`${Math.floor(ge/3600)}h ago`}var _={get onConnect(){return a()},set onConnect(k){a(k),xe()},$set:Xe,$on:(k,V)=>Ge(t,k,V)},$=Xi(),I=h($),B=g(h(I),2),L=h(B),ee=h(L),Y=h(ee),W=h(Y),w=g(h(W));{var C=k=>{var V=Vi(),ge=h(V,!0);d(V),ne(()=>Q(ge,r().length)),E(k,V)};F(w,k=>{r().length>0&&k(C)})}d(W);var b=g(W,2);b.__click=y,d(Y);var T=g(Y,2),oe=h(T);{var D=k=>{var V=zi();E(k,V)},ie=k=>{var V=Gi();dn(V,5,r,Hn,(ge,ft)=>{var Yt=Yi(),Gt=h(Yt);Gt.__click=()=>m(p(ft));var mn=h(Gt),wt=h(mn),Pt=h(wt,!0);d(wt);var pn=g(wt,2),Xt=h(pn),Fn=h(Xt);d(Xt);var Un=g(Xt,2);{var qn=Ze=>{var Ot=Ki(),_n=h(Ot,!0);d(Ot),ne(Jn=>Q(_n,Jn),[()=>S(p(ft).last_seen)]),E(Ze,Ot)};F(Un,Ze=>{p(ft).last_seen&&Ze(qn)})}d(pn),d(mn),d(Gt),d(Yt),ne(Ze=>{Q(Pt,p(ft).name||"Unknown Hub"),Q(Fn,`${Ze??""}...`)},[()=>p(ft).hash?.substring(0,16)]),E(ge,Yt)}),d(V),E(k,V)};F(oe,k=>{r().length===0?k(D):k(ie,!1)})}d(T),d(ee),d(L);var ve=g(L,2),Z=h(ve),te=g(h(Z),2),ae=h(te),_e=g(h(ae),2);tt(_e),mt(2),d(ae);var re=g(ae,2),be=g(h(re),2);tt(be),d(re);var se=g(re,2),le=h(se);tt(le);var ce=g(le,4),Ae=h(ce),Ne=g(h(Ae),2);tt(Ne),mt(2),d(Ae);var De=g(Ae,2),x=g(h(De),2);tt(x),d(De),d(ce),d(se),mt(2),d(te),d(Z),d(ve),d(B),d(I),d($),Ln("submit",te,k=>{k.preventDefault(),f()}),kt(_e,()=>p(l),k=>R(l,k)),kt(be,()=>p(c),k=>R(c,k)),Es(le,()=>p(v),k=>R(v,k)),kt(Ne,()=>p(i),k=>R(i,k)),kt(x,()=>p(u),k=>R(u,k)),E(e,$);var N=qe(_);return s(),N}ut(["click"]);var Zi=M('<span class="badge badge-primary badge-sm"> </span>'),Qi=M("<li><button><span> </span> <!></button></li>"),ea=M('<button class="btn btn-sm btn-outline btn-warning">Part Room</button>'),ta=M('<div class="p-4 bg-base-200 h-full overflow-y-auto flex flex-col"><div class="flex justify-between items-center mb-4"><h3 class="font-bold text-lg">Rooms</h3> <button class="btn btn-ghost btn-sm btn-circle" title="Collapse sidebar">&lt;</button></div> <ul class="menu-compact flex-1"></ul> <div class="divider"></div> <div class="flex flex-col gap-2"><button class="btn btn-sm btn-outline btn-success">Join Room</button> <!></div></div>');function Ps(e,t){if(new.target)return Ye({component:Ps,...e});Ue(t,!0);const n=()=>K(de,"$rooms",a),r=()=>K(yt,"$hubName",a),o=()=>K(xr,"$roomListStore",a),s=()=>K(A,"$currentRoom",a),[a,l]=bt();let i=Ie(t,"onJoinRoom"),c=Ie(t,"onPartRoom"),u=Ie(t,"onToggleSidebar");function v(w){A.set(w),As(w)}function f(w){return n().get(w)?.unread||0}function m(w){return w==="[Hub]"?r()||"Hub":w}var y={get onJoinRoom(){return i()},set onJoinRoom(w){i(w),xe()},get onPartRoom(){return c()},set onPartRoom(w){c(w),xe()},get onToggleSidebar(){return u()},set onToggleSidebar(w){u(w),xe()},$set:Xe,$on:(w,C)=>Ge(t,w,C)},S=ta(),_=h(S),$=g(h(_),2);$.__click=function(...w){u()?.apply(this,w)},d(_);var I=g(_,2);dn(I,5,o,Hn,(w,C)=>{var b=Qi(),T=h(b);T.__click=()=>v(p(C));var oe=h(T),D=h(oe,!0);d(oe);var ie=g(oe,2);{var ve=Z=>{var te=Zi(),ae=h(te,!0);d(te),ne(_e=>Q(ae,_e),[()=>f(p(C))]),E(Z,te)};F(ie,Z=>{f(p(C))>0&&Z(ve)})}d(T),d(b),ne(Z=>{It(T,1,`flex justify-between items-center w-full text-left px-2 py-2 rounded ${p(C)===s()?"bg-primary text-primary-content hover:bg-primary-focus":"hover:bg-base-300"}`),Q(D,Z)},[()=>m(p(C))]),E(w,b)}),d(I);var B=g(I,4),L=h(B);L.__click=function(...w){i()?.apply(this,w)};var ee=g(L,2);{var Y=w=>{var C=ea();C.__click=function(...b){c()?.apply(this,b)},E(w,C)};F(ee,w=>{s()!=="[Hub]"&&w(Y)})}d(B),d(S),E(e,S);var W=qe(y);return l(),W}ut(["click"]);var na=M('<div class="flex justify-end p-2 border-b border-base-300"><label class="label cursor-pointer gap-2"><span class="label-text text-xs">Show timestamps</span> <input type="checkbox" class="toggle toggle-sm"/></label></div>'),ra=M('<span class="text-xs opacity-40 mr-2"> </span>'),sa=M('<div class="my-2"><!> <span> </span></div>'),oa=M('<span class="text-xs opacity-40 mr-2"> </span>'),ia=M('<div class="my-1"><!> <span> </span> <span class="ml-2" style="white-space: pre-line;"> </span></div>'),aa=M('<button class="scroll-to-bottom-btn btn btn-circle btn-primary btn-sm svelte-1o304hm" aria-label="Scroll to bottom"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg></button>'),la=M('<div class="message-area-wrapper svelte-1o304hm"><!> <div class="message-area p-4"></div> <!></div>');function ir(e,t){if(new.target)return Ye({component:ir,...e});Ue(t,!0);const n=()=>K(wr,"$currentRoomData",a),r=()=>K(jn,"$identityHash",a),o=()=>K(yr,"$sentMessageIds",a),s=()=>K(A,"$currentRoom",a),[a,l]=bt();let i,c=X(!0),u=X(!1),v=X(!0);function f(){return i?i.scrollHeight-i.scrollTop-i.clientHeight<=100:!0}function m(){const b=f();R(c,b,!0),R(u,!b)}function y(){i&&(i.scrollTop=i.scrollHeight,R(c,!0),R(u,!1))}ln(()=>{const b=n()?.messages;i&&p(c)&&b&&requestAnimationFrame(()=>{i&&p(c)&&(i.scrollTop=i.scrollHeight)})}),ln(()=>{n()?.room_id,R(c,!0),R(u,!1)});function S(b){return!!(b.type==="message"&&b.message_id&&b.sender_identity&&r()&&o()&&o().has(b.message_id)&&b.sender_identity===r())}function _(b){switch(b.type){case"join":return`â†’ ${b.user} joined`;case"part":return`â† ${b.user} left`;case"notice":return $(b.text);default:return b.text}}function $(b){if(!b)return b;const T=b.match(/^room\s+(\S+):\s*registered;\s*mode=([^;]+);\s*topic=(.+)$/);if(T){const[,oe,D,ie]=T;return ie?`Topic: ${ie}`:`Room ${oe} registered`}return b}var I={$set:Xe,$on:(b,T)=>Ge(t,b,T)},B=la(),L=h(B);{var ee=b=>{var T=na(),oe=h(T),D=g(h(oe),2);tt(D),d(oe),d(T),Es(D,()=>p(v),ie=>R(v,ie)),E(b,T)};F(L,b=>{s()!=="[Hub]"&&b(ee)})}var Y=g(L,2);dn(Y,7,()=>n()?.messages||[],(b,T)=>b.timestamp+(b.text||b.type||"")+(b.user||"")+T,(b,T)=>{var oe=En(),D=rn(oe);{var ie=Z=>{var te=sa(),ae=h(te);{var _e=se=>{var le=ra(),ce=h(le,!0);d(le),ne(()=>Q(ce,p(T).timestamp)),E(se,le)};F(ae,se=>{(p(v)||s()==="[Hub]")&&se(_e)})}var re=g(ae,2),be=h(re,!0);d(re),d(te),ne(se=>{It(re,1,`text-sm opacity-60 ${p(T).type==="join"?"text-success":p(T).type==="part"?"text-warning":p(T).type==="error"?"text-error":"text-info"}`),Q(be,se)},[()=>_(p(T))]),E(Z,te)},ve=Z=>{var te=En(),ae=rn(te);{var _e=re=>{var be=ia(),se=h(be);{var le=x=>{var N=oa(),k=h(N,!0);d(N),ne(()=>Q(k,p(T).timestamp)),E(x,N)};F(se,x=>{(p(v)||s()==="[Hub]")&&x(le)})}var ce=g(se,2),Ae=h(ce,!0);d(ce);var Ne=g(ce,2),De=h(Ne,!0);d(Ne),d(be),ne(x=>{It(ce,1,`font-semibold ${x??""}`),Q(Ae,p(T).user),Q(De,p(T).text)},[()=>S(p(T))?"text-accent":"text-primary"]),E(re,be)};F(ae,re=>{p(T).type==="message"&&re(_e)},!0)}E(Z,te)};F(D,Z=>{p(T).type==="join"||p(T).type==="part"||p(T).type==="notice"||p(T).type==="system"||p(T).type==="error"?Z(ie):Z(ve,!1)})}E(b,oe)}),d(Y),ui(Y,b=>i=b,()=>i);var W=g(Y,2);{var w=b=>{var T=aa();T.__click=y,E(b,T)};F(W,b=>{p(u)&&b(w)})}d(B),Ln("scroll",Y,m),E(e,B);var C=qe(I);return l(),C}ut(["click"]);const ca="modulepreload",ua=function(e){return"/static/"+e},Pr={},Os=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(v=>Promise.resolve(v).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};var a=c;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),i=l?.nonce||l?.getAttribute("nonce");o=c(n.map(u=>{if(u=ua(u),u in Pr)return;Pr[u]=!0;const v=u.endsWith(".css"),f=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=v?"stylesheet":ca,v||(m.as="script"),m.crossOrigin="",m.href=u,i&&m.setAttribute("nonce",i),document.head.appendChild(m),v)return new Promise((y,S)=>{m.addEventListener("load",y),m.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(l){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l}return o.then(l=>{for(const i of l||[])i.status==="rejected"&&s(i.reason);return t().catch(s)})};function fa(e){if(!e.startsWith("/"))return!1;const t=e.slice(1).trim().split(/\s+/),n=t[0].toLowerCase(),r=t.slice(1);switch(n){case"stats":return da();case"reload":return va();case"who":return ha(r);case"kline":return ma(r);case"kick":return pa(r);case"register":return _a(r);case"unregister":return ba(r);case"topic":return ga(r);case"mode":return ya(r);case"op":return wa(r);case"deop":return xa(r);case"voice":return ka(r);case"devoice":return $a(r);case"ban":return Ea(r);case"invite":return Sa(r);case"join":return Ra(r);case"part":case"leave":return Ta(r);case"nick":return Ca(r);case"msg":case"query":return Ma(r);case"help":return Aa();default:return Na(e)}}function da(){return J({type:"send_command",command:"/stats",room:P(A)}),!0}function va(){return J({type:"send_command",command:"/reload",room:P(A)}),!0}function ha(e){const t=e.length>0?e[0]:P(A);return J({type:"send_command",command:`/who ${t}`,room:P(A)}),!0}function ma(e){if(e.length<1)return fe("Usage: /kline <add|del|list> [target]"),!0;const t=e[0],n=e.slice(1).join(" ");return t==="list"?J({type:"send_command",command:"/kline list",room:P(A)}):t==="add"&&n?J({type:"send_command",command:`/kline add ${n}`,room:P(A)}):t==="del"&&n?J({type:"send_command",command:`/kline del ${n}`,room:P(A)}):fe("Usage: /kline <add|del|list> [target]"),!0}function pa(e){if(e.length<2)return fe("Usage: /kick <room> <nick|hashprefix>"),!0;const t=e[0],n=e.slice(1).join(" ");return J({type:"send_command",command:`/kick ${t} ${n}`,room:P(A)}),!0}function _a(e){const t=e.length>0?e[0]:P(A);return J({type:"send_command",command:`/register ${t}`,room:P(A)}),!0}function ba(e){const t=e.length>0?e[0]:P(A);return J({type:"send_command",command:`/unregister ${t}`,room:P(A)}),!0}function ga(e){if(e.length===0)return fe("Usage: /topic <room> [topic]"),!0;const t=e[0],n=e.slice(1).join(" ");return J({type:"send_command",command:`/topic ${t}${n?" "+n:""}`,room:P(A)}),!0}function ya(e){if(e.length<2)return fe("Usage: /mode <room> <mode> [args]"),!0;const t=e[0],n=e[1],r=e.slice(2).join(" ");return J({type:"send_command",command:`/mode ${t} ${n}${r?" "+r:""}`,room:P(A)}),!0}function wa(e){if(e.length<2)return fe("Usage: /op <room> <nick|hashprefix|hash>"),!0;const t=e[0],n=e.slice(1).join(" ");return J({type:"send_command",command:`/op ${t} ${n}`,room:P(A)}),!0}function xa(e){if(e.length<2)return fe("Usage: /deop <room> <nick|hashprefix|hash>"),!0;const t=e[0],n=e.slice(1).join(" ");return J({type:"send_command",command:`/deop ${t} ${n}`,room:P(A)}),!0}function ka(e){if(e.length<2)return fe("Usage: /voice <room> <nick|hashprefix|hash>"),!0;const t=e[0],n=e.slice(1).join(" ");return J({type:"send_command",command:`/voice ${t} ${n}`,room:P(A)}),!0}function $a(e){if(e.length<2)return fe("Usage: /devoice <room> <nick|hashprefix|hash>"),!0;const t=e[0],n=e.slice(1).join(" ");return J({type:"send_command",command:`/devoice ${t} ${n}`,room:P(A)}),!0}function Ea(e){if(e.length<2)return fe("Usage: /ban <room> <add|del|list> [target]"),!0;const t=e[0],n=e[1],r=e.slice(2).join(" ");return n==="list"?J({type:"send_command",command:`/ban ${t} list`,room:P(A)}):(n==="add"||n==="del")&&r?J({type:"send_command",command:`/ban ${t} ${n} ${r}`,room:P(A)}):fe("Usage: /ban <room> <add|del|list> [target]"),!0}function Sa(e){if(e.length<2)return fe("Usage: /invite <room> <add|del|list> [target]"),!0;const t=e[0],n=e[1],r=e.slice(2).join(" ");return n==="list"?J({type:"send_command",command:`/invite ${t} list`,room:P(A)}):(n==="add"||n==="del")&&r?J({type:"send_command",command:`/invite ${t} ${n} ${r}`,room:P(A)}):fe("Usage: /invite <room> <add|del|list> [target]"),!0}function Ra(e){if(e.length===0)return fe("Usage: /join <room>"),!0;const t=e[0];return J({type:"join_room",room:t}),!0}function Ta(e){const t=e.length>0?e[0]:P(A);return t==="[Hub]"?(fe("Cannot part from [Hub]"),!0):(J({type:"part_room",room:t}),!0)}function Ca(e){if(e.length===0)return fe("Usage: /nick <nickname>"),!0;const t=e.join(" ");return J({type:"set_nickname",nickname:t}),!0}function Ma(e){if(e.length<2)return fe("Usage: /msg <room> <message>"),!0;const t=e[0],n=e.slice(1).join(" ");return J({type:"send_message",text:n,room:t}),!0}function Aa(e){const t=`
Available commands (rrcd v0.1+):

Room Moderation Commands:
  /kick <room> <nick>           - Remove user from room
  /register <room>              - Persist room settings
  /unregister <room>            - Remove room settings
  /topic <room> [topic]         - Show or set room topic
  /mode <room> <flags>          - Set room modes (+m, +i, +k, +t, +n, +r)
  /op <room> <nick>             - Grant operator status
  /deop <room> <nick>           - Revoke operator status
  /voice <room> <nick>          - Grant voice (in moderated rooms)
  /devoice <room> <nick>        - Revoke voice
  /ban <room> add <nick>        - Ban user from room
  /ban <room> del <nick>        - Remove room ban
  /ban <room> list              - List room bans
  /invite <room> add <nick>     - Invite user to room
  /invite <room> del <nick>     - Remove room invite
  /invite <room> list           - List room invites

Client Commands:
  /join <room>                  - Join a room
  /part [room]                  - Leave a room (current room if not specified)
  /nick <nickname>              - Change your nickname
  /msg <room> <message>         - Send message to specific room
  /help                         - Show this help message

Room Modes:
  +m  Moderated (only voiced/ops can speak)
  +i  Invite-only
  +k  Key/password required
  +t  Topic ops-only
  +n  No outside messages
  +r  Registered
    `.trim();return Da(t),!0}function Na(e){return J({type:"send_command",command:e,room:P(A)}),!0}function fe(e){Os(async()=>{const{rooms:t,currentRoom:n}=await Promise.resolve().then(()=>Ts);return{rooms:t,currentRoom:n}},void 0).then(({rooms:t,currentRoom:n})=>{const r=P(n);t.update(o=>{const s=o.get(r);return s&&s.messages.push({type:"error",text:e,timestamp:new Date().toLocaleTimeString()}),new Map(o)})})}function Da(e){Os(async()=>{const{rooms:t,currentRoom:n}=await Promise.resolve().then(()=>Ts);return{rooms:t,currentRoom:n}},void 0).then(({rooms:t,currentRoom:n})=>{const r=P(n);t.update(o=>{const s=o.get(r);return s&&s.messages.push({type:"notice",text:e,timestamp:new Date().toLocaleTimeString()}),new Map(o)})})}var Pa=M('<div class="p-4 bg-base-200"><div class="flex gap-2"><input type="text" placeholder="Type a message... (type /help for commands)" class="input input-bordered flex-1"/> <button class="btn btn-outline btn-primary p-4">Send</button></div></div>');function ar(e,t){if(new.target)return Ye({component:ar,...e});Ue(t,!0);const n=()=>K(A,"$currentRoom",r),[r,o]=bt();let s=X("");function a(){if(p(s).trim()){if(p(s).startsWith("/")&&fa(p(s))){R(s,"");return}Pi(p(s),n()),R(s,"")}}function l(y){y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),a())}var i={$set:Xe,$on:(y,S)=>Ge(t,y,S)},c=Pa(),u=h(c),v=h(u);tt(v);var f=g(v,2);f.__click=a,d(u),d(c),Ln("keypress",v,l),kt(v,()=>p(s),y=>R(s,y)),E(e,c);var m=qe(i);return o(),m}ut(["click"]);var Oa=M('<p class="text-sm opacity-60">No users</p>'),La=M('<li><span class="text-sm"> </span></li>'),Ha=M('<ul class="menu menu-compact"></ul>'),ja=M('<div class="p-4 bg-base-200 h-full overflow-y-auto"><h3 class="font-bold text-lg mb-4">Users</h3> <!></div>');function Ls(e,t){if(new.target)return Ye({component:Ls,...e});Ue(t,!0);const n=()=>K(wr,"$currentRoomData",r),[r,o]=bt();var s={$set:Xe,$on:(v,f)=>Ge(t,v,f)},a=ja(),l=g(h(a),2);{var i=v=>{var f=Oa();E(v,f)},c=v=>{var f=Ha();dn(f,5,()=>Array.from(n().users),Hn,(m,y)=>{var S=La(),_=h(S),$=h(_,!0);d(_),d(S),ne(()=>Q($,p(y))),E(m,S)}),d(f),E(v,f)};F(l,v=>{n().users.size===0?v(i):v(c,!1)})}d(a),E(e,a);var u=qe(s);return o(),u}var Ia=M('<div class="modal modal-open"><div class="modal-box"><h3 class="font-bold text-lg">Join Room</h3> <form><div class="form-control mt-4"><label class="label" for="roomNameInput"><span class="mr-4 label-text">Room Name:</span></label> <input type="text" id="roomNameInput" class="input input-bordered" placeholder="Enter room name" required/></div> <div class="modal-action"><button type="button" class="p-4 mr-4 btn btn-error">Cancel</button> <button type="submit" class="p-4 btn btn-primary">Join</button></div></form></div></div>');function Hs(e,t){if(new.target)return Ye({component:Hs,...e});Ue(t,!0);let n=Ie(t,"show",7,!1),r=Ie(t,"onClose"),o=X("");function s(v){v.preventDefault(),p(o).trim()&&(Ni(p(o).trim()),R(o,""),r()())}function a(){R(o,""),r()()}var l={get show(){return n()},set show(v=!1){n(v),xe()},get onClose(){return r()},set onClose(v){r(v),xe()},$set:Xe,$on:(v,f)=>Ge(t,v,f)},i=En(),c=rn(i);{var u=v=>{var f=Ia(),m=h(f),y=g(h(m),2),S=h(y),_=g(h(S),2);tt(_),d(S);var $=g(S,2),I=h($);I.__click=a,mt(2),d($),d(y),d(m),d(f),Ln("submit",y,s),kt(_,()=>p(o),B=>R(o,B)),E(v,f)};F(c,v=>{n()&&v(u)})}return E(e,i),qe(l)}ut(["click"]);var Fa=M('<div class="flex items-center gap-2"><span class="opacity-70">Hub:</span> <span> </span></div>'),Ua=M('<div class="flex items-center gap-2"><span class="opacity-70">Nickname:</span> <span> </span></div>'),qa=M('<div class="flex items-center gap-2"><span class="opacity-70">Latency:</span> <span> </span></div>'),Ja=M('<button class="btn btn-sm btn-error justify-start">Disconnect</button>'),Ba=M('<span class="badge badge-primary badge-sm"> </span>'),Wa=M("<li><button><span> </span> <!></button></li>"),Va=M('<button class="btn btn-sm btn-outline btn-warning">Part Room</button>'),za=M('<div class="fixed inset-0 z-50 flex"><div class="fixed inset-0 bg-black/50" role="button" tabindex="0"></div> <div class="relative w-80 bg-base-200 h-full overflow-y-auto shadow-xl"><div class="p-4"><div class="flex justify-between items-center mb-4"><h2 class="text-xl font-bold">Menu</h2> <button class="btn btn-ghost btn-sm btn-circle">âœ•</button></div> <div class="card bg-base-300 mb-4"><div class="card-body p-3"><h3 class="font-semibold text-sm mb-2">Status</h3> <div class="flex flex-col gap-2 text-sm"><div class="flex items-center gap-2"><div></div> <span> </span></div> <div class="flex items-center gap-2"><div></div> <span> </span></div> <!> <!> <!></div></div></div> <div class="flex flex-col gap-2 mb-4"><button class="btn btn-sm btn-ghost justify-start"><!></button> <!></div> <div class="divider"></div> <h3 class="font-bold text-lg mb-2">Rooms</h3> <ul class="menu menu-compact mb-4"></ul> <div class="flex flex-col gap-2"><button class="btn btn-sm btn-outline btn-primary">Join Room</button> <!></div></div></div></div>');function js(e,t){if(new.target)return Ye({component:js,...e});Ue(t,!0);const n=()=>K(de,"$rooms",u),r=()=>K(un,"$wsConnected",u),o=()=>K(gt,"$rrcConnected",u),s=()=>K(yt,"$hubName",u),a=()=>K(Kt,"$nickname",u),l=()=>K(vn,"$latency",u),i=()=>K(xr,"$roomListStore",u),c=()=>K(A,"$currentRoom",u),[u,v]=bt();let f=Ie(t,"isOpen",7,!1),m=Ie(t,"onClose"),y=Ie(t,"onToggleTheme"),S=Ie(t,"onJoinRoom"),_=Ie(t,"onPartRoom"),$=X("dark");function I(){R($,p($)==="dark"?"light":"dark",!0),document.documentElement.setAttribute("data-theme",p($)),y()(p($))}function B(){Ms(),m()()}function L(D){A.set(D),As(D),m()()}function ee(D){return n().get(D)?.unread||0}function Y(){S()(),m()()}function W(){_()(),m()()}var w={get isOpen(){return f()},set isOpen(D=!1){f(D),xe()},get onClose(){return m()},set onClose(D){m(D),xe()},get onToggleTheme(){return y()},set onToggleTheme(D){y(D),xe()},get onJoinRoom(){return S()},set onJoinRoom(D){S(D),xe()},get onPartRoom(){return _()},set onPartRoom(D){_(D),xe()},$set:Xe,$on:(D,ie)=>Ge(t,D,ie)},C=En(),b=rn(C);{var T=D=>{var ie=za(),ve=h(ie);ve.__click=function(...O){m()?.apply(this,O)},ve.__keydown=O=>O.key==="Enter"&&m()();var Z=g(ve,2),te=h(Z),ae=h(te),_e=g(h(ae),2);_e.__click=function(...O){m()?.apply(this,O)},d(ae);var re=g(ae,2),be=h(re),se=g(h(be),2),le=h(se),ce=h(le),Ae=g(ce,2),Ne=h(Ae);d(Ae),d(le);var De=g(le,2),x=h(De),N=g(x,2),k=h(N);d(N),d(De);var V=g(De,2);{var ge=O=>{var G=Fa(),Pe=g(h(G),2),Je=h(Pe,!0);d(Pe),d(G),ne(()=>Q(Je,s())),E(O,G)};F(V,O=>{s()&&O(ge)})}var ft=g(V,2);{var Yt=O=>{var G=Ua(),Pe=g(h(G),2),Je=h(Pe,!0);d(Pe),d(G),ne(()=>Q(Je,a())),E(O,G)};F(ft,O=>{a()&&O(Yt)})}var Gt=g(ft,2);{var mn=O=>{var G=qa(),Pe=g(h(G),2),Je=h(Pe);d(Pe),d(G),ne(()=>Q(Je,`${l()??""}ms`)),E(O,G)};F(Gt,O=>{l()!==null&&O(mn)})}d(se),d(be),d(re);var wt=g(re,2),Pt=h(wt);Pt.__click=I;var pn=h(Pt);{var Xt=O=>{var G=cn("â˜€ï¸ Light Mode");E(O,G)},Fn=O=>{var G=cn("ðŸŒ™ Dark Mode");E(O,G)};F(pn,O=>{p($)==="dark"?O(Xt):O(Fn,!1)})}d(Pt);var Un=g(Pt,2);{var qn=O=>{var G=Ja();G.__click=B,E(O,G)};F(Un,O=>{o()&&O(qn)})}d(wt);var Ze=g(wt,6);dn(Ze,5,i,Hn,(O,G)=>{var Pe=Wa(),Je=h(Pe);Je.__click=()=>L(p(G));var Bn=h(Je),qs=h(Bn,!0);d(Bn);var Js=g(Bn,2);{var Bs=Wn=>{var Vn=Ba(),Ws=h(Vn,!0);d(Vn),ne(Vs=>Q(Ws,Vs),[()=>ee(p(G))]),E(Wn,Vn)};F(Js,Wn=>{ee(p(G))>0&&Wn(Bs)})}d(Je),d(Pe),ne(()=>{It(Je,1,`flex justify-between items-center ${p(G)===c()?"active":""}`),Q(qs,p(G))}),E(O,Pe)}),d(Ze);var Ot=g(Ze,2),_n=h(Ot);_n.__click=Y;var Jn=g(_n,2);{var Us=O=>{var G=Va();G.__click=W,E(O,G)};F(Jn,O=>{c()!=="[Hub]"&&O(Us)})}d(Ot),d(te),d(Z),d(ie),ne(()=>{It(ce,1,`badge ${r()?"badge-success":"badge-error"} badge-xs`),Q(Ne,`WebSocket: ${r()?"Connected":"Disconnected"}`),It(x,1,`badge ${o()?"badge-success":"badge-error"} badge-xs`),Q(k,`RRC: ${o()?"Connected":"Disconnected"}`)}),E(D,ie)};F(b,D=>{f()&&D(T)})}E(e,C);var oe=qe(w);return v(),oe}ut(["click","keydown"]);var Ka=M('<div class="w-64 border-r border-base-300 flex-shrink-0"><!></div>'),Ya=M('<div class="border-r border-base-300 flex-shrink-0 bg-base-200"><button class="btn btn-ghost btn-sm m-2" title="Expand sidebar">&gt;</button></div>'),Ga=M('<div class="hidden md:flex md:flex-col h-full"><!> <div class="flex flex-1 min-h-0"><!> <div class="flex-1 flex min-h-0"><div class="flex-1 flex flex-col min-h-0"><!> <!></div> <div class="hidden xl:block w-64 border-l border-base-300 overflow-y-auto flex-shrink-0"><!></div></div></div></div> <div class="md:hidden flex flex-col h-full"><div class="navbar bg-base-300"><div class="flex-none"><button class="btn btn-square btn-ghost" aria-label="Toggle mobile menu"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div> <div class="flex-1 px-2"><span class="text-lg font-bold">RRC</span> <span class="ml-2 text-sm opacity-70"> </span></div></div> <!> <div class="flex-1 flex flex-col min-h-0"><!> <!></div></div> <!> <!>',1);function Is(e,t){if(new.target)return Ye({component:Is,...e});Ue(t,!0);const n=()=>K(A,"$currentRoom",o),r=()=>K(gt,"$rrcConnected",o),[o,s]=bt();let a=X(!1),l=X(!1),i=X(!1);function c(){}function u(){R(a,!0)}function v(){const k=n();k!=="[Hub]"&&Di(k)}function f(){R(a,!1)}function m(k){}function y(){R(l,!p(l))}function S(){R(i,!p(i))}function _(){R(i,!1)}var $={$set:Xe,$on:(k,V)=>Ge(t,k,V)},I=Ga(),B=rn(I),L=h(B);Ns(L,{onToggleTheme:m});var ee=g(L,2),Y=h(ee);{var W=k=>{var V=Ka(),ge=h(V);Ps(ge,{onJoinRoom:u,onPartRoom:v,onToggleSidebar:y}),d(V),E(k,V)},w=k=>{var V=Ya(),ge=h(V);ge.__click=y,d(V),E(k,V)};F(Y,k=>{p(l)?k(w,!1):k(W)})}var C=g(Y,2),b=h(C),T=h(b);ir(T,{});var oe=g(T,2);ar(oe,{}),d(b);var D=g(b,2),ie=h(D);Ls(ie,{}),d(D),d(C),d(ee),d(B);var ve=g(B,2),Z=h(ve),te=h(Z),ae=h(te);ae.__click=S,d(te);var _e=g(te,2),re=g(h(_e),2),be=h(re);d(re),d(_e),d(Z);var se=g(Z,2);js(se,{get isOpen(){return p(i)},onClose:_,onToggleTheme:m,onJoinRoom:u,onPartRoom:v});var le=g(se,2),ce=h(le);ir(ce,{});var Ae=g(ce,2);ar(Ae,{}),d(le),d(ve);var Ne=g(ve,2);{var De=k=>{Ds(k,{onConnect:c})};F(Ne,k=>{r()||k(De)})}var x=g(Ne,2);Hs(x,{get show(){return p(a)},onClose:f}),ne(()=>Q(be,`- ${n()??""}`)),E(e,I);var N=qe($);return s(),N}ut(["click"]);var Xa=M('<div class="label"><span class="label-text-alt text-error"> </span></div>'),Za=M('<span class="loading loading-spinner"></span> Authenticating...',1),Qa=M('<div class="hero min-h-screen bg-base-200"><div class="hero-content flex-col"><div class="text-center lg:text-left mb-8"><img alt="RRC Logo" class="w-64 mx-auto"/> <p>Authentication has been enabled on this application.</p> <p>Please enter your authentication token to continue.</p></div> <div class="card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100"><div class="card-body"><div class="form-control"><label class="label" for="token-input"><span class="label-text">Authentication Token</span></label> <input id="token-input" type="password" placeholder="Enter your token" class="input input-bordered" autocomplete="off"/> <!></div> <div class="form-control mt-6"><button class="btn btn-primary"><!></button></div> <div class="divider"></div> <div class="text-sm opacity-70"><p class="mb-2">To generate a token, run:</p> <code class="block bg-base-300 p-2 rounded text-xs overflow-x-auto">python -c "import secrets; print(secrets.token_urlsafe(32))"</code> <p class="mt-2">Add the token to your <code>config.json</code> file.</p></div></div></div></div></div>');function Fs(e,t){if(new.target)return Ye({component:Fs,...e});Ue(t,!0);let n=X(""),r=X(""),o=X(!1),s=X(!0);ln(()=>{const w=document.documentElement.getAttribute("data-theme");w?R(s,w==="dark"):R(s,window.matchMedia("(prefers-color-scheme: dark)").matches,!0);const C=new MutationObserver(()=>{const b=document.documentElement.getAttribute("data-theme");b&&R(s,b==="dark")});return C.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>C.disconnect()});async function a(){R(r,""),R(o,!0);try{const w=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:p(n)})}),C=await w.json();w.ok?window.location.reload():R(r,C.error||"Login failed",!0)}catch(w){R(r,"Failed to connect to server"),console.error("Login error:",w)}finally{R(o,!1)}}function l(w){w.key==="Enter"&&!p(o)&&a()}var i={$set:Xe,$on:(w,C)=>Ge(t,w,C)},c=Qa(),u=h(c),v=h(u),f=h(v);mt(4),d(v);var m=g(v,2),y=h(m),S=h(y),_=g(h(S),2);tt(_),_.__keydown=l;var $=g(_,2);{var I=w=>{var C=Xa(),b=h(C),T=h(b,!0);d(b),d(C),ne(()=>Q(T,p(r))),E(w,C)};F($,w=>{p(r)&&w(I)})}d(S);var B=g(S,2),L=h(B);L.__click=a;var ee=h(L);{var Y=w=>{var C=Za();mt(),E(w,C)},W=w=>{var C=cn("Login");E(w,C)};F(ee,w=>{p(o)?w(Y):w(W,!1)})}return d(L),d(B),mt(4),d(y),d(m),d(u),d(c),ne(w=>{rr(f,"src",p(s)?"/transparent-logo-dark.png":"/transparent-logo-light.png"),_.disabled=p(o),L.disabled=w},[()=>p(o)||!p(n).trim()]),kt(_,()=>p(n),w=>R(n,w)),E(e,c),qe(i)}ut(["keydown","click"]);async function el(){try{const e=await fetch("/api/auth-status");if(!e.ok)return!0;const t=await e.json();return!t.auth_required||t.is_authenticated}catch(e){return console.error("Failed to check auth status:",e),!0}}async function tl(){await el()?(new Is({target:document.getElementById("app")}),Cs()):new Fs({target:document.getElementById("app")})}tl();
