(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const oe=2,ir=4,ar=8,Ks=1<<24,it=16,at=32,Mt=64,En=128,Oe=512,le=1024,we=2048,Je=4096,$e=8192,st=16384,$n=32768,Ft=65536,xr=1<<17,Or=1<<18,Wt=1<<19,Ys=1<<20,tt=1<<25,Rt=32768,zn=1<<21,lr=1<<22,vt=1<<23,bn=Symbol("$state"),Gs=Symbol("legacy props"),Xs=Symbol(""),It=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},Sn=3,Vt=8,Kn=!1;var Lr=Array.isArray,Zs=Array.prototype.indexOf,Rn=Array.from,cr=Object.defineProperty,en=Object.getOwnPropertyDescriptor,Qs=Object.getOwnPropertyDescriptors,eo=Object.prototype,to=Array.prototype,Hr=Object.getPrototypeOf,kr=Object.isExtensible;const ht=()=>{};function Ir(e){for(var t=0;t<e.length;t++)e[t]()}function jr(){var e,t,n=new Promise((r,o)=>{e=r,t=o});return{promise:n,resolve:e,reject:t}}function Fr(e){return e===this.v}function Ur(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function qr(e){return!Ur(e,this.v)}function no(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ro(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function so(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function oo(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function io(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ao(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function lo(){throw new Error("https://svelte.dev/e/hydration_failed")}function co(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function uo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function fo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function vo(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}let ho=!1;const mo=1,po=2,Br=4,_o=8,bo=16,go=1,yo=2,Jr="[",Tn="[!",ur="]",Ut={},ae=Symbol(),wo="http://www.w3.org/1999/xhtml";let Se=null;function qt(e){Se=e}function Le(e,t=!1,n){Se={p:Se,i:!1,c:null,e:null,s:e,x:null,l:null}}function He(e){var t=Se,n=t.e;if(n!==null){t.e=null;for(var r of n)ms(r)}return e!==void 0&&(t.x=e),t.i=!0,Se=t.p,e??{}}function Wr(){return!0}let xt=[];function Vr(){var e=xt;xt=[],Ir(e)}function Nt(e){if(xt.length===0&&!tn){var t=xt;queueMicrotask(()=>{t===xt&&Vr()})}xt.push(e)}function xo(){for(;xt.length>0;)Vr()}function Cn(e){console.warn("https://svelte.dev/e/hydration_mismatch")}function ko(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let H=!1;function nt(e){H=e}let U;function he(e){if(e===null)throw Cn(),Ut;return U=e}function An(){return he(Ve(U))}function d(e){if(H){if(Ve(U)!==null)throw Cn(),Ut;U=e}}function mt(e=1){if(H){for(var t=e,n=U;t--;)n=Ve(n);U=n}}function yn(e=!0){for(var t=0,n=U;;){if(n.nodeType===Vt){var r=n.data;if(r===ur){if(t===0)return n;t-=1}else(r===Jr||r===Tn)&&(t+=1)}var o=Ve(n);e&&n.remove(),n=o}}function zr(e){if(!e||e.nodeType!==Vt)throw Cn(),Ut;return e.data}function rt(e){if(typeof e!="object"||e===null||bn in e)return e;const t=Hr(e);if(t!==eo&&t!==to)return e;var n=new Map,r=Lr(e),o=X(0),s=$t,i=l=>{if($t===s)return l();var a=L,c=$t;be(null),Tr(s);var u=l();return be(a),Tr(c),u};return r&&n.set("length",X(e.length)),new Proxy(e,{defineProperty(l,a,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&co();var u=n.get(a);return u===void 0?u=i(()=>{var v=X(c.value);return n.set(a,v),v}):R(u,c.value,!0),!0},deleteProperty(l,a){var c=n.get(a);if(c===void 0){if(a in l){const u=i(()=>X(ae));n.set(a,u),nn(o)}}else R(c,ae),nn(o);return!0},get(l,a,c){if(a===bn)return e;var u=n.get(a),v=a in l;if(u===void 0&&(!v||en(l,a)?.writable)&&(u=i(()=>{var m=rt(v?l[a]:ae),y=X(m);return y}),n.set(a,u)),u!==void 0){var f=_(u);return f===ae?void 0:f}return Reflect.get(l,a,c)},getOwnPropertyDescriptor(l,a){var c=Reflect.getOwnPropertyDescriptor(l,a);if(c&&"value"in c){var u=n.get(a);u&&(c.value=_(u))}else if(c===void 0){var v=n.get(a),f=v?.v;if(v!==void 0&&f!==ae)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return c},has(l,a){if(a===bn)return!0;var c=n.get(a),u=c!==void 0&&c.v!==ae||Reflect.has(l,a);if(c!==void 0||q!==null&&(!u||en(l,a)?.writable)){c===void 0&&(c=i(()=>{var f=u?rt(l[a]):ae,m=X(f);return m}),n.set(a,c));var v=_(c);if(v===ae)return!1}return u},set(l,a,c,u){var v=n.get(a),f=a in l;if(r&&a==="length")for(var m=c;m<v.v;m+=1){var y=n.get(m+"");y!==void 0?R(y,ae):m in l&&(y=i(()=>X(ae)),n.set(m+"",y))}if(v===void 0)(!f||en(l,a)?.writable)&&(v=i(()=>X(void 0)),R(v,rt(c)),n.set(a,v));else{f=v.v!==ae;var E=i(()=>rt(c));R(v,E)}var p=Reflect.getOwnPropertyDescriptor(l,a);if(p?.set&&p.set.call(u,c),!f){if(r&&typeof a=="string"){var w=n.get("length"),D=Number(a);Number.isInteger(D)&&D>=w.v&&R(w,D+1)}nn(o)}return!0},ownKeys(l){_(o);var a=Reflect.ownKeys(l).filter(v=>{var f=n.get(v);return f===void 0||f.v!==ae});for(var[c,u]of n)u.v!==ae&&!(c in l)&&a.push(c);return a},setPrototypeOf(){uo()}})}var Er,Kr,Yr,Gr;function Yn(){if(Er===void 0){Er=window,Kr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Yr=en(t,"firstChild").get,Gr=en(t,"nextSibling").get,kr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),kr(n)&&(n.__t=void 0)}}function ge(e=""){return document.createTextNode(e)}function Tt(e){return Yr.call(e)}function Ve(e){return Gr.call(e)}function h(e,t){if(!H)return Tt(e);var n=Tt(U);if(n===null)n=U.appendChild(ge());else if(t&&n.nodeType!==Sn){var r=ge();return n?.before(r),he(r),r}return he(n),n}function fr(e,t=!1){if(!H){var n=Tt(e);return n instanceof Comment&&n.data===""?Ve(n):n}if(t&&U?.nodeType!==Sn){var r=ge();return U?.before(r),he(r),r}return U}function b(e,t=1,n=!1){let r=H?U:e;for(var o;t--;)o=r,r=Ve(r);if(!H)return r;if(n&&r?.nodeType!==Sn){var s=ge();return r===null?o?.after(s):r.before(s),he(s),s}return he(r),r}function Xr(e){e.textContent=""}function Zr(){return!1}function Qr(e){var t=q;if(t===null)return L.f|=vt,e;if((t.f&$n)===0){if((t.f&En)===0)throw e;t.b.error(e)}else Bt(e,t)}function Bt(e,t){for(;t!==null;){if((t.f&En)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const _n=new Set;let W=null,gn=null,De=null,Me=[],Mn=null,Gn=!1,tn=!1;class qe{committed=!1;current=new Map;previous=new Map;#t=new Set;#e=new Set;#n=0;#r=0;#l=null;#o=new Set;#s=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#r>0}process(t){Me=[],gn=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[]};for(const r of t)this.#i(r,n);this.is_fork||this.#u(),this.is_deferred()?(this.#a(n.effects),this.#a(n.render_effects)):(gn=this,W=null,$r(n.render_effects),$r(n.effects),gn=null,this.#l?.resolve()),De=null}#i(t,n){t.f^=le;for(var r=t.first;r!==null;){var o=r.f,s=(o&(at|Mt))!==0,i=s&&(o&le)!==0,l=i||(o&$e)!==0||this.skipped_effects.has(r);if((r.f&En)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[]}),!l&&r.fn!==null){s?r.f^=le:(o&ir)!==0?n.effects.push(r):un(r)&&((r.f&it)!==0&&this.#o.add(r),sn(r));var a=r.first;if(a!==null){r=a;continue}}var c=r.parent;for(r=r.next;r===null&&c!==null;)c===n.effect&&(this.#a(n.effects),this.#a(n.render_effects),n=n.parent),r=c.next,c=c.parent}}#a(t){for(const n of t)(n.f&we)!==0?this.#o.add(n):(n.f&Je)!==0&&this.#s.add(n),this.#c(n.deps),ce(n,le)}#c(t){if(t!==null)for(const n of t)(n.f&oe)===0||(n.f&Rt)===0||(n.f^=Rt,this.#c(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&vt)===0&&(this.current.set(t,t.v),De?.set(t,t.v))}activate(){W=this,this.apply()}deactivate(){W===this&&(W=null,De=null)}flush(){if(this.activate(),Me.length>0){if(es(),W!==null&&W!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#e)t(this);this.#e.clear()}#u(){if(this.#r===0){for(const t of this.#t)t();this.#t.clear()}this.#n===0&&this.#f()}#f(){if(_n.size>1){this.previous.clear();var t=De,n=!0,r={parent:null,effect:null,effects:[],render_effects:[]};for(const s of _n){if(s===this){n=!1;continue}const i=[];for(const[a,c]of this.current){if(s.current.has(a))if(n&&c!==s.current.get(a))s.current.set(a,c);else continue;i.push(a)}if(i.length===0)continue;const l=[...s.current.keys()].filter(a=>!this.current.has(a));if(l.length>0){var o=Me;Me=[];const a=new Set,c=new Map;for(const u of i)ts(u,l,a,c);if(Me.length>0){W=s,s.apply();for(const u of Me)s.#i(u,r);s.deactivate()}Me=o}}W=null,De=t}this.committed=!0,_n.delete(this)}increment(t){this.#n+=1,t&&(this.#r+=1)}decrement(t){this.#n-=1,t&&(this.#r-=1),this.revive()}revive(){for(const t of this.#o)this.#s.delete(t),ce(t,we),Ct(t);for(const t of this.#s)ce(t,Je),Ct(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#e.add(t)}settled(){return(this.#l??=jr()).promise}static ensure(){if(W===null){const t=W=new qe;_n.add(W),tn||qe.enqueue(()=>{W===t&&t.flush()})}return W}static enqueue(t){Nt(t)}apply(){}}function _e(e){var t=tn;tn=!0;try{for(var n;;){if(xo(),Me.length===0&&(W?.flush(),Me.length===0))return Mn=null,n;es()}}finally{tn=t}}function es(){var e=Et;Gn=!0;var t=null;try{var n=0;for(xn(!0);Me.length>0;){var r=qe.ensure();if(n++>1e3){var o,s;Eo()}r.process(Me),pt.clear()}}finally{Gn=!1,xn(e),Mn=null}}function Eo(){try{ao()}catch(e){Bt(e,Mn)}}let Qe=null;function $r(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(st|$e))===0&&un(r)&&(Qe=new Set,sn(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?bs(r):r.fn=null),Qe?.size>0)){pt.clear();for(const o of Qe){if((o.f&(st|$e))!==0)continue;const s=[o];let i=o.parent;for(;i!==null;)Qe.has(i)&&(Qe.delete(i),s.push(i)),i=i.parent;for(let l=s.length-1;l>=0;l--){const a=s[l];(a.f&(st|$e))===0&&sn(a)}}Qe.clear()}}Qe=null}}function ts(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const o of e.reactions){const s=o.f;(s&oe)!==0?ts(o,t,n,r):(s&(lr|it))!==0&&(s&we)===0&&ns(o,t,r)&&(ce(o,we),Ct(o))}}function ns(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const o of e.deps){if(t.includes(o))return!0;if((o.f&oe)!==0&&ns(o,t,n))return n.set(o,!0),!0}return n.set(e,!1),!1}function Ct(e){for(var t=Mn=e;t.parent!==null;){t=t.parent;var n=t.f;if(Gn&&t===q&&(n&it)!==0&&(n&Or)===0)return;if((n&(Mt|at))!==0){if((n&le)===0)return;t.f^=le}}Me.push(t)}function $o(e){let t=0,n=At(0),r;return()=>{on()&&(_(n),Dn(()=>(t===0&&(r=zt(()=>e(()=>nn(n)))),t+=1,()=>{Nt(()=>{t-=1,t===0&&(r?.(),r=void 0,nn(n))})})))}}var So=Ft|Wt|En;function Ro(e,t,n){new To(e,t,n)}class To{parent;#t=!1;#e;#n=H?U:null;#r;#l;#o;#s=null;#i=null;#a=null;#c=null;#u=null;#f=0;#d=0;#h=!1;#v=null;#g=$o(()=>(this.#v=At(this.#f),()=>{this.#v=null}));constructor(t,n,r){this.#e=t,this.#r=n,this.#l=r,this.parent=q.b,this.#t=!!this.#r.pending,this.#o=pr(()=>{if(q.b=this,H){const s=this.#n;An(),s.nodeType===Vt&&s.data===Tn?this.#w():this.#y()}else{var o=this.#_();try{this.#s=Ne(()=>r(o))}catch(s){this.error(s)}this.#d>0?this.#p():this.#t=!1}return()=>{this.#u?.remove()}},So),H&&(this.#e=U)}#y(){try{this.#s=Ne(()=>this.#l(this.#e))}catch(t){this.error(t)}this.#t=!1}#w(){const t=this.#r.pending;t&&(this.#i=Ne(()=>t(this.#e)),qe.enqueue(()=>{var n=this.#_();this.#s=this.#m(()=>(qe.ensure(),Ne(()=>this.#l(n)))),this.#d>0?this.#p():(St(this.#i,()=>{this.#i=null}),this.#t=!1)}))}#_(){var t=this.#e;return this.#t&&(this.#u=ge(),this.#e.before(this.#u),t=this.#u),t}is_pending(){return this.#t||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#m(t){var n=q,r=L,o=Se;We(this.#o),be(this.#o),qt(this.#o.ctx);try{return t()}catch(s){return Qr(s),null}finally{We(n),be(r),qt(o)}}#p(){const t=this.#r.pending;this.#s!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#u),ws(this.#s,this.#c)),this.#i===null&&(this.#i=Ne(()=>t(this.#e)))}#b(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(t);return}this.#d+=t,this.#d===0&&(this.#t=!1,this.#i&&St(this.#i,()=>{this.#i=null}),this.#c&&(this.#e.before(this.#c),this.#c=null))}update_pending_count(t){this.#b(t),this.#f+=t,this.#v&&Jt(this.#v,this.#f)}get_effect_pending(){return this.#g(),_(this.#v)}error(t){var n=this.#r.onerror;let r=this.#r.failed;if(this.#h||!n&&!r)throw t;this.#s&&(ye(this.#s),this.#s=null),this.#i&&(ye(this.#i),this.#i=null),this.#a&&(ye(this.#a),this.#a=null),H&&(he(this.#n),mt(),he(yn()));var o=!1,s=!1;const i=()=>{if(o){ko();return}o=!0,s&&vo(),qe.ensure(),this.#f=0,this.#a!==null&&St(this.#a,()=>{this.#a=null}),this.#t=this.has_pending_snippet(),this.#s=this.#m(()=>(this.#h=!1,Ne(()=>this.#l(this.#e)))),this.#d>0?this.#p():this.#t=!1};var l=L;try{be(null),s=!0,n?.(t,i),s=!1}catch(a){Bt(a,this.#o&&this.#o.parent)}finally{be(l)}r&&Nt(()=>{this.#a=this.#m(()=>{qe.ensure(),this.#h=!0;try{return Ne(()=>{r(this.#e,()=>t,()=>i)})}catch(a){return Bt(a,this.#o.parent),null}finally{this.#h=!1}})})}}function Co(e,t,n,r){const o=dr;if(n.length===0&&e.length===0){r(t.map(o));return}var s=W,i=q,l=Ao();function a(){Promise.all(n.map(c=>Mo(c))).then(c=>{l();try{r([...t.map(o),...c])}catch(u){(i.f&st)===0&&Bt(u,i)}s?.deactivate(),wn()}).catch(c=>{Bt(c,i)})}e.length>0?Promise.all(e).then(()=>{l();try{return a()}finally{s?.deactivate(),wn()}}):a()}function Ao(){var e=q,t=L,n=Se,r=W;return function(s=!0){We(e),be(t),qt(n),s&&r?.activate()}}function wn(){We(null),be(null),qt(null)}function dr(e){var t=oe|we,n=L!==null&&(L.f&oe)!==0?L:null;return q!==null&&(q.f|=Wt),{ctx:Se,deps:null,effects:null,equals:Fr,f:t,fn:e,reactions:null,rv:0,v:ae,wv:0,parent:n??q,ac:null}}function Mo(e,t){let n=q;n===null&&ro();var r=n.b,o=void 0,s=At(ae),i=!L,l=new Map;return Jo(()=>{var a=jr();o=a.promise;try{Promise.resolve(e()).then(a.resolve,a.reject).then(()=>{c===W&&c.committed&&c.deactivate(),wn()})}catch(f){a.reject(f),wn()}var c=W;if(i){var u=!r.is_pending();r.update_pending_count(1),c.increment(u),l.get(c)?.reject(It),l.delete(c),l.set(c,a)}const v=(f,m=void 0)=>{if(c.activate(),m)m!==It&&(s.f|=vt,Jt(s,m));else{(s.f&vt)!==0&&(s.f^=vt),Jt(s,f);for(const[y,E]of l){if(l.delete(y),y===c)break;E.reject(It)}}i&&(r.update_pending_count(-1),c.decrement(u))};a.promise.then(v,f=>v(null,f||"unknown"))}),mr(()=>{for(const a of l.values())a.reject(It)}),new Promise(a=>{function c(u){function v(){u===o?a(s):c(o)}u.then(v,v)}c(o)})}function No(e){const t=dr(e);return t.equals=qr,t}function rs(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ye(t[n])}}function Do(e){for(var t=e.parent;t!==null;){if((t.f&oe)===0)return(t.f&st)===0?t:null;t=t.parent}return null}function vr(e){var t,n=q;We(Do(e));try{e.f&=~Rt,rs(e),t=ds(e)}finally{We(n)}return t}function ss(e){var t=vr(e);if(e.equals(t)||(W?.is_fork||(e.v=t),e.wv=us()),!Dt)if(De!==null)(on()||W?.is_fork)&&De.set(e,t);else{var n=(e.f&Oe)===0?Je:le;ce(e,n)}}let Xn=new Set;const pt=new Map;let os=!1;function At(e,t){var n={f:0,v:e,reactions:null,equals:Fr,rv:0,wv:0};return n}function X(e,t){const n=At(e);return Oo(n),n}function hr(e,t=!1,n=!0){const r=At(e);return t||(r.equals=qr),r}function R(e,t,n=!1){L!==null&&(!Be||(L.f&xr)!==0)&&Wr()&&(L.f&(oe|it|lr|xr))!==0&&!ot?.includes(e)&&fo();let r=n?rt(t):t;return Jt(e,r)}function Jt(e,t){if(!e.equals(t)){var n=e.v;Dt?pt.set(e,t):pt.set(e,n),e.v=t;var r=qe.ensure();r.capture(e,n),(e.f&oe)!==0&&((e.f&we)!==0&&vr(e),ce(e,(e.f&Oe)!==0?le:Je)),e.wv=us(),is(e,we),q!==null&&(q.f&le)!==0&&(q.f&(at|Mt))===0&&(Ae===null?Lo([e]):Ae.push(e)),!r.is_fork&&Xn.size>0&&!os&&Po()}return t}function Po(){os=!1;var e=Et;xn(!0);const t=Array.from(Xn);try{for(const n of t)(n.f&le)!==0&&ce(n,Je),un(n)&&sn(n)}finally{xn(e)}Xn.clear()}function nn(e){R(e,e.v+1)}function is(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,o=0;o<r;o++){var s=n[o],i=s.f,l=(i&we)===0;if(l&&ce(s,t),(i&oe)!==0){var a=s;De?.delete(a),(i&Rt)===0&&(i&Oe&&(s.f|=Rt),is(a,Je))}else l&&((i&it)!==0&&Qe!==null&&Qe.add(s),Ct(s))}}let Sr=!1;function as(){Sr||(Sr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Nn(e){var t=L,n=q;be(null),We(null);try{return e()}finally{be(t),We(n)}}function ls(e,t,n,r=n){e.addEventListener(t,()=>Nn(n));const o=e.__on_r;o?e.__on_r=()=>{o(),r(!0)}:e.__on_r=()=>r(!0),as()}let Et=!1;function xn(e){Et=e}let Dt=!1;function Rr(e){Dt=e}let L=null,Be=!1;function be(e){L=e}let q=null;function We(e){q=e}let ot=null;function Oo(e){L!==null&&(ot===null?ot=[e]:ot.push(e))}let ve=null,Ee=0,Ae=null;function Lo(e){Ae=e}let cs=1,rn=0,$t=rn;function Tr(e){$t=e}function us(){return++cs}function un(e){var t=e.f;if((t&we)!==0)return!0;if(t&oe&&(e.f&=~Rt),(t&Je)!==0){var n=e.deps;if(n!==null)for(var r=n.length,o=0;o<r;o++){var s=n[o];if(un(s)&&ss(s),s.wv>e.wv)return!0}(t&Oe)!==0&&De===null&&ce(e,le)}return!1}function fs(e,t,n=!0){var r=e.reactions;if(r!==null&&!ot?.includes(e))for(var o=0;o<r.length;o++){var s=r[o];(s.f&oe)!==0?fs(s,t,!1):t===s&&(n?ce(s,we):(s.f&le)!==0&&ce(s,Je),Ct(s))}}function ds(e){var t=ve,n=Ee,r=Ae,o=L,s=ot,i=Se,l=Be,a=$t,c=e.f;ve=null,Ee=0,Ae=null,L=(c&(at|Mt))===0?e:null,ot=null,qt(e.ctx),Be=!1,$t=++rn,e.ac!==null&&(Nn(()=>{e.ac.abort(It)}),e.ac=null);try{e.f|=zn;var u=e.fn,v=u(),f=e.deps;if(ve!==null){var m;if(kn(e,Ee),f!==null&&Ee>0)for(f.length=Ee+ve.length,m=0;m<ve.length;m++)f[Ee+m]=ve[m];else e.deps=f=ve;if(on()&&(e.f&Oe)!==0)for(m=Ee;m<f.length;m++)(f[m].reactions??=[]).push(e)}else f!==null&&Ee<f.length&&(kn(e,Ee),f.length=Ee);if(Wr()&&Ae!==null&&!Be&&f!==null&&(e.f&(oe|Je|we))===0)for(m=0;m<Ae.length;m++)fs(Ae[m],e);return o!==null&&o!==e&&(rn++,Ae!==null&&(r===null?r=Ae:r.push(...Ae))),(e.f&vt)!==0&&(e.f^=vt),v}catch(y){return Qr(y)}finally{e.f^=zn,ve=t,Ee=n,Ae=r,L=o,ot=s,qt(i),Be=l,$t=a}}function Ho(e,t){let n=t.reactions;if(n!==null){var r=Zs.call(n,e);if(r!==-1){var o=n.length-1;o===0?n=t.reactions=null:(n[r]=n[o],n.pop())}}n===null&&(t.f&oe)!==0&&(ve===null||!ve.includes(t))&&(ce(t,Je),(t.f&Oe)!==0&&(t.f^=Oe,t.f&=~Rt),rs(t),kn(t,0))}function kn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Ho(e,n[r])}function sn(e){var t=e.f;if((t&st)===0){ce(e,le);var n=q,r=Et;q=e,Et=!0;try{(t&(it|Ks))!==0?Wo(e):_s(e),ps(e);var o=ds(e);e.teardown=typeof o=="function"?o:null,e.wv=cs;var s;Kn&&ho&&(e.f&we)!==0&&e.deps}finally{Et=r,q=n}}}async function Io(){await Promise.resolve(),_e()}function _(e){var t=e.f,n=(t&oe)!==0;if(L!==null&&!Be){var r=q!==null&&(q.f&st)!==0;if(!r&&!ot?.includes(e)){var o=L.deps;if((L.f&zn)!==0)e.rv<rn&&(e.rv=rn,ve===null&&o!==null&&o[Ee]===e?Ee++:ve===null?ve=[e]:ve.includes(e)||ve.push(e));else{(L.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[L]:s.includes(L)||s.push(L)}}}if(Dt){if(pt.has(e))return pt.get(e);if(n){var i=e,l=i.v;return((i.f&le)===0&&i.reactions!==null||hs(i))&&(l=vr(i)),pt.set(i,l),l}}else n&&(!De?.has(e)||W?.is_fork&&!on())&&(i=e,un(i)&&ss(i),Et&&on()&&(i.f&Oe)===0&&vs(i));if(De?.has(e))return De.get(e);if((e.f&vt)!==0)throw e.v;return e.v}function vs(e){if(e.deps!==null){e.f^=Oe;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&oe)!==0&&(t.f&Oe)===0&&vs(t)}}function hs(e){if(e.v===ae)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(pt.has(t)||(t.f&oe)!==0&&hs(t))return!0;return!1}function zt(e){var t=Be;try{return Be=!0,e()}finally{Be=t}}const jo=-7169;function ce(e,t){e.f=e.f&jo|t}function Fo(e){q===null&&(L===null&&io(),oo()),Dt&&so()}function Uo(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function lt(e,t,n){var r=q;r!==null&&(r.f&$e)!==0&&(e|=$e);var o={ctx:Se,deps:null,nodes:null,f:e|we|Oe,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{sn(o),o.f|=$n}catch(l){throw ye(o),l}else t!==null&&Ct(o);var s=o;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&Wt)===0&&(s=s.first,(e&it)!==0&&(e&Ft)!==0&&s!==null&&(s.f|=Ft)),s!==null&&(s.parent=r,r!==null&&Uo(s,r),L!==null&&(L.f&oe)!==0&&(e&Mt)===0)){var i=L;(i.effects??=[]).push(s)}return o}function on(){return L!==null&&!Be}function mr(e){const t=lt(ar,null,!1);return ce(t,le),t.teardown=e,t}function an(e){Fo();var t=q.f,n=!L&&(t&at)!==0&&(t&$n)===0;if(n){var r=Se;(r.e??=[]).push(e)}else return ms(e)}function ms(e){return lt(ir|Ys,e,!1)}function qo(e){qe.ensure();const t=lt(Mt|Wt,e,!0);return(n={})=>new Promise(r=>{n.outro?St(t,()=>{ye(t),r(void 0)}):(ye(t),r(void 0))})}function Bo(e){return lt(ir,e,!1)}function Jo(e){return lt(lr|Wt,e,!0)}function Dn(e,t=0){return lt(ar|t,e,!0)}function re(e,t=[],n=[],r=[]){Co(r,t,n,o=>{lt(ar,()=>e(...o.map(_)),!0)})}function pr(e,t=0){var n=lt(it|t,e,!0);return n}function Ne(e){return lt(at|Wt,e,!0)}function ps(e){var t=e.teardown;if(t!==null){const n=Dt,r=L;Rr(!0),be(null);try{t.call(null)}finally{Rr(n),be(r)}}}function _s(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const o=n.ac;o!==null&&Nn(()=>{o.abort(It)});var r=n.next;(n.f&Mt)!==0?n.parent=null:ye(n,t),n=r}}function Wo(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&at)===0&&ye(t),t=n}}function ye(e,t=!0){var n=!1;(t||(e.f&Or)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Vo(e.nodes.start,e.nodes.end),n=!0),_s(e,t&&!n),kn(e,0),ce(e,st);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();ps(e);var o=e.parent;o!==null&&o.first!==null&&bs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Vo(e,t){for(;e!==null;){var n=e===t?null:Ve(e);e.remove(),e=n}}function bs(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function St(e,t,n=!0){var r=[];gs(e,r,!0);var o=()=>{n&&ye(e),t&&t()},s=r.length;if(s>0){var i=()=>--s||o();for(var l of r)l.out(i)}else o()}function gs(e,t,n){if((e.f&$e)===0){e.f^=$e;var r=e.nodes&&e.nodes.t;if(r!==null)for(const l of r)(l.is_global||n)&&t.push(l);for(var o=e.first;o!==null;){var s=o.next,i=(o.f&Ft)!==0||(o.f&at)!==0&&(e.f&it)!==0;gs(o,t,i?n:!1),o=s}}}function _r(e){ys(e,!0)}function ys(e,t){if((e.f&$e)!==0){e.f^=$e,(e.f&le)===0&&(ce(e,we),Ct(e));for(var n=e.first;n!==null;){var r=n.next,o=(n.f&Ft)!==0||(n.f&at)!==0;ys(n,o?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const i of s)(i.is_global||t)&&i.in()}}function ws(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var o=n===r?null:Ve(n);t.append(n),n=o}}const xs=new Set,Zn=new Set;function zo(e,t,n,r={}){function o(s){if(r.capture||Zt.call(t,s),!s.cancelBubble)return Nn(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Nt(()=>{t.addEventListener(e,o,r)}):t.addEventListener(e,o,r),o}function Pn(e,t,n,r,o){var s={capture:r,passive:o},i=zo(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&mr(()=>{t.removeEventListener(e,i,s)})}function ct(e){for(var t=0;t<e.length;t++)xs.add(e[t]);for(var n of Zn)n(e)}let Cr=null;function Zt(e){var t=this,n=t.ownerDocument,r=e.type,o=e.composedPath?.()||[],s=o[0]||e.target;Cr=e;var i=0,l=Cr===e&&e.__root;if(l){var a=o.indexOf(l);if(a!==-1&&(t===document||t===window)){e.__root=t;return}var c=o.indexOf(t);if(c===-1)return;a<=c&&(i=a)}if(s=o[i]||e.target,s!==t){cr(e,"currentTarget",{configurable:!0,get(){return s||n}});var u=L,v=q;be(null),We(null);try{for(var f,m=[];s!==null;){var y=s.assignedSlot||s.parentNode||s.host||null;try{var E=s["__"+r];E!=null&&(!s.disabled||e.target===s)&&E.call(s,e)}catch(p){f?m.push(p):f=p}if(e.cancelBubble||y===t||y===null)break;s=y}if(f){for(let p of m)queueMicrotask(()=>{throw p});throw f}}finally{e.__root=t,delete e.currentTarget,be(u),We(v)}}}function Ko(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function _t(e,t){var n=q;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function A(e,t){var n=(t&go)!==0,r=(t&yo)!==0,o,s=!e.startsWith("<!>");return()=>{if(H)return _t(U,null),U;o===void 0&&(o=Ko(s?e:"<!>"+e),n||(o=Tt(o)));var i=r||Kr?document.importNode(o,!0):o.cloneNode(!0);if(n){var l=Tt(i),a=i.lastChild;_t(l,a)}else _t(i,i);return i}}function ln(e=""){if(!H){var t=ge(e+"");return _t(t,t),t}var n=U;return n.nodeType!==Sn&&(n.before(n=ge()),he(n)),_t(n,n),n}function ks(){if(H)return _t(U,null),U;var e=document.createDocumentFragment(),t=document.createComment(""),n=ge();return e.append(t,n),_t(t,n),e}function S(e,t){if(H){var n=q;((n.f&$n)===0||n.nodes.end===null)&&(n.nodes.end=U),An();return}e!==null&&e.before(t)}const Yo=["touchstart","touchmove"];function Go(e){return Yo.includes(e)}function ee(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Es(e,t){return $s(e,t)}function Xo(e,t){Yn(),t.intro=t.intro??!1;const n=t.target,r=H,o=U;try{for(var s=Tt(n);s&&(s.nodeType!==Vt||s.data!==Jr);)s=Ve(s);if(!s)throw Ut;nt(!0),he(s);const i=$s(e,{...t,anchor:s});return nt(!1),i}catch(i){if(i instanceof Error&&i.message.split(`
`).some(l=>l.startsWith("https://svelte.dev/e/")))throw i;return i!==Ut&&console.warn("Failed to hydrate: ",i),t.recover===!1&&lo(),Yn(),Xr(n),nt(!1),Es(e,t)}finally{nt(r),he(o)}}const Lt=new Map;function $s(e,{target:t,anchor:n,props:r={},events:o,context:s,intro:i=!0}){Yn();var l=new Set,a=v=>{for(var f=0;f<v.length;f++){var m=v[f];if(!l.has(m)){l.add(m);var y=Go(m);t.addEventListener(m,Zt,{passive:y});var E=Lt.get(m);E===void 0?(document.addEventListener(m,Zt,{passive:y}),Lt.set(m,1)):Lt.set(m,E+1)}}};a(Rn(xs)),Zn.add(a);var c=void 0,u=qo(()=>{var v=n??t.appendChild(ge());return Ro(v,{pending:()=>{}},f=>{if(s){Le({});var m=Se;m.c=s}if(o&&(r.$$events=o),H&&_t(f,null),c=e(f,r)||{},H&&(q.nodes.end=U,U===null||U.nodeType!==Vt||U.data!==ur))throw Cn(),Ut;s&&He()}),()=>{for(var f of l){t.removeEventListener(f,Zt);var m=Lt.get(f);--m===0?(document.removeEventListener(f,Zt),Lt.delete(f)):Lt.set(f,m)}Zn.delete(a),v!==n&&v.parentNode?.removeChild(v)}});return Qn.set(c,u),c}let Qn=new WeakMap;function Zo(e,t){const n=Qn.get(e);return n?(Qn.delete(e),n(t)):Promise.resolve()}function ze(e){return new Qo(e)}class Qo{#t;#e;constructor(t){var n=new Map,r=(s,i)=>{var l=hr(i,!1,!1);return n.set(s,l),l};const o=new Proxy({...t.props||{},$$events:{}},{get(s,i){return _(n.get(i)??r(i,Reflect.get(s,i)))},has(s,i){return i===Gs?!0:(_(n.get(i)??r(i,Reflect.get(s,i))),Reflect.has(s,i))},set(s,i,l){return R(n.get(i)??r(i,l),l),Reflect.set(s,i,l)}});this.#e=(t.hydrate?Xo:Es)(t.component,{target:t.target,anchor:t.anchor,props:o,context:t.context,intro:t.intro??!1,recover:t.recover}),(!t?.props?.$$host||t.sync===!1)&&_e(),this.#t=o.$$events;for(const s of Object.keys(this.#e))s==="$set"||s==="$destroy"||s==="$on"||cr(this,s,{get(){return this.#e[s]},set(i){this.#e[s]=i},enumerable:!0});this.#e.$set=s=>{Object.assign(o,s)},this.#e.$destroy=()=>{Zo(this.#e)}}$set(t){this.#e.$set(t)}$on(t,n){this.#t[t]=this.#t[t]||[];const r=(...o)=>n.call(this,...o);return this.#t[t].push(r),()=>{this.#t[t]=this.#t[t].filter(o=>o!==r)}}$destroy(){this.#e.$destroy()}}const ei="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ei);class ti{anchor;#t=new Map;#e=new Map;#n=new Map;#r=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#o=()=>{var t=W;if(this.#t.has(t)){var n=this.#t.get(t),r=this.#e.get(n);if(r)_r(r),this.#r.delete(n);else{var o=this.#n.get(n);o&&(this.#e.set(n,o.effect),this.#n.delete(n),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),r=o.effect)}for(const[s,i]of this.#t){if(this.#t.delete(s),s===t)break;const l=this.#n.get(i);l&&(ye(l.effect),this.#n.delete(i))}for(const[s,i]of this.#e){if(s===n||this.#r.has(s))continue;const l=()=>{if(Array.from(this.#t.values()).includes(s)){var c=document.createDocumentFragment();ws(i,c),c.append(ge()),this.#n.set(s,{effect:i,fragment:c})}else ye(i);this.#r.delete(s),this.#e.delete(s)};this.#l||!r?(this.#r.add(s),St(i,l,!1)):l()}}};#s=t=>{this.#t.delete(t);const n=Array.from(this.#t.values());for(const[r,o]of this.#n)n.includes(r)||(ye(o.effect),this.#n.delete(r))};ensure(t,n){var r=W,o=Zr();if(n&&!this.#e.has(t)&&!this.#n.has(t))if(o){var s=document.createDocumentFragment(),i=ge();s.append(i),this.#n.set(t,{effect:Ne(()=>n(i)),fragment:s})}else this.#e.set(t,Ne(()=>n(this.anchor)));if(this.#t.set(r,t),o){for(const[l,a]of this.#e)l===t?r.skipped_effects.delete(a):r.skipped_effects.add(a);for(const[l,a]of this.#n)l===t?r.skipped_effects.delete(a.effect):r.skipped_effects.add(a.effect);r.oncommit(this.#o),r.ondiscard(this.#s)}else H&&(this.anchor=U),this.#o()}}function ni(e){Se===null&&no(),an(()=>{const t=zt(e);if(typeof t=="function")return t})}function V(e,t,n=!1){H&&An();var r=new ti(e),o=n?Ft:0;function s(i,l){if(H){const c=zr(e)===Tn;if(i===c){var a=yn();he(a),r.anchor=a,nt(!1),r.ensure(i,l),nt(!0);return}}r.ensure(i,l)}pr(()=>{var i=!1;t((l,a=!0)=>{i=!0,s(a,l)}),i||s(!1,null)},o)}function On(e,t){return t}function ri(e,t,n){for(var r=[],o=t.length,s,i=t.length,l=0;l<o;l++){let v=t[l];St(v,()=>{if(s){if(s.pending.delete(v),s.done.add(v),s.pending.size===0){var f=e.outrogroups;er(Rn(s.done)),f.delete(s),f.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var a=r.length===0&&n!==null;if(a){var c=n,u=c.parentNode;Xr(u),u.append(c),e.items.clear()}er(t,!a)}else s={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(s)}function er(e,t=!0){for(var n=0;n<e.length;n++)ye(e[n],t)}var Ar;function fn(e,t,n,r,o,s=null){var i=e,l=new Map,a=(t&Br)!==0;if(a){var c=e;i=H?he(Tt(c)):c.appendChild(ge())}H&&An();var u=null,v=No(()=>{var w=n();return Lr(w)?w:w==null?[]:Rn(w)}),f,m=!0;function y(){p.fallback=u,si(p,f,i,t,r),u!==null&&(f.length===0?(u.f&tt)===0?_r(u):(u.f^=tt,Qt(u,null,i)):St(u,()=>{u=null}))}var E=pr(()=>{f=_(v);var w=f.length;let D=!1;if(H){var z=zr(i)===Tn;z!==(w===0)&&(i=yn(),he(i),nt(!1),D=!0)}for(var I=new Set,Z=W,$=Zr(),C=0;C<w;C+=1){H&&U.nodeType===Vt&&U.data===ur&&(i=U,D=!0,nt(!1));var g=f[C],T=r(g,C),M=m?null:l.get(T);M?(M.v&&Jt(M.v,g),M.i&&Jt(M.i,C),$&&Z.skipped_effects.delete(M.e)):(M=oi(l,m?i:Ar??=ge(),g,T,C,o,t,n),m||(M.e.f|=tt),l.set(T,M)),I.add(T)}if(w===0&&s&&!u&&(m?u=Ne(()=>s(i)):(u=Ne(()=>s(Ar??=ge())),u.f|=tt)),H&&w>0&&he(yn()),!m)if($){for(const[te,ue]of l)I.has(te)||Z.skipped_effects.add(ue.e);Z.oncommit(y),Z.ondiscard(()=>{})}else y();D&&nt(!0),_(v)}),p={effect:E,items:l,outrogroups:null,fallback:u};m=!1,H&&(i=U)}function si(e,t,n,r,o){var s=(r&_o)!==0,i=t.length,l=e.items,a=e.effect.first,c,u=null,v,f=[],m=[],y,E,p,w;if(s)for(w=0;w<i;w+=1)y=t[w],E=o(y,w),p=l.get(E).e,(p.f&tt)===0&&(p.nodes?.a?.measure(),(v??=new Set).add(p));for(w=0;w<i;w+=1){if(y=t[w],E=o(y,w),p=l.get(E).e,e.outrogroups!==null)for(const M of e.outrogroups)M.pending.delete(p),M.done.delete(p);if((p.f&tt)!==0)if(p.f^=tt,p===a)Qt(p,null,n);else{var D=u?u.next:a;p===e.effect.last&&(e.effect.last=p.prev),p.prev&&(p.prev.next=p.next),p.next&&(p.next.prev=p.prev),ft(e,u,p),ft(e,p,D),Qt(p,D,n),u=p,f=[],m=[],a=u.next;continue}if((p.f&$e)!==0&&(_r(p),s&&(p.nodes?.a?.unfix(),(v??=new Set).delete(p))),p!==a){if(c!==void 0&&c.has(p)){if(f.length<m.length){var z=m[0],I;u=z.prev;var Z=f[0],$=f[f.length-1];for(I=0;I<f.length;I+=1)Qt(f[I],z,n);for(I=0;I<m.length;I+=1)c.delete(m[I]);ft(e,Z.prev,$.next),ft(e,u,Z),ft(e,$,z),a=z,u=$,w-=1,f=[],m=[]}else c.delete(p),Qt(p,a,n),ft(e,p.prev,p.next),ft(e,p,u===null?e.effect.first:u.next),ft(e,u,p),u=p;continue}for(f=[],m=[];a!==null&&a!==p;)(c??=new Set).add(a),m.push(a),a=a.next;if(a===null)continue}(p.f&tt)===0&&f.push(p),u=p,a=p.next}if(e.outrogroups!==null){for(const M of e.outrogroups)M.pending.size===0&&(er(Rn(M.done)),e.outrogroups?.delete(M));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||c!==void 0){var C=[];if(c!==void 0)for(p of c)(p.f&$e)===0&&C.push(p);for(;a!==null;)(a.f&$e)===0&&a!==e.fallback&&C.push(a),a=a.next;var g=C.length;if(g>0){var T=(r&Br)!==0&&i===0?n:null;if(s){for(w=0;w<g;w+=1)C[w].nodes?.a?.measure();for(w=0;w<g;w+=1)C[w].nodes?.a?.fix()}ri(e,C,T)}}s&&Nt(()=>{if(v!==void 0)for(p of v)p.nodes?.a?.apply()})}function oi(e,t,n,r,o,s,i,l){var a=(i&mo)!==0?(i&bo)===0?hr(n,!1,!1):At(n):null,c=(i&po)!==0?At(o):null;return{v:a,i:c,e:Ne(()=>(s(t,a??n,c??o,l),()=>{e.delete(r)}))}}function Qt(e,t,n){if(e.nodes)for(var r=e.nodes.start,o=e.nodes.end,s=t&&(t.f&tt)===0?t.nodes.start:n;r!==null;){var i=Ve(r);if(s.before(r),r===o)return;r=i}}function ft(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Ss(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Ss(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ii(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Ss(e))&&(r&&(r+=" "),r+=t);return r}function Mr(e){return typeof e=="object"?ii(e):e??""}function ai(e,t,n){var r=e==null?"":""+e;return t&&(r=r?r+" "+t:t),r===""?null:r}function jt(e,t,n,r,o,s){var i=e.__className;if(H||i!==n||i===void 0){var l=ai(n,r);(!H||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=n}return s}const li=Symbol("is custom element"),ci=Symbol("is html");function dt(e){if(H){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;tr(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var o=e.checked;tr(e,"checked",null),e.checked=o}}};e.__on_r=n,Nt(n),as()}}function tr(e,t,n,r){var o=ui(e);H&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=n)&&(t==="loading"&&(e[Xs]=n),n==null?e.removeAttribute(t):typeof n!="string"&&fi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ui(e){return e.__attributes??={[li]:e.nodeName.includes("-"),[ci]:e.namespaceURI===wo}}var Nr=new Map;function fi(e){var t=e.getAttribute("is")||e.nodeName,n=Nr.get(t);if(n)return n;Nr.set(t,n=[]);for(var r,o=e,s=Element.prototype;s!==o;){r=Qs(o);for(var i in r)r[i].set&&n.push(i);o=Hr(o)}return n}function kt(e,t,n=t){var r=new WeakSet;ls(e,"input",async o=>{var s=o?e.defaultValue:e.value;if(s=Wn(e)?Vn(s):s,n(s),W!==null&&r.add(W),await Io(),s!==(s=t())){var i=e.selectionStart,l=e.selectionEnd,a=e.value.length;if(e.value=s??"",l!==null){var c=e.value.length;i===l&&l===a&&c>a?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=i,e.selectionEnd=Math.min(l,c))}}}),(H&&e.defaultValue!==e.value||zt(t)==null&&e.value)&&(n(Wn(e)?Vn(e.value):e.value),W!==null&&r.add(W)),Dn(()=>{var o=t();if(e===document.activeElement){var s=gn??W;if(r.has(s))return}Wn(e)&&o===Vn(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function di(e,t,n=t){ls(e,"change",r=>{var o=r?e.defaultChecked:e.checked;n(o)}),(H&&e.defaultChecked!==e.checked||zt(t)==null)&&n(e.checked),Dn(()=>{var r=t();e.checked=!!r})}function Wn(e){var t=e.type;return t==="number"||t==="range"}function Vn(e){return e===""?null:+e}function Dr(e,t){return e===t||e?.[bn]===t}function vi(e={},t,n,r){return Bo(()=>{var o,s;return Dn(()=>{o=s,s=[],zt(()=>{e!==n(...s)&&(t(e,...s),o&&Dr(n(...o),e)&&t(null,...o))})}),()=>{Nt(()=>{s&&Dr(n(...s),e)&&t(null,...s)})}}),e}function Ke(e,t,n){e.$$events||={},e.$$events[t]||=[],e.$$events[t].push(n)}function Ye(e){for(var t in e)t in this&&(this[t]=e[t])}function br(e,t,n){if(e==null)return t(void 0),n&&n(void 0),ht;const r=zt(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Ht=[];function hi(e,t){return{subscribe:Re(e,t).subscribe}}function Re(e,t=ht){let n=null;const r=new Set;function o(l){if(Ur(e,l)&&(e=l,n)){const a=!Ht.length;for(const c of r)c[1](),Ht.push(c,e);if(a){for(let c=0;c<Ht.length;c+=2)Ht[c][0](Ht[c+1]);Ht.length=0}}}function s(l){o(l(e))}function i(l,a=ht){const c=[l,a];return r.add(c),r.size===1&&(n=t(o,s)||ht),l(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:o,update:s,subscribe:i}}function Rs(e,t,n){const r=!Array.isArray(e),o=r?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=t.length<2;return hi(n,(i,l)=>{let a=!1;const c=[];let u=0,v=ht;const f=()=>{if(u)return;v();const y=t(r?c[0]:c,i,l);s?i(y):v=typeof y=="function"?y:ht},m=o.map((y,E)=>br(y,p=>{c[E]=p,u&=~(1<<E),a&&f()},()=>{u|=1<<E}));return a=!0,f(),function(){Ir(m),v(),a=!1}})}function F(e){let t;return br(e,n=>t=n)(),t}let nr=Symbol();function G(e,t,n){const r=n[t]??={store:null,source:hr(void 0),unsubscribe:ht};if(r.store!==e&&!(nr in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=ht;else{var o=!0;r.unsubscribe=br(e,s=>{o?r.source.v=s:R(r.source,s)}),o=!1}return e&&nr in n?F(e):_(r.source)}function bt(){const e={};function t(){mr(()=>{for(var n in e)e[n].unsubscribe();cr(e,nr,{enumerable:!1,value:!0})})}return[e,t]}function Pe(e,t,n,r){var o=r,s=!0,i=()=>(s&&(s=!1,o=r),o),l;l=e[t],l===void 0&&r!==void 0&&(l=i());var a;a=()=>{var f=e[t];return f===void 0?i():(s=!0,f)};var c=!1,u=dr(()=>(c=!1,a())),v=q;return(function(f,m){if(arguments.length>0){const y=m?_(u):f;return R(u,y),c=!0,o!==void 0&&(o=y),f}return Dt&&c||(v.f&st)!==0?u.v:_(u)})}const Ts=Re(null),cn=Re(!1),gt=Re(!1),yt=Re(null),Kt=Re(""),Ln=Re(null),dn=Re(null),N=Re("[Hub]"),me=Re(new Map([["[Hub]",{messages:[],users:new Set,unread:0}]])),Hn=Re([]),vn=Re({hubHash:"",destName:"rrc.hub",nickname:"",identityPath:"~/.rrc-web/identity"}),gr=Re(new Set),yr=Rs([me,N],([e,t])=>e.get(t)||{messages:[],users:new Set,unread:0}),wr=Rs(me,e=>Array.from(e.keys())),Cs=Object.freeze(Object.defineProperty({__proto__:null,connectionSettings:vn,currentRoom:N,currentRoomData:yr,discoveredHubs:Hn,hubName:yt,identityHash:Ln,latency:dn,nickname:Kt,roomList:wr,rooms:me,rrcConnected:gt,sentMessageIds:gr,ws:Ts,wsConnected:cn},Symbol.toStringTag,{value:"Module"}));let et=null;function As(){const t=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;et=new WebSocket(t),Ts.set(et),et.onopen=()=>{cn.set(!0),rr(),Li(),B({type:"get_state"})},et.onmessage=n=>{const r=JSON.parse(n.data);mi(r)},et.onerror=n=>{console.error("WebSocket error:",n),n.currentTarget?.readyState===WebSocket.CLOSED&&fetch("/ws",{method:"HEAD"}).then(r=>{r.status===401&&window.location.reload()}).catch(()=>{})},et.onclose=n=>{cn.set(!1),gt.set(!1),dn.set(null),n.code===1008||n.code===1002?(console.log("WebSocket closed due to authentication failure"),window.location.reload()):setTimeout(As,3e3)}}function B(e){et&&et.readyState===WebSocket.OPEN&&et.send(JSON.stringify(e))}function mi(e){switch(e.type){case"connected":pi(e);break;case"disconnected":_i();break;case"message":bi(e);break;case"notice":gi(e);break;case"error":yi(e);break;case"system":wi(e);break;case"message_sent":xi(e);break;case"room_joined":ki(e.room,e.users);break;case"room_parted":Ei(e.room);break;case"state":$i(e);break;case"latency":Si(e);break;case"user_list_update":Ri(e);break;case"hub_info":Ti(e);break;case"hub_discovered":Ci(e);break;case"discovered_hubs":Ai(e);break;case"nickname_set":Mi(e);break}}function pi(e){gt.set(!0),e.hub_name&&yt.set(e.hub_name),Kt.set(e.nickname||""),e.identity_hash&&Ln.set(e.identity_hash)}function _i(){gt.set(!1),yt.set(null),me.update(e=>{const t=e.get("[Hub]")||{messages:[],users:new Set,unread:0};return t.messages.push({type:"system",text:"Disconnected from hub",timestamp:new Date().toLocaleTimeString()}),e.set("[Hub]",t),new Map(e)})}function bi(e){const t=e.room||"[Hub]";me.update(n=>{n.has(t)||n.set(t,{messages:[],users:new Set,unread:0});const r=n.get(t);return r.messages.push({type:"message",user:e.user,text:e.text,timestamp:e.timestamp||new Date().toLocaleTimeString(),message_id:e.message_id,sender_identity:e.sender_identity}),t!==F(N)&&r.unread++,new Map(n)})}function gi(e){const t=e.room||"[Hub]";me.update(n=>(n.has(t)||n.set(t,{messages:[],users:new Set,unread:0}),n.get(t).messages.push({type:"notice",text:e.text,timestamp:e.timestamp||new Date().toLocaleTimeString()}),new Map(n)))}function yi(e){const t=F(N);me.update(n=>{const r=n.get(t);return r&&r.messages.push({type:"error",text:e.text||e.error,timestamp:new Date().toLocaleTimeString()}),new Map(n)})}function wi(e){const t=e.room||F(N);me.update(n=>(n.has(t)||n.set(t,{messages:[],users:new Set,unread:0}),n.get(t).messages.push({type:"system",text:e.text,timestamp:e.timestamp||new Date().toLocaleTimeString()}),new Map(n)))}function xi(e){e.message_id&&gr.update(t=>{if(t.add(e.message_id),t.size>100){const n=t.values().next().value;t.delete(n)}return t})}function ki(e,t){me.update(n=>{n.has(e)||n.set(e,{messages:[],users:new Set,unread:0});const r=n.get(e);return r.users=new Set(t||[]),new Map(n)}),N.set(e)}function Ei(e){me.update(t=>(t.delete(e),new Map(t))),F(N)===e&&N.set("[Hub]")}function $i(e){e.connected!==void 0&&gt.set(e.connected),e.hub_name&&yt.set(e.hub_name),e.nickname&&Kt.set(e.nickname),e.identity_hash&&Ln.set(e.identity_hash),e.config&&vn.update(t=>({...t,hubHash:e.config.hub_hash||t.hubHash,destName:e.config.dest_name||t.destName,nickname:e.config.nickname||t.nickname,identityPath:e.config.identity_path||t.identityPath})),e.rooms&&Object.keys(e.rooms).length>0&&me.update(t=>{const n=new Map;return Object.keys(e.rooms).forEach(r=>{const o=e.rooms[r],s=t.get(r);n.set(r,{messages:o.messages||s?.messages||[],users:new Set(o.users||[]),unread:s?.unread||0})}),n})}function Si(e){e.latency_ms!==void 0&&dn.set(e.latency_ms)}function Ri(e){const t=e.room||"[Hub]";me.update(n=>{n.has(t)||n.set(t,{messages:[],users:new Set,unread:0});const r=n.get(t);return r.users=new Set(e.users||[]),new Map(n)})}function Ti(e){yt.set(e.hub_name)}function Ci(e){e.hub&&Hn.update(t=>t.find(r=>r.hash===e.hub.hash)?t:[...t,e.hub])}function Ai(e){Hn.set(e.hubs||[])}function Mi(e){e.nickname!==void 0&&Kt.set(e.nickname)}function rr(){B({type:"get_discovered_hubs"})}function Ni(e,t,n,r){B({type:"connect",hub_hash:e,dest_name:t,nickname:n,identity_path:r}),Hi(e,t,n,r)}function Ms(){B({type:"disconnect"})}function Di(e){B({type:"join_room",room:e})}function Pi(e){B({type:"part_room",room:e})}function Oi(e,t){e.trim()&&B({type:"send_message",text:e,room:t||F(N)})}function Li(){const e=localStorage.getItem("rrc_connection_settings");if(e)try{const t=JSON.parse(e);vn.set(t)}catch(t){console.error("Failed to load connection settings:",t)}}function Hi(e,t,n,r){const o={hubHash:e,destName:t,nickname:n,identityPath:r};localStorage.setItem("rrc_connection_settings",JSON.stringify(o)),vn.set(o)}function Ns(e){me.update(t=>{const n=t.get(e);return n&&(n.unread=0),new Map(t)})}var Ii=A('<span class="text-sm opacity-70"> </span>'),ji=A('<button class="btn btn-outline btn-error btn-sm">Disconnect</button>'),Fi=A('<div class="flex items-center gap-1"><div class="badge badge-success badge-xs"></div> <span>WS</span></div>'),Ui=A('<div class="flex items-center gap-1"><div class="badge badge-error badge-xs"></div> <span>WS</span></div>'),qi=A('<div class="flex items-center gap-1"><div class="badge badge-success badge-xs"></div> <span>RRC</span></div>'),Bi=A('<div class="flex items-center gap-1"><div class="badge badge-error badge-xs"></div> <span>RRC</span></div>'),Ji=A('<div class="flex items-center gap-1"><span class="opacity-70">Nick:</span> <span> </span></div>'),Wi=A('<div class="flex items-center gap-1"><span class="opacity-70">Latency:</span> <span> </span></div>'),Vi=A('<div class="navbar bg-base-300"><div class="flex-1 px-4 flex items-center gap-2"><img src="/transparent-icon.png" alt="RRC" class="h-8 w-8"/> <span class="text-xl font-bold">RRC Web Client</span> <!> <!></div> <div class="flex-none"><div class="flex items-center gap-3"><div class="flex items-center gap-3 text-sm"><!> <!> <!> <!></div> <div class="badge badge-lg badge-primary"> </div> <button class="btn btn-ghost btn-circle btn-sm" title="Toggle theme"><!></button> <button class="btn btn-ghost btn-sm" title="Logout"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"></path></svg></button></div></div></div>');function Ds(e,t){if(new.target)return ze({component:Ds,...e});Le(t,!0);const n=()=>G(yt,"$hubName",a),r=()=>G(gt,"$rrcConnected",a),o=()=>G(cn,"$wsConnected",a),s=()=>G(Kt,"$nickname",a),i=()=>G(dn,"$latency",a),l=()=>G(N,"$currentRoom",a),[a,c]=bt();let u=Pe(t,"onToggleTheme"),v=X("dark");function f(){R(v,_(v)==="dark"?"light":"dark",!0),document.documentElement.setAttribute("data-theme",_(v)),u()(_(v))}function m(){Ms()}async function y(){try{await fetch("/api/logout",{method:"POST"}),window.location.reload()}catch(k){console.error("Logout error:",k),window.location.reload()}}function E(k){return k==="[Hub]"?n()||"Hub":k}var p={get onToggleTheme(){return u()},set onToggleTheme(k){u(k),_e()},$set:Ye,$on:(k,P)=>Ke(t,k,P)},w=Vi(),D=h(w),z=b(h(D),4);{var I=k=>{var P=Ii(),x=h(P);d(P),re(()=>ee(x,`- ${n()??""}`)),S(k,P)};V(z,k=>{n()&&k(I)})}var Z=b(z,2);{var $=k=>{var P=ji();P.__click=m,S(k,P)};V(Z,k=>{r()&&k($)})}d(D);var C=b(D,2),g=h(C),T=h(g),M=h(T);{var te=k=>{var P=Fi();S(k,P)},ue=k=>{var P=Ui();S(k,P)};V(M,k=>{o()?k(te):k(ue,!1)})}var j=b(M,2);{var fe=k=>{var P=qi();S(k,P)},Q=k=>{var P=Bi();S(k,P)};V(j,k=>{r()?k(fe):k(Q,!1)})}var K=b(j,2);{var ne=k=>{var P=Ji(),x=b(h(P),2),J=h(x,!0);d(x),d(P),re(()=>ee(J,s())),S(k,P)};V(K,k=>{s()&&k(ne)})}var se=b(K,2);{var xe=k=>{var P=Wi(),x=b(h(P),2),J=h(x);d(x),d(P),re(()=>ee(J,`${i()??""}ms`)),S(k,P)};V(se,k=>{i()!==null&&k(xe)})}d(T);var pe=b(T,2),Ge=h(pe,!0);d(pe);var ke=b(pe,2);ke.__click=f;var Te=h(ke);{var Ie=k=>{var P=ln("â˜€ï¸");S(k,P)},je=k=>{var P=ln("ðŸŒ™");S(k,P)};V(Te,k=>{_(v)==="dark"?k(Ie):k(je,!1)})}d(ke);var Xe=b(ke,2);Xe.__click=y,d(g),d(C),d(w),re(k=>ee(Ge,k),[()=>E(l())]),S(e,w);var Fe=He(p);return c(),Fe}ct(["click"]);var zi=A('<span class="badge badge-sm"> </span>'),Ki=A('<div class="text-center py-8"><p class="text-base-content/60 text-sm mb-2">No hubs discovered yet</p> <p class="text-base-content/40 text-xs">Listening for announcements...</p></div>'),Yi=A('<span class="ml-2"> </span>'),Gi=A('<li><button class="text-left"><div class="w-full"><div class="font-semibold"> </div> <div class="flex justify-between items-center text-xs opacity-60"><span> </span> <!></div></div></button></li>'),Xi=A('<ul class="menu menu-sm"></ul>'),Zi=A('<div class="modal modal-open"><div class="modal-box max-w-6xl"><h3 class="font-bold text-lg mb-4">Connect to RRC Hub</h3> <div class="grid grid-cols-1 lg:grid-cols-2 gap-4"><div class="card bg-base-200"><div class="card-body"><div class="flex justify-between items-center mb-2"><h4 class="card-title text-base">Discovered Hubs <!></h4> <button class="btn btn-ghost btn-sm btn-circle" title="Refresh">â†»</button></div> <div class="overflow-y-auto max-h-64"><!></div></div></div> <div class="card bg-base-200"><div class="card-body"><h4 class="card-title text-base mb-2">Connection Details</h4> <form class="space-y-3"><div class="form-control w-full"><label class="label" for="hubHash"><span class="label-text">Hub Hash:</span></label> <input type="text" id="hubHash" class="input input-bordered input-sm w-full mb-2" placeholder="destination hash" required/> <div class="label"><span class="label-text-alt">Select a discovered hub or enter manually</span></div></div> <div class="form-control w-full"><label class="label" for="nickname"><span class="label-text">Nickname:</span></label> <input type="text" id="nickname" class="input input-bordered input-sm w-full mb-2" placeholder="optional"/></div> <div class="collapse collapse-arrow bg-base-100 mt-2"><input type="checkbox"/> <div class="collapse-title text-sm font-medium">Advanced Options</div> <div class="collapse-content space-y-3"><div class="form-control w-full"><label class="label" for="destName"><span class="label-text">Destination Aspect</span></label> <input type="text" id="destName" class="input input-bordered input-sm w-full"/> <label class="label" for="destName"><span class="label-text-alt">RNS aspect filter</span></label></div> <div class="form-control w-full"><label class="label" for="identityPath"><span class="label-text">Identity Path</span></label> <input type="text" id="identityPath" class="input input-bordered input-sm w-full"/></div></div></div> <div class="card-actions justify-end mt-4"><button type="submit" class="btn btn-primary p-4">Connect</button></div></form></div></div></div></div></div>');function Ps(e,t){if(new.target)return ze({component:Ps,...e});Le(t,!0);const n=()=>G(vn,"$connectionSettings",o),r=()=>G(Hn,"$discoveredHubs",o),[o,s]=bt();let i=Pe(t,"onConnect"),l=X(rt(n().hubHash)),a=X(rt(n().destName)),c=X(rt(n().nickname)),u=X(rt(n().identityPath)),v=X(!1);an(()=>{R(l,n().hubHash||_(l),!0),R(a,n().destName||_(a),!0),R(c,n().nickname||_(c),!0),R(u,n().identityPath||_(u),!0)}),ni(()=>{rr()});function f(){Ni(_(l),_(a),_(c),_(u)),i()()}function m(x){R(l,x.hash,!0),R(a,x.aspect||"rrc.hub",!0)}function y(){rr()}function E(x){const J=Date.now()/1e3,de=Math.floor(J-x);return de<60?`${de}s ago`:de<3600?`${Math.floor(de/60)}m ago`:`${Math.floor(de/3600)}h ago`}var p={get onConnect(){return i()},set onConnect(x){i(x),_e()},$set:Ye,$on:(x,J)=>Ke(t,x,J)},w=Zi(),D=h(w),z=b(h(D),2),I=h(z),Z=h(I),$=h(Z),C=h($),g=b(h(C));{var T=x=>{var J=zi(),de=h(J,!0);d(J),re(()=>ee(de,r().length)),S(x,J)};V(g,x=>{r().length>0&&x(T)})}d(C);var M=b(C,2);M.__click=y,d($);var te=b($,2),ue=h(te);{var j=x=>{var J=Ki();S(x,J)},fe=x=>{var J=Xi();fn(J,5,r,On,(de,ut)=>{var Yt=Gi(),Gt=h(Yt);Gt.__click=()=>m(_(ut));var hn=h(Gt),wt=h(hn),Pt=h(wt,!0);d(wt);var mn=b(wt,2),Xt=h(mn),In=h(Xt);d(Xt);var jn=b(Xt,2);{var Fn=Ze=>{var Ot=Yi(),pn=h(Ot,!0);d(Ot),re(Un=>ee(pn,Un),[()=>E(_(ut).last_seen)]),S(Ze,Ot)};V(jn,Ze=>{_(ut).last_seen&&Ze(Fn)})}d(mn),d(hn),d(Gt),d(Yt),re(Ze=>{ee(Pt,_(ut).name||"Unknown Hub"),ee(In,`${Ze??""}...`)},[()=>_(ut).hash?.substring(0,16)]),S(de,Yt)}),d(J),S(x,J)};V(ue,x=>{r().length===0?x(j):x(fe,!1)})}d(te),d(Z),d(I);var Q=b(I,2),K=h(Q),ne=b(h(K),2),se=h(ne),xe=b(h(se),2);dt(xe),mt(2),d(se);var pe=b(se,2),Ge=b(h(pe),2);dt(Ge),d(pe);var ke=b(pe,2),Te=h(ke);dt(Te);var Ie=b(Te,4),je=h(Ie),Xe=b(h(je),2);dt(Xe),mt(2),d(je);var Fe=b(je,2),k=b(h(Fe),2);dt(k),d(Fe),d(Ie),d(ke),mt(2),d(ne),d(K),d(Q),d(z),d(D),d(w),Pn("submit",ne,x=>{x.preventDefault(),f()}),kt(xe,()=>_(l),x=>R(l,x)),kt(Ge,()=>_(c),x=>R(c,x)),di(Te,()=>_(v),x=>R(v,x)),kt(Xe,()=>_(a),x=>R(a,x)),kt(k,()=>_(u),x=>R(u,x)),S(e,w);var P=He(p);return s(),P}ct(["click"]);var Qi=A('<span class="badge badge-primary badge-sm"> </span>'),ea=A("<li><button><span> </span> <!></button></li>"),ta=A('<button class="btn btn-sm btn-outline btn-warning">Part Room</button>'),na=A('<div class="p-4 bg-base-200 h-full overflow-y-auto flex flex-col"><div class="flex justify-between items-center mb-4"><h3 class="font-bold text-lg">Rooms</h3> <button class="btn btn-ghost btn-sm btn-circle" title="Collapse sidebar">&lt;</button></div> <ul class="menu-compact flex-1"></ul> <div class="divider"></div> <div class="flex flex-col gap-2"><button class="btn btn-sm btn-outline btn-success">Join Room</button> <!></div></div>');function Os(e,t){if(new.target)return ze({component:Os,...e});Le(t,!0);const n=()=>G(me,"$rooms",i),r=()=>G(yt,"$hubName",i),o=()=>G(wr,"$roomListStore",i),s=()=>G(N,"$currentRoom",i),[i,l]=bt();let a=Pe(t,"onJoinRoom"),c=Pe(t,"onPartRoom"),u=Pe(t,"onToggleSidebar");function v(g){N.set(g),Ns(g)}function f(g){return n().get(g)?.unread||0}function m(g){return g==="[Hub]"?r()||"Hub":g}var y={get onJoinRoom(){return a()},set onJoinRoom(g){a(g),_e()},get onPartRoom(){return c()},set onPartRoom(g){c(g),_e()},get onToggleSidebar(){return u()},set onToggleSidebar(g){u(g),_e()},$set:Ye,$on:(g,T)=>Ke(t,g,T)},E=na(),p=h(E),w=b(h(p),2);w.__click=function(...g){u()?.apply(this,g)},d(p);var D=b(p,2);fn(D,5,o,On,(g,T)=>{var M=ea(),te=h(M);te.__click=()=>v(_(T));var ue=h(te),j=h(ue,!0);d(ue);var fe=b(ue,2);{var Q=K=>{var ne=Qi(),se=h(ne,!0);d(ne),re(xe=>ee(se,xe),[()=>f(_(T))]),S(K,ne)};V(fe,K=>{f(_(T))>0&&K(Q)})}d(te),d(M),re(K=>{jt(te,1,`flex justify-between items-center w-full text-left px-2 py-2 rounded ${_(T)===s()?"bg-primary text-primary-content hover:bg-primary-focus":"hover:bg-base-300"}`),ee(j,K)},[()=>m(_(T))]),S(g,M)}),d(D);var z=b(D,4),I=h(z);I.__click=function(...g){a()?.apply(this,g)};var Z=b(I,2);{var $=g=>{var T=ta();T.__click=function(...M){c()?.apply(this,M)},S(g,T)};V(Z,g=>{s()!=="[Hub]"&&g($)})}d(z),d(E),S(e,E);var C=He(y);return l(),C}ct(["click"]);var ra=A('<div class="chat-header"> <time class="text-xs opacity-50"> </time></div>'),sa=A('<div class="chat-footer opacity-50"><time class="text-xs"> </time></div>'),oa=A('<div><!> <div style="white-space: pre-line;"> </div> <!></div>'),ia=A('<button class="scroll-to-bottom-btn btn btn-circle btn-primary btn-sm svelte-1o304hm" aria-label="Scroll to bottom"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg></button>'),aa=A('<div class="message-area-wrapper svelte-1o304hm"><div class="message-area p-4"></div> <!></div>');function sr(e,t){if(new.target)return ze({component:sr,...e});Le(t,!0);const n=()=>G(yr,"$currentRoomData",s),r=()=>G(Ln,"$identityHash",s),o=()=>G(gr,"$sentMessageIds",s),[s,i]=bt();let l,a=X(!0),c=X(!1);function u(){return l?l.scrollHeight-l.scrollTop-l.clientHeight<=100:!0}function v(){const $=u();R(a,$,!0),R(c,!$)}function f(){l&&(l.scrollTop=l.scrollHeight,R(a,!0),R(c,!1))}an(()=>{const $=n()?.messages;l&&_(a)&&$&&requestAnimationFrame(()=>{l&&_(a)&&(l.scrollTop=l.scrollHeight)})}),an(()=>{n()?.room_id,R(a,!0),R(c,!1)});function m($){return!!($.type==="message"&&$.message_id&&$.sender_identity&&r()&&o()&&o().has($.message_id)&&$.sender_identity===r())}function y($){if(m($))return"chat chat-end";switch($.type){case"message":return"chat chat-start";case"system":return"chat chat-end";case"notice":return"chat chat-end";case"error":return"chat chat-end";default:return"chat"}}function E($){if(m($))return"chat-bubble chat-bubble-accent";switch($.type){case"message":return"chat-bubble chat-bubble-primary";case"system":return"chat-bubble chat-bubble-info";case"notice":return"chat-bubble chat-bubble-warning";case"error":return"chat-bubble chat-bubble-error";default:return"chat-bubble"}}var p={$set:Ye,$on:($,C)=>Ke(t,$,C)},w=aa(),D=h(w);fn(D,7,()=>n()?.messages||[],($,C)=>$.timestamp+$.text+C,($,C)=>{var g=oa(),T=h(g);{var M=Q=>{var K=ra(),ne=h(K),se=b(ne),xe=h(se,!0);d(se),d(K),re(()=>{ee(ne,`${_(C).user??""} `),ee(xe,_(C).timestamp)}),S(Q,K)};V(T,Q=>{_(C).user&&Q(M)})}var te=b(T,2),ue=h(te,!0);d(te);var j=b(te,2);{var fe=Q=>{var K=sa(),ne=h(K),se=h(ne,!0);d(ne),d(K),re(()=>ee(se,_(C).timestamp)),S(Q,K)};V(j,Q=>{!_(C).user&&_(C).timestamp&&Q(fe)})}d(g),re((Q,K)=>{jt(g,1,Q,"svelte-1o304hm"),jt(te,1,K,"svelte-1o304hm"),ee(ue,_(C).text)},[()=>Mr(y(_(C))),()=>Mr(E(_(C)))]),S($,g)}),d(D),vi(D,$=>l=$,()=>l);var z=b(D,2);{var I=$=>{var C=ia();C.__click=f,S($,C)};V(z,$=>{_(c)&&$(I)})}d(w),Pn("scroll",D,v),S(e,w);var Z=He(p);return i(),Z}ct(["click"]);const la="modulepreload",ca=function(e){return"/static/"+e},Pr={},Ls=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(v=>Promise.resolve(v).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};var i=c;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),a=l?.nonce||l?.getAttribute("nonce");o=c(n.map(u=>{if(u=ca(u),u in Pr)return;Pr[u]=!0;const v=u.endsWith(".css"),f=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=v?"stylesheet":la,v||(m.as="script"),m.crossOrigin="",m.href=u,a&&m.setAttribute("nonce",a),document.head.appendChild(m),v)return new Promise((y,E)=>{m.addEventListener("load",y),m.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(l){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=l,window.dispatchEvent(a),!a.defaultPrevented)throw l}return o.then(l=>{for(const a of l||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function ua(e){if(!e.startsWith("/"))return!1;const t=e.slice(1).trim().split(/\s+/),n=t[0].toLowerCase(),r=t.slice(1);switch(n){case"stats":return fa();case"reload":return da();case"who":return va(r);case"kline":return ha(r);case"kick":return ma(r);case"register":return pa(r);case"unregister":return _a(r);case"topic":return ba(r);case"mode":return ga(r);case"op":return ya(r);case"deop":return wa(r);case"voice":return xa(r);case"devoice":return ka(r);case"ban":return Ea(r);case"invite":return $a(r);case"join":return Sa(r);case"part":case"leave":return Ra(r);case"nick":return Ta(r);case"msg":case"query":return Ca(r);case"help":return Aa();default:return Ma(e)}}function fa(){return B({type:"send_command",command:"/stats",room:F(N)}),!0}function da(){return B({type:"send_command",command:"/reload",room:F(N)}),!0}function va(e){const t=e.length>0?e[0]:F(N);return B({type:"send_command",command:`/who ${t}`,room:F(N)}),!0}function ha(e){if(e.length<1)return ie("Usage: /kline <add|del|list> [target]"),!0;const t=e[0],n=e.slice(1).join(" ");return t==="list"?B({type:"send_command",command:"/kline list",room:F(N)}):t==="add"&&n?B({type:"send_command",command:`/kline add ${n}`,room:F(N)}):t==="del"&&n?B({type:"send_command",command:`/kline del ${n}`,room:F(N)}):ie("Usage: /kline <add|del|list> [target]"),!0}function ma(e){if(e.length<2)return ie("Usage: /kick <room> <nick|hashprefix>"),!0;const t=e[0],n=e.slice(1).join(" ");return B({type:"send_command",command:`/kick ${t} ${n}`,room:F(N)}),!0}function pa(e){const t=e.length>0?e[0]:F(N);return B({type:"send_command",command:`/register ${t}`,room:F(N)}),!0}function _a(e){const t=e.length>0?e[0]:F(N);return B({type:"send_command",command:`/unregister ${t}`,room:F(N)}),!0}function ba(e){if(e.length===0)return ie("Usage: /topic <room> [topic]"),!0;const t=e[0],n=e.slice(1).join(" ");return B({type:"send_command",command:`/topic ${t}${n?" "+n:""}`,room:F(N)}),!0}function ga(e){if(e.length<2)return ie("Usage: /mode <room> <mode> [args]"),!0;const t=e[0],n=e[1],r=e.slice(2).join(" ");return B({type:"send_command",command:`/mode ${t} ${n}${r?" "+r:""}`,room:F(N)}),!0}function ya(e){if(e.length<2)return ie("Usage: /op <room> <nick|hashprefix|hash>"),!0;const t=e[0],n=e.slice(1).join(" ");return B({type:"send_command",command:`/op ${t} ${n}`,room:F(N)}),!0}function wa(e){if(e.length<2)return ie("Usage: /deop <room> <nick|hashprefix|hash>"),!0;const t=e[0],n=e.slice(1).join(" ");return B({type:"send_command",command:`/deop ${t} ${n}`,room:F(N)}),!0}function xa(e){if(e.length<2)return ie("Usage: /voice <room> <nick|hashprefix|hash>"),!0;const t=e[0],n=e.slice(1).join(" ");return B({type:"send_command",command:`/voice ${t} ${n}`,room:F(N)}),!0}function ka(e){if(e.length<2)return ie("Usage: /devoice <room> <nick|hashprefix|hash>"),!0;const t=e[0],n=e.slice(1).join(" ");return B({type:"send_command",command:`/devoice ${t} ${n}`,room:F(N)}),!0}function Ea(e){if(e.length<2)return ie("Usage: /ban <room> <add|del|list> [target]"),!0;const t=e[0],n=e[1],r=e.slice(2).join(" ");return n==="list"?B({type:"send_command",command:`/ban ${t} list`,room:F(N)}):(n==="add"||n==="del")&&r?B({type:"send_command",command:`/ban ${t} ${n} ${r}`,room:F(N)}):ie("Usage: /ban <room> <add|del|list> [target]"),!0}function $a(e){if(e.length<2)return ie("Usage: /invite <room> <add|del|list> [target]"),!0;const t=e[0],n=e[1],r=e.slice(2).join(" ");return n==="list"?B({type:"send_command",command:`/invite ${t} list`,room:F(N)}):(n==="add"||n==="del")&&r?B({type:"send_command",command:`/invite ${t} ${n} ${r}`,room:F(N)}):ie("Usage: /invite <room> <add|del|list> [target]"),!0}function Sa(e){if(e.length===0)return ie("Usage: /join <room>"),!0;const t=e[0];return B({type:"join_room",room:t}),!0}function Ra(e){const t=e.length>0?e[0]:F(N);return t==="[Hub]"?(ie("Cannot part from [Hub]"),!0):(B({type:"part_room",room:t}),!0)}function Ta(e){if(e.length===0)return ie("Usage: /nick <nickname>"),!0;const t=e.join(" ");return B({type:"set_nickname",nickname:t}),!0}function Ca(e){if(e.length<2)return ie("Usage: /msg <room> <message>"),!0;const t=e[0],n=e.slice(1).join(" ");return B({type:"send_message",text:n,room:t}),!0}function Aa(e){const t=`
Available commands (rrcd v0.1+):

Room Moderation Commands:
  /kick <room> <nick>           - Remove user from room
  /register <room>              - Persist room settings
  /unregister <room>            - Remove room settings
  /topic <room> [topic]         - Show or set room topic
  /mode <room> <flags>          - Set room modes (+m, +i, +k, +t, +n, +r)
  /op <room> <nick>             - Grant operator status
  /deop <room> <nick>           - Revoke operator status
  /voice <room> <nick>          - Grant voice (in moderated rooms)
  /devoice <room> <nick>        - Revoke voice
  /ban <room> add <nick>        - Ban user from room
  /ban <room> del <nick>        - Remove room ban
  /ban <room> list              - List room bans
  /invite <room> add <nick>     - Invite user to room
  /invite <room> del <nick>     - Remove room invite
  /invite <room> list           - List room invites

Client Commands:
  /join <room>                  - Join a room
  /part [room]                  - Leave a room (current room if not specified)
  /nick <nickname>              - Change your nickname
  /msg <room> <message>         - Send message to specific room
  /help                         - Show this help message

Room Modes:
  +m  Moderated (only voiced/ops can speak)
  +i  Invite-only
  +k  Key/password required
  +t  Topic ops-only
  +n  No outside messages
  +r  Registered
    `.trim();return Na(t),!0}function Ma(e){return B({type:"send_command",command:e,room:F(N)}),!0}function ie(e){Ls(async()=>{const{rooms:t,currentRoom:n}=await Promise.resolve().then(()=>Cs);return{rooms:t,currentRoom:n}},void 0).then(({rooms:t,currentRoom:n})=>{const r=F(n);t.update(o=>{const s=o.get(r);return s&&s.messages.push({type:"error",text:e,timestamp:new Date().toLocaleTimeString()}),new Map(o)})})}function Na(e){Ls(async()=>{const{rooms:t,currentRoom:n}=await Promise.resolve().then(()=>Cs);return{rooms:t,currentRoom:n}},void 0).then(({rooms:t,currentRoom:n})=>{const r=F(n);t.update(o=>{const s=o.get(r);return s&&s.messages.push({type:"notice",text:e,timestamp:new Date().toLocaleTimeString()}),new Map(o)})})}var Da=A('<div class="p-4 bg-base-200"><div class="flex gap-2"><input type="text" placeholder="Type a message... (type /help for commands)" class="input input-bordered flex-1"/> <button class="btn btn-outline btn-primary p-4">Send</button></div></div>');function or(e,t){if(new.target)return ze({component:or,...e});Le(t,!0);const n=()=>G(N,"$currentRoom",r),[r,o]=bt();let s=X("");function i(){if(_(s).trim()){if(_(s).startsWith("/")&&ua(_(s))){R(s,"");return}Oi(_(s),n()),R(s,"")}}function l(y){y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),i())}var a={$set:Ye,$on:(y,E)=>Ke(t,y,E)},c=Da(),u=h(c),v=h(u);dt(v);var f=b(v,2);f.__click=i,d(u),d(c),Pn("keypress",v,l),kt(v,()=>_(s),y=>R(s,y)),S(e,c);var m=He(a);return o(),m}ct(["click"]);var Pa=A('<p class="text-sm opacity-60">No users</p>'),Oa=A('<li><span class="text-sm"> </span></li>'),La=A('<ul class="menu menu-compact"></ul>'),Ha=A('<div class="p-4 bg-base-200 h-full overflow-y-auto"><h3 class="font-bold text-lg mb-4">Users</h3> <!></div>');function Hs(e,t){if(new.target)return ze({component:Hs,...e});Le(t,!0);const n=()=>G(yr,"$currentRoomData",r),[r,o]=bt();var s={$set:Ye,$on:(v,f)=>Ke(t,v,f)},i=Ha(),l=b(h(i),2);{var a=v=>{var f=Pa();S(v,f)},c=v=>{var f=La();fn(f,5,()=>Array.from(n().users),On,(m,y)=>{var E=Oa(),p=h(E),w=h(p,!0);d(p),d(E),re(()=>ee(w,_(y))),S(m,E)}),d(f),S(v,f)};V(l,v=>{n().users.size===0?v(a):v(c,!1)})}d(i),S(e,i);var u=He(s);return o(),u}var Ia=A('<div class="modal modal-open"><div class="modal-box"><h3 class="font-bold text-lg">Join Room</h3> <form><div class="form-control mt-4"><label class="label" for="roomNameInput"><span class="mr-4 label-text">Room Name:</span></label> <input type="text" id="roomNameInput" class="input input-bordered" placeholder="Enter room name" required/></div> <div class="modal-action"><button type="button" class="p-4 mr-4 btn btn-error">Cancel</button> <button type="submit" class="p-4 btn btn-primary">Join</button></div></form></div></div>');function Is(e,t){if(new.target)return ze({component:Is,...e});Le(t,!0);let n=Pe(t,"show",7,!1),r=Pe(t,"onClose"),o=X("");function s(v){v.preventDefault(),_(o).trim()&&(Di(_(o).trim()),R(o,""),r()())}function i(){R(o,""),r()()}var l={get show(){return n()},set show(v=!1){n(v),_e()},get onClose(){return r()},set onClose(v){r(v),_e()},$set:Ye,$on:(v,f)=>Ke(t,v,f)},a=ks(),c=fr(a);{var u=v=>{var f=Ia(),m=h(f),y=b(h(m),2),E=h(y),p=b(h(E),2);dt(p),d(E);var w=b(E,2),D=h(w);D.__click=i,mt(2),d(w),d(y),d(m),d(f),Pn("submit",y,s),kt(p,()=>_(o),z=>R(o,z)),S(v,f)};V(c,v=>{n()&&v(u)})}return S(e,a),He(l)}ct(["click"]);var ja=A('<div class="flex items-center gap-2"><span class="opacity-70">Hub:</span> <span> </span></div>'),Fa=A('<div class="flex items-center gap-2"><span class="opacity-70">Nickname:</span> <span> </span></div>'),Ua=A('<div class="flex items-center gap-2"><span class="opacity-70">Latency:</span> <span> </span></div>'),qa=A('<button class="btn btn-sm btn-error justify-start">Disconnect</button>'),Ba=A('<span class="badge badge-primary badge-sm"> </span>'),Ja=A("<li><button><span> </span> <!></button></li>"),Wa=A('<button class="btn btn-sm btn-outline btn-warning">Part Room</button>'),Va=A('<div class="fixed inset-0 z-50 flex"><div class="fixed inset-0 bg-black/50" role="button" tabindex="0"></div> <div class="relative w-80 bg-base-200 h-full overflow-y-auto shadow-xl"><div class="p-4"><div class="flex justify-between items-center mb-4"><h2 class="text-xl font-bold">Menu</h2> <button class="btn btn-ghost btn-sm btn-circle">âœ•</button></div> <div class="card bg-base-300 mb-4"><div class="card-body p-3"><h3 class="font-semibold text-sm mb-2">Status</h3> <div class="flex flex-col gap-2 text-sm"><div class="flex items-center gap-2"><div></div> <span> </span></div> <div class="flex items-center gap-2"><div></div> <span> </span></div> <!> <!> <!></div></div></div> <div class="flex flex-col gap-2 mb-4"><button class="btn btn-sm btn-ghost justify-start"><!></button> <!></div> <div class="divider"></div> <h3 class="font-bold text-lg mb-2">Rooms</h3> <ul class="menu menu-compact mb-4"></ul> <div class="flex flex-col gap-2"><button class="btn btn-sm btn-outline btn-primary">Join Room</button> <!></div></div></div></div>');function js(e,t){if(new.target)return ze({component:js,...e});Le(t,!0);const n=()=>G(me,"$rooms",u),r=()=>G(cn,"$wsConnected",u),o=()=>G(gt,"$rrcConnected",u),s=()=>G(yt,"$hubName",u),i=()=>G(Kt,"$nickname",u),l=()=>G(dn,"$latency",u),a=()=>G(wr,"$roomListStore",u),c=()=>G(N,"$currentRoom",u),[u,v]=bt();let f=Pe(t,"isOpen",7,!1),m=Pe(t,"onClose"),y=Pe(t,"onToggleTheme"),E=Pe(t,"onJoinRoom"),p=Pe(t,"onPartRoom"),w=X("dark");function D(){R(w,_(w)==="dark"?"light":"dark",!0),document.documentElement.setAttribute("data-theme",_(w)),y()(_(w))}function z(){Ms(),m()()}function I(j){N.set(j),Ns(j),m()()}function Z(j){return n().get(j)?.unread||0}function $(){E()(),m()()}function C(){p()(),m()()}var g={get isOpen(){return f()},set isOpen(j=!1){f(j),_e()},get onClose(){return m()},set onClose(j){m(j),_e()},get onToggleTheme(){return y()},set onToggleTheme(j){y(j),_e()},get onJoinRoom(){return E()},set onJoinRoom(j){E(j),_e()},get onPartRoom(){return p()},set onPartRoom(j){p(j),_e()},$set:Ye,$on:(j,fe)=>Ke(t,j,fe)},T=ks(),M=fr(T);{var te=j=>{var fe=Va(),Q=h(fe);Q.__click=function(...O){m()?.apply(this,O)},Q.__keydown=O=>O.key==="Enter"&&m()();var K=b(Q,2),ne=h(K),se=h(ne),xe=b(h(se),2);xe.__click=function(...O){m()?.apply(this,O)},d(se);var pe=b(se,2),Ge=h(pe),ke=b(h(Ge),2),Te=h(ke),Ie=h(Te),je=b(Ie,2),Xe=h(je);d(je),d(Te);var Fe=b(Te,2),k=h(Fe),P=b(k,2),x=h(P);d(P),d(Fe);var J=b(Fe,2);{var de=O=>{var Y=ja(),Ce=b(h(Y),2),Ue=h(Ce,!0);d(Ce),d(Y),re(()=>ee(Ue,s())),S(O,Y)};V(J,O=>{s()&&O(de)})}var ut=b(J,2);{var Yt=O=>{var Y=Fa(),Ce=b(h(Y),2),Ue=h(Ce,!0);d(Ce),d(Y),re(()=>ee(Ue,i())),S(O,Y)};V(ut,O=>{i()&&O(Yt)})}var Gt=b(ut,2);{var hn=O=>{var Y=Ua(),Ce=b(h(Y),2),Ue=h(Ce);d(Ce),d(Y),re(()=>ee(Ue,`${l()??""}ms`)),S(O,Y)};V(Gt,O=>{l()!==null&&O(hn)})}d(ke),d(Ge),d(pe);var wt=b(pe,2),Pt=h(wt);Pt.__click=D;var mn=h(Pt);{var Xt=O=>{var Y=ln("â˜€ï¸ Light Mode");S(O,Y)},In=O=>{var Y=ln("ðŸŒ™ Dark Mode");S(O,Y)};V(mn,O=>{_(w)==="dark"?O(Xt):O(In,!1)})}d(Pt);var jn=b(Pt,2);{var Fn=O=>{var Y=qa();Y.__click=z,S(O,Y)};V(jn,O=>{o()&&O(Fn)})}d(wt);var Ze=b(wt,6);fn(Ze,5,a,On,(O,Y)=>{var Ce=Ja(),Ue=h(Ce);Ue.__click=()=>I(_(Y));var qn=h(Ue),Bs=h(qn,!0);d(qn);var Js=b(qn,2);{var Ws=Bn=>{var Jn=Ba(),Vs=h(Jn,!0);d(Jn),re(zs=>ee(Vs,zs),[()=>Z(_(Y))]),S(Bn,Jn)};V(Js,Bn=>{Z(_(Y))>0&&Bn(Ws)})}d(Ue),d(Ce),re(()=>{jt(Ue,1,`flex justify-between items-center ${_(Y)===c()?"active":""}`),ee(Bs,_(Y))}),S(O,Ce)}),d(Ze);var Ot=b(Ze,2),pn=h(Ot);pn.__click=$;var Un=b(pn,2);{var qs=O=>{var Y=Wa();Y.__click=C,S(O,Y)};V(Un,O=>{c()!=="[Hub]"&&O(qs)})}d(Ot),d(ne),d(K),d(fe),re(()=>{jt(Ie,1,`badge ${r()?"badge-success":"badge-error"} badge-xs`),ee(Xe,`WebSocket: ${r()?"Connected":"Disconnected"}`),jt(k,1,`badge ${o()?"badge-success":"badge-error"} badge-xs`),ee(x,`RRC: ${o()?"Connected":"Disconnected"}`)}),S(j,fe)};V(M,j=>{f()&&j(te)})}S(e,T);var ue=He(g);return v(),ue}ct(["click","keydown"]);var za=A('<div class="w-64 border-r border-base-300 flex-shrink-0"><!></div>'),Ka=A('<div class="border-r border-base-300 flex-shrink-0 bg-base-200"><button class="btn btn-ghost btn-sm m-2" title="Expand sidebar">&gt;</button></div>'),Ya=A('<div class="hidden md:flex md:flex-col h-full"><!> <div class="flex flex-1 min-h-0"><!> <div class="flex-1 flex min-h-0"><div class="flex-1 flex flex-col min-h-0"><!> <!></div> <div class="hidden xl:block w-64 border-l border-base-300 overflow-y-auto flex-shrink-0"><!></div></div></div></div> <div class="md:hidden flex flex-col h-full"><div class="navbar bg-base-300"><div class="flex-none"><button class="btn btn-square btn-ghost" aria-label="Toggle mobile menu"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div> <div class="flex-1 px-2"><span class="text-lg font-bold">RRC</span> <span class="ml-2 text-sm opacity-70"> </span></div></div> <!> <div class="flex-1 flex flex-col min-h-0"><!> <!></div></div> <!> <!>',1);function Fs(e,t){if(new.target)return ze({component:Fs,...e});Le(t,!0);const n=()=>G(N,"$currentRoom",o),r=()=>G(gt,"$rrcConnected",o),[o,s]=bt();let i=X(!1),l=X(!1),a=X(!1);function c(){}function u(){R(i,!0)}function v(){const x=n();x!=="[Hub]"&&Pi(x)}function f(){R(i,!1)}function m(x){}function y(){R(l,!_(l))}function E(){R(a,!_(a))}function p(){R(a,!1)}var w={$set:Ye,$on:(x,J)=>Ke(t,x,J)},D=Ya(),z=fr(D),I=h(z);Ds(I,{onToggleTheme:m});var Z=b(I,2),$=h(Z);{var C=x=>{var J=za(),de=h(J);Os(de,{onJoinRoom:u,onPartRoom:v,onToggleSidebar:y}),d(J),S(x,J)},g=x=>{var J=Ka(),de=h(J);de.__click=y,d(J),S(x,J)};V($,x=>{_(l)?x(g,!1):x(C)})}var T=b($,2),M=h(T),te=h(M);sr(te,{});var ue=b(te,2);or(ue,{}),d(M);var j=b(M,2),fe=h(j);Hs(fe,{}),d(j),d(T),d(Z),d(z);var Q=b(z,2),K=h(Q),ne=h(K),se=h(ne);se.__click=E,d(ne);var xe=b(ne,2),pe=b(h(xe),2),Ge=h(pe);d(pe),d(xe),d(K);var ke=b(K,2);js(ke,{get isOpen(){return _(a)},onClose:p,onToggleTheme:m,onJoinRoom:u,onPartRoom:v});var Te=b(ke,2),Ie=h(Te);sr(Ie,{});var je=b(Ie,2);or(je,{}),d(Te),d(Q);var Xe=b(Q,2);{var Fe=x=>{Ps(x,{onConnect:c})};V(Xe,x=>{r()||x(Fe)})}var k=b(Xe,2);Is(k,{get show(){return _(i)},onClose:f}),re(()=>ee(Ge,`- ${n()??""}`)),S(e,D);var P=He(w);return s(),P}ct(["click"]);var Ga=A('<div class="label"><span class="label-text-alt text-error"> </span></div>'),Xa=A('<span class="loading loading-spinner"></span> Authenticating...',1),Za=A('<div class="hero min-h-screen bg-base-200"><div class="hero-content flex-col"><div class="text-center lg:text-left mb-8"><img alt="RRC Logo" class="w-64 mx-auto"/> <p>Authentication has been enabled on this application.</p> <p>Please enter your authentication token to continue.</p></div> <div class="card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100"><div class="card-body"><div class="form-control"><label class="label" for="token-input"><span class="label-text">Authentication Token</span></label> <input id="token-input" type="password" placeholder="Enter your token" class="input input-bordered" autocomplete="off"/> <!></div> <div class="form-control mt-6"><button class="btn btn-primary"><!></button></div> <div class="divider"></div> <div class="text-sm opacity-70"><p class="mb-2">To generate a token, run:</p> <code class="block bg-base-300 p-2 rounded text-xs overflow-x-auto">python -c "import secrets; print(secrets.token_urlsafe(32))"</code> <p class="mt-2">Add the token to your <code>config.json</code> file.</p></div></div></div></div></div>');function Us(e,t){if(new.target)return ze({component:Us,...e});Le(t,!0);let n=X(""),r=X(""),o=X(!1),s=X(!0);an(()=>{const g=document.documentElement.getAttribute("data-theme");g?R(s,g==="dark"):R(s,window.matchMedia("(prefers-color-scheme: dark)").matches,!0);const T=new MutationObserver(()=>{const M=document.documentElement.getAttribute("data-theme");M&&R(s,M==="dark")});return T.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>T.disconnect()});async function i(){R(r,""),R(o,!0);try{const g=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:_(n)})}),T=await g.json();g.ok?window.location.reload():R(r,T.error||"Login failed",!0)}catch(g){R(r,"Failed to connect to server"),console.error("Login error:",g)}finally{R(o,!1)}}function l(g){g.key==="Enter"&&!_(o)&&i()}var a={$set:Ye,$on:(g,T)=>Ke(t,g,T)},c=Za(),u=h(c),v=h(u),f=h(v);mt(4),d(v);var m=b(v,2),y=h(m),E=h(y),p=b(h(E),2);dt(p),p.__keydown=l;var w=b(p,2);{var D=g=>{var T=Ga(),M=h(T),te=h(M,!0);d(M),d(T),re(()=>ee(te,_(r))),S(g,T)};V(w,g=>{_(r)&&g(D)})}d(E);var z=b(E,2),I=h(z);I.__click=i;var Z=h(I);{var $=g=>{var T=Xa();mt(),S(g,T)},C=g=>{var T=ln("Login");S(g,T)};V(Z,g=>{_(o)?g($):g(C,!1)})}return d(I),d(z),mt(4),d(y),d(m),d(u),d(c),re(g=>{tr(f,"src",_(s)?"/transparent-logo-dark.png":"/transparent-logo-light.png"),p.disabled=_(o),I.disabled=g},[()=>_(o)||!_(n).trim()]),kt(p,()=>_(n),g=>R(n,g)),S(e,c),He(a)}ct(["keydown","click"]);async function Qa(){try{const e=await fetch("/api/auth-status");if(!e.ok)return!0;const t=await e.json();return!t.auth_required||t.is_authenticated}catch(e){return console.error("Failed to check auth status:",e),!0}}async function el(){await Qa()?(new Fs({target:document.getElementById("app")}),As()):new Us({target:document.getElementById("app")})}el();
