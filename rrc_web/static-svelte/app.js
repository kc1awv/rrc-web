(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const ne=2,or=4,ir=8,Ks=1<<24,it=16,at=32,Mt=64,kn=128,Oe=512,ie=1024,be=2048,We=4096,Ee=8192,st=16384,En=32768,Ft=65536,xr=1<<17,Or=1<<18,Bt=1<<19,Ys=1<<20,tt=1<<25,Rt=32768,Vn=1<<21,ar=1<<22,dt=1<<23,pn=Symbol("$state"),Gs=Symbol("legacy props"),Xs=Symbol(""),It=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},$n=3,Vt=8,zn=!1;var Lr=Array.isArray,Zs=Array.prototype.indexOf,Sn=Array.from,lr=Object.defineProperty,en=Object.getOwnPropertyDescriptor,Qs=Object.getOwnPropertyDescriptors,eo=Object.prototype,to=Array.prototype,Hr=Object.getPrototypeOf,kr=Object.isExtensible;const vt=()=>{};function Ir(e){for(var t=0;t<e.length;t++)e[t]()}function jr(){var e,t,n=new Promise((r,o)=>{e=r,t=o});return{promise:n,resolve:e,reject:t}}function Fr(e){return e===this.v}function Ur(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function qr(e){return!Ur(e,this.v)}function no(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ro(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function so(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function oo(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function io(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ao(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function lo(){throw new Error("https://svelte.dev/e/hydration_failed")}function co(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function uo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function fo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function vo(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}let ho=!1;const mo=1,_o=2,Jr=4,po=8,bo=16,go=1,yo=2,Wr="[",Rn="[!",cr="]",Ut={},oe=Symbol(),wo="http://www.w3.org/1999/xhtml";let $e=null;function qt(e){$e=e}function Le(e,t=!1,n){$e={p:$e,i:!1,c:null,e:null,s:e,x:null,l:null}}function He(e){var t=$e,n=t.e;if(n!==null){t.e=null;for(var r of n)ms(r)}return e!==void 0&&(t.x=e),t.i=!0,$e=t.p,e??{}}function Br(){return!0}let xt=[];function Vr(){var e=xt;xt=[],Ir(e)}function Nt(e){if(xt.length===0&&!tn){var t=xt;queueMicrotask(()=>{t===xt&&Vr()})}xt.push(e)}function xo(){for(;xt.length>0;)Vr()}function Tn(e){console.warn("https://svelte.dev/e/hydration_mismatch")}function ko(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let O=!1;function nt(e){O=e}let F;function ue(e){if(e===null)throw Tn(),Ut;return F=e}function Cn(){return ue(Ve(F))}function d(e){if(O){if(Ve(F)!==null)throw Tn(),Ut;F=e}}function ht(e=1){if(O){for(var t=e,n=F;t--;)n=Ve(n);F=n}}function gn(e=!0){for(var t=0,n=F;;){if(n.nodeType===Vt){var r=n.data;if(r===cr){if(t===0)return n;t-=1}else(r===Wr||r===Rn)&&(t+=1)}var o=Ve(n);e&&n.remove(),n=o}}function zr(e){if(!e||e.nodeType!==Vt)throw Tn(),Ut;return e.data}function rt(e){if(typeof e!="object"||e===null||pn in e)return e;const t=Hr(e);if(t!==eo&&t!==to)return e;var n=new Map,r=Lr(e),o=G(0),s=$t,i=l=>{if($t===s)return l();var a=P,c=$t;me(null),Tr(s);var u=l();return me(a),Tr(c),u};return r&&n.set("length",G(e.length)),new Proxy(e,{defineProperty(l,a,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&co();var u=n.get(a);return u===void 0?u=i(()=>{var v=G(c.value);return n.set(a,v),v}):T(u,c.value,!0),!0},deleteProperty(l,a){var c=n.get(a);if(c===void 0){if(a in l){const u=i(()=>G(oe));n.set(a,u),nn(o)}}else T(c,oe),nn(o);return!0},get(l,a,c){if(a===pn)return e;var u=n.get(a),v=a in l;if(u===void 0&&(!v||en(l,a)?.writable)&&(u=i(()=>{var m=rt(v?l[a]:oe),_=G(m);return _}),n.set(a,u)),u!==void 0){var f=b(u);return f===oe?void 0:f}return Reflect.get(l,a,c)},getOwnPropertyDescriptor(l,a){var c=Reflect.getOwnPropertyDescriptor(l,a);if(c&&"value"in c){var u=n.get(a);u&&(c.value=b(u))}else if(c===void 0){var v=n.get(a),f=v?.v;if(v!==void 0&&f!==oe)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return c},has(l,a){if(a===pn)return!0;var c=n.get(a),u=c!==void 0&&c.v!==oe||Reflect.has(l,a);if(c!==void 0||U!==null&&(!u||en(l,a)?.writable)){c===void 0&&(c=i(()=>{var f=u?rt(l[a]):oe,m=G(f);return m}),n.set(a,c));var v=b(c);if(v===oe)return!1}return u},set(l,a,c,u){var v=n.get(a),f=a in l;if(r&&a==="length")for(var m=c;m<v.v;m+=1){var _=n.get(m+"");_!==void 0?T(_,oe):m in l&&(_=i(()=>G(oe)),n.set(m+"",_))}if(v===void 0)(!f||en(l,a)?.writable)&&(v=i(()=>G(void 0)),T(v,rt(c)),n.set(a,v));else{f=v.v!==oe;var w=i(()=>rt(c));T(v,w)}var p=Reflect.getOwnPropertyDescriptor(l,a);if(p?.set&&p.set.call(u,c),!f){if(r&&typeof a=="string"){var x=n.get("length"),L=Number(a);Number.isInteger(L)&&L>=x.v&&T(x,L+1)}nn(o)}return!0},ownKeys(l){b(o);var a=Reflect.ownKeys(l).filter(v=>{var f=n.get(v);return f===void 0||f.v!==oe});for(var[c,u]of n)u.v!==oe&&!(c in l)&&a.push(c);return a},setPrototypeOf(){uo()}})}var Er,Kr,Yr,Gr;function Kn(){if(Er===void 0){Er=window,Kr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Yr=en(t,"firstChild").get,Gr=en(t,"nextSibling").get,kr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),kr(n)&&(n.__t=void 0)}}function _e(e=""){return document.createTextNode(e)}function Tt(e){return Yr.call(e)}function Ve(e){return Gr.call(e)}function h(e,t){if(!O)return Tt(e);var n=Tt(F);if(n===null)n=F.appendChild(_e());else if(t&&n.nodeType!==$n){var r=_e();return n?.before(r),ue(r),r}return ue(n),n}function ur(e,t=!1){if(!O){var n=Tt(e);return n instanceof Comment&&n.data===""?Ve(n):n}if(t&&F?.nodeType!==$n){var r=_e();return F?.before(r),ue(r),r}return F}function y(e,t=1,n=!1){let r=O?F:e;for(var o;t--;)o=r,r=Ve(r);if(!O)return r;if(n&&r?.nodeType!==$n){var s=_e();return r===null?o?.after(s):r.before(s),ue(s),s}return ue(r),r}function Xr(e){e.textContent=""}function Zr(){return!1}function Qr(e){var t=U;if(t===null)return P.f|=dt,e;if((t.f&En)===0){if((t.f&kn)===0)throw e;t.b.error(e)}else Jt(e,t)}function Jt(e,t){for(;t!==null;){if((t.f&kn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const _n=new Set;let B=null,bn=null,Ne=null,Ae=[],An=null,Yn=!1,tn=!1;class qe{committed=!1;current=new Map;previous=new Map;#t=new Set;#e=new Set;#n=0;#r=0;#l=null;#o=new Set;#s=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#r>0}process(t){Ae=[],bn=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[]};for(const r of t)this.#i(r,n);this.is_fork||this.#u(),this.is_deferred()?(this.#a(n.effects),this.#a(n.render_effects)):(bn=this,B=null,$r(n.render_effects),$r(n.effects),bn=null,this.#l?.resolve()),Ne=null}#i(t,n){t.f^=ie;for(var r=t.first;r!==null;){var o=r.f,s=(o&(at|Mt))!==0,i=s&&(o&ie)!==0,l=i||(o&Ee)!==0||this.skipped_effects.has(r);if((r.f&kn)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[]}),!l&&r.fn!==null){s?r.f^=ie:(o&or)!==0?n.effects.push(r):cn(r)&&((r.f&it)!==0&&this.#o.add(r),sn(r));var a=r.first;if(a!==null){r=a;continue}}var c=r.parent;for(r=r.next;r===null&&c!==null;)c===n.effect&&(this.#a(n.effects),this.#a(n.render_effects),n=n.parent),r=c.next,c=c.parent}}#a(t){for(const n of t)(n.f&be)!==0?this.#o.add(n):(n.f&We)!==0&&this.#s.add(n),this.#c(n.deps),ae(n,ie)}#c(t){if(t!==null)for(const n of t)(n.f&ne)===0||(n.f&Rt)===0||(n.f^=Rt,this.#c(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&dt)===0&&(this.current.set(t,t.v),Ne?.set(t,t.v))}activate(){B=this,this.apply()}deactivate(){B===this&&(B=null,Ne=null)}flush(){if(this.activate(),Ae.length>0){if(es(),B!==null&&B!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#e)t(this);this.#e.clear()}#u(){if(this.#r===0){for(const t of this.#t)t();this.#t.clear()}this.#n===0&&this.#f()}#f(){if(_n.size>1){this.previous.clear();var t=Ne,n=!0,r={parent:null,effect:null,effects:[],render_effects:[]};for(const s of _n){if(s===this){n=!1;continue}const i=[];for(const[a,c]of this.current){if(s.current.has(a))if(n&&c!==s.current.get(a))s.current.set(a,c);else continue;i.push(a)}if(i.length===0)continue;const l=[...s.current.keys()].filter(a=>!this.current.has(a));if(l.length>0){var o=Ae;Ae=[];const a=new Set,c=new Map;for(const u of i)ts(u,l,a,c);if(Ae.length>0){B=s,s.apply();for(const u of Ae)s.#i(u,r);s.deactivate()}Ae=o}}B=null,Ne=t}this.committed=!0,_n.delete(this)}increment(t){this.#n+=1,t&&(this.#r+=1)}decrement(t){this.#n-=1,t&&(this.#r-=1),this.revive()}revive(){for(const t of this.#o)this.#s.delete(t),ae(t,be),Ct(t);for(const t of this.#s)ae(t,We),Ct(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#e.add(t)}settled(){return(this.#l??=jr()).promise}static ensure(){if(B===null){const t=B=new qe;_n.add(B),tn||qe.enqueue(()=>{B===t&&t.flush()})}return B}static enqueue(t){Nt(t)}apply(){}}function he(e){var t=tn;tn=!0;try{for(var n;;){if(xo(),Ae.length===0&&(B?.flush(),Ae.length===0))return An=null,n;es()}}finally{tn=t}}function es(){var e=Et;Yn=!0;var t=null;try{var n=0;for(wn(!0);Ae.length>0;){var r=qe.ensure();if(n++>1e3){var o,s;Eo()}r.process(Ae),mt.clear()}}finally{Yn=!1,wn(e),An=null}}function Eo(){try{ao()}catch(e){Jt(e,An)}}let Qe=null;function $r(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(st|Ee))===0&&cn(r)&&(Qe=new Set,sn(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?bs(r):r.fn=null),Qe?.size>0)){mt.clear();for(const o of Qe){if((o.f&(st|Ee))!==0)continue;const s=[o];let i=o.parent;for(;i!==null;)Qe.has(i)&&(Qe.delete(i),s.push(i)),i=i.parent;for(let l=s.length-1;l>=0;l--){const a=s[l];(a.f&(st|Ee))===0&&sn(a)}}Qe.clear()}}Qe=null}}function ts(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const o of e.reactions){const s=o.f;(s&ne)!==0?ts(o,t,n,r):(s&(ar|it))!==0&&(s&be)===0&&ns(o,t,r)&&(ae(o,be),Ct(o))}}function ns(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const o of e.deps){if(t.includes(o))return!0;if((o.f&ne)!==0&&ns(o,t,n))return n.set(o,!0),!0}return n.set(e,!1),!1}function Ct(e){for(var t=An=e;t.parent!==null;){t=t.parent;var n=t.f;if(Yn&&t===U&&(n&it)!==0&&(n&Or)===0)return;if((n&(Mt|at))!==0){if((n&ie)===0)return;t.f^=ie}}Ae.push(t)}function $o(e){let t=0,n=At(0),r;return()=>{on()&&(b(n),Dn(()=>(t===0&&(r=zt(()=>e(()=>nn(n)))),t+=1,()=>{Nt(()=>{t-=1,t===0&&(r?.(),r=void 0,nn(n))})})))}}var So=Ft|Bt|kn;function Ro(e,t,n){new To(e,t,n)}class To{parent;#t=!1;#e;#n=O?F:null;#r;#l;#o;#s=null;#i=null;#a=null;#c=null;#u=null;#f=0;#d=0;#h=!1;#v=null;#g=$o(()=>(this.#v=At(this.#f),()=>{this.#v=null}));constructor(t,n,r){this.#e=t,this.#r=n,this.#l=r,this.parent=U.b,this.#t=!!this.#r.pending,this.#o=mr(()=>{if(U.b=this,O){const s=this.#n;Cn(),s.nodeType===Vt&&s.data===Rn?this.#w():this.#y()}else{var o=this.#p();try{this.#s=Me(()=>r(o))}catch(s){this.error(s)}this.#d>0?this.#_():this.#t=!1}return()=>{this.#u?.remove()}},So),O&&(this.#e=F)}#y(){try{this.#s=Me(()=>this.#l(this.#e))}catch(t){this.error(t)}this.#t=!1}#w(){const t=this.#r.pending;t&&(this.#i=Me(()=>t(this.#e)),qe.enqueue(()=>{var n=this.#p();this.#s=this.#m(()=>(qe.ensure(),Me(()=>this.#l(n)))),this.#d>0?this.#_():(St(this.#i,()=>{this.#i=null}),this.#t=!1)}))}#p(){var t=this.#e;return this.#t&&(this.#u=_e(),this.#e.before(this.#u),t=this.#u),t}is_pending(){return this.#t||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#m(t){var n=U,r=P,o=$e;Be(this.#o),me(this.#o),qt(this.#o.ctx);try{return t()}catch(s){return Qr(s),null}finally{Be(n),me(r),qt(o)}}#_(){const t=this.#r.pending;this.#s!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#u),ws(this.#s,this.#c)),this.#i===null&&(this.#i=Me(()=>t(this.#e)))}#b(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(t);return}this.#d+=t,this.#d===0&&(this.#t=!1,this.#i&&St(this.#i,()=>{this.#i=null}),this.#c&&(this.#e.before(this.#c),this.#c=null))}update_pending_count(t){this.#b(t),this.#f+=t,this.#v&&Wt(this.#v,this.#f)}get_effect_pending(){return this.#g(),b(this.#v)}error(t){var n=this.#r.onerror;let r=this.#r.failed;if(this.#h||!n&&!r)throw t;this.#s&&(pe(this.#s),this.#s=null),this.#i&&(pe(this.#i),this.#i=null),this.#a&&(pe(this.#a),this.#a=null),O&&(ue(this.#n),ht(),ue(gn()));var o=!1,s=!1;const i=()=>{if(o){ko();return}o=!0,s&&vo(),qe.ensure(),this.#f=0,this.#a!==null&&St(this.#a,()=>{this.#a=null}),this.#t=this.has_pending_snippet(),this.#s=this.#m(()=>(this.#h=!1,Me(()=>this.#l(this.#e)))),this.#d>0?this.#_():this.#t=!1};var l=P;try{me(null),s=!0,n?.(t,i),s=!1}catch(a){Jt(a,this.#o&&this.#o.parent)}finally{me(l)}r&&Nt(()=>{this.#a=this.#m(()=>{qe.ensure(),this.#h=!0;try{return Me(()=>{r(this.#e,()=>t,()=>i)})}catch(a){return Jt(a,this.#o.parent),null}finally{this.#h=!1}})})}}function Co(e,t,n,r){const o=fr;if(n.length===0&&e.length===0){r(t.map(o));return}var s=B,i=U,l=Ao();function a(){Promise.all(n.map(c=>Mo(c))).then(c=>{l();try{r([...t.map(o),...c])}catch(u){(i.f&st)===0&&Jt(u,i)}s?.deactivate(),yn()}).catch(c=>{Jt(c,i)})}e.length>0?Promise.all(e).then(()=>{l();try{return a()}finally{s?.deactivate(),yn()}}):a()}function Ao(){var e=U,t=P,n=$e,r=B;return function(s=!0){Be(e),me(t),qt(n),s&&r?.activate()}}function yn(){Be(null),me(null),qt(null)}function fr(e){var t=ne|be,n=P!==null&&(P.f&ne)!==0?P:null;return U!==null&&(U.f|=Bt),{ctx:$e,deps:null,effects:null,equals:Fr,f:t,fn:e,reactions:null,rv:0,v:oe,wv:0,parent:n??U,ac:null}}function Mo(e,t){let n=U;n===null&&ro();var r=n.b,o=void 0,s=At(oe),i=!P,l=new Map;return Wo(()=>{var a=jr();o=a.promise;try{Promise.resolve(e()).then(a.resolve,a.reject).then(()=>{c===B&&c.committed&&c.deactivate(),yn()})}catch(f){a.reject(f),yn()}var c=B;if(i){var u=!r.is_pending();r.update_pending_count(1),c.increment(u),l.get(c)?.reject(It),l.delete(c),l.set(c,a)}const v=(f,m=void 0)=>{if(c.activate(),m)m!==It&&(s.f|=dt,Wt(s,m));else{(s.f&dt)!==0&&(s.f^=dt),Wt(s,f);for(const[_,w]of l){if(l.delete(_),_===c)break;w.reject(It)}}i&&(r.update_pending_count(-1),c.decrement(u))};a.promise.then(v,f=>v(null,f||"unknown"))}),hr(()=>{for(const a of l.values())a.reject(It)}),new Promise(a=>{function c(u){function v(){u===o?a(s):c(o)}u.then(v,v)}c(o)})}function No(e){const t=fr(e);return t.equals=qr,t}function rs(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)pe(t[n])}}function Do(e){for(var t=e.parent;t!==null;){if((t.f&ne)===0)return(t.f&st)===0?t:null;t=t.parent}return null}function dr(e){var t,n=U;Be(Do(e));try{e.f&=~Rt,rs(e),t=ds(e)}finally{Be(n)}return t}function ss(e){var t=dr(e);if(e.equals(t)||(B?.is_fork||(e.v=t),e.wv=us()),!Dt)if(Ne!==null)(on()||B?.is_fork)&&Ne.set(e,t);else{var n=(e.f&Oe)===0?We:ie;ae(e,n)}}let Gn=new Set;const mt=new Map;let os=!1;function At(e,t){var n={f:0,v:e,reactions:null,equals:Fr,rv:0,wv:0};return n}function G(e,t){const n=At(e);return Oo(n),n}function vr(e,t=!1,n=!0){const r=At(e);return t||(r.equals=qr),r}function T(e,t,n=!1){P!==null&&(!Je||(P.f&xr)!==0)&&Br()&&(P.f&(ne|it|ar|xr))!==0&&!ot?.includes(e)&&fo();let r=n?rt(t):t;return Wt(e,r)}function Wt(e,t){if(!e.equals(t)){var n=e.v;Dt?mt.set(e,t):mt.set(e,n),e.v=t;var r=qe.ensure();r.capture(e,n),(e.f&ne)!==0&&((e.f&be)!==0&&dr(e),ae(e,(e.f&Oe)!==0?ie:We)),e.wv=us(),is(e,be),U!==null&&(U.f&ie)!==0&&(U.f&(at|Mt))===0&&(Ce===null?Lo([e]):Ce.push(e)),!r.is_fork&&Gn.size>0&&!os&&Po()}return t}function Po(){os=!1;var e=Et;wn(!0);const t=Array.from(Gn);try{for(const n of t)(n.f&ie)!==0&&ae(n,We),cn(n)&&sn(n)}finally{wn(e)}Gn.clear()}function nn(e){T(e,e.v+1)}function is(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,o=0;o<r;o++){var s=n[o],i=s.f,l=(i&be)===0;if(l&&ae(s,t),(i&ne)!==0){var a=s;Ne?.delete(a),(i&Rt)===0&&(i&Oe&&(s.f|=Rt),is(a,We))}else l&&((i&it)!==0&&Qe!==null&&Qe.add(s),Ct(s))}}let Sr=!1;function as(){Sr||(Sr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Mn(e){var t=P,n=U;me(null),Be(null);try{return e()}finally{me(t),Be(n)}}function ls(e,t,n,r=n){e.addEventListener(t,()=>Mn(n));const o=e.__on_r;o?e.__on_r=()=>{o(),r(!0)}:e.__on_r=()=>r(!0),as()}let Et=!1;function wn(e){Et=e}let Dt=!1;function Rr(e){Dt=e}let P=null,Je=!1;function me(e){P=e}let U=null;function Be(e){U=e}let ot=null;function Oo(e){P!==null&&(ot===null?ot=[e]:ot.push(e))}let ce=null,ke=0,Ce=null;function Lo(e){Ce=e}let cs=1,rn=0,$t=rn;function Tr(e){$t=e}function us(){return++cs}function cn(e){var t=e.f;if((t&be)!==0)return!0;if(t&ne&&(e.f&=~Rt),(t&We)!==0){var n=e.deps;if(n!==null)for(var r=n.length,o=0;o<r;o++){var s=n[o];if(cn(s)&&ss(s),s.wv>e.wv)return!0}(t&Oe)!==0&&Ne===null&&ae(e,ie)}return!1}function fs(e,t,n=!0){var r=e.reactions;if(r!==null&&!ot?.includes(e))for(var o=0;o<r.length;o++){var s=r[o];(s.f&ne)!==0?fs(s,t,!1):t===s&&(n?ae(s,be):(s.f&ie)!==0&&ae(s,We),Ct(s))}}function ds(e){var t=ce,n=ke,r=Ce,o=P,s=ot,i=$e,l=Je,a=$t,c=e.f;ce=null,ke=0,Ce=null,P=(c&(at|Mt))===0?e:null,ot=null,qt(e.ctx),Je=!1,$t=++rn,e.ac!==null&&(Mn(()=>{e.ac.abort(It)}),e.ac=null);try{e.f|=Vn;var u=e.fn,v=u(),f=e.deps;if(ce!==null){var m;if(xn(e,ke),f!==null&&ke>0)for(f.length=ke+ce.length,m=0;m<ce.length;m++)f[ke+m]=ce[m];else e.deps=f=ce;if(on()&&(e.f&Oe)!==0)for(m=ke;m<f.length;m++)(f[m].reactions??=[]).push(e)}else f!==null&&ke<f.length&&(xn(e,ke),f.length=ke);if(Br()&&Ce!==null&&!Je&&f!==null&&(e.f&(ne|We|be))===0)for(m=0;m<Ce.length;m++)fs(Ce[m],e);return o!==null&&o!==e&&(rn++,Ce!==null&&(r===null?r=Ce:r.push(...Ce))),(e.f&dt)!==0&&(e.f^=dt),v}catch(_){return Qr(_)}finally{e.f^=Vn,ce=t,ke=n,Ce=r,P=o,ot=s,qt(i),Je=l,$t=a}}function Ho(e,t){let n=t.reactions;if(n!==null){var r=Zs.call(n,e);if(r!==-1){var o=n.length-1;o===0?n=t.reactions=null:(n[r]=n[o],n.pop())}}n===null&&(t.f&ne)!==0&&(ce===null||!ce.includes(t))&&(ae(t,We),(t.f&Oe)!==0&&(t.f^=Oe,t.f&=~Rt),rs(t),xn(t,0))}function xn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Ho(e,n[r])}function sn(e){var t=e.f;if((t&st)===0){ae(e,ie);var n=U,r=Et;U=e,Et=!0;try{(t&(it|Ks))!==0?Bo(e):ps(e),_s(e);var o=ds(e);e.teardown=typeof o=="function"?o:null,e.wv=cs;var s;zn&&ho&&(e.f&be)!==0&&e.deps}finally{Et=r,U=n}}}async function Io(){await Promise.resolve(),he()}function b(e){var t=e.f,n=(t&ne)!==0;if(P!==null&&!Je){var r=U!==null&&(U.f&st)!==0;if(!r&&!ot?.includes(e)){var o=P.deps;if((P.f&Vn)!==0)e.rv<rn&&(e.rv=rn,ce===null&&o!==null&&o[ke]===e?ke++:ce===null?ce=[e]:ce.includes(e)||ce.push(e));else{(P.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[P]:s.includes(P)||s.push(P)}}}if(Dt){if(mt.has(e))return mt.get(e);if(n){var i=e,l=i.v;return((i.f&ie)===0&&i.reactions!==null||hs(i))&&(l=dr(i)),mt.set(i,l),l}}else n&&(!Ne?.has(e)||B?.is_fork&&!on())&&(i=e,cn(i)&&ss(i),Et&&on()&&(i.f&Oe)===0&&vs(i));if(Ne?.has(e))return Ne.get(e);if((e.f&dt)!==0)throw e.v;return e.v}function vs(e){if(e.deps!==null){e.f^=Oe;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&ne)!==0&&(t.f&Oe)===0&&vs(t)}}function hs(e){if(e.v===oe)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(mt.has(t)||(t.f&ne)!==0&&hs(t))return!0;return!1}function zt(e){var t=Je;try{return Je=!0,e()}finally{Je=t}}const jo=-7169;function ae(e,t){e.f=e.f&jo|t}function Fo(e){U===null&&(P===null&&io(),oo()),Dt&&so()}function Uo(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function lt(e,t,n){var r=U;r!==null&&(r.f&Ee)!==0&&(e|=Ee);var o={ctx:$e,deps:null,nodes:null,f:e|be|Oe,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{sn(o),o.f|=En}catch(l){throw pe(o),l}else t!==null&&Ct(o);var s=o;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&Bt)===0&&(s=s.first,(e&it)!==0&&(e&Ft)!==0&&s!==null&&(s.f|=Ft)),s!==null&&(s.parent=r,r!==null&&Uo(s,r),P!==null&&(P.f&ne)!==0&&(e&Mt)===0)){var i=P;(i.effects??=[]).push(s)}return o}function on(){return P!==null&&!Je}function hr(e){const t=lt(ir,null,!1);return ae(t,ie),t.teardown=e,t}function Nn(e){Fo();var t=U.f,n=!P&&(t&at)!==0&&(t&En)===0;if(n){var r=$e;(r.e??=[]).push(e)}else return ms(e)}function ms(e){return lt(or|Ys,e,!1)}function qo(e){qe.ensure();const t=lt(Mt|Bt,e,!0);return(n={})=>new Promise(r=>{n.outro?St(t,()=>{pe(t),r(void 0)}):(pe(t),r(void 0))})}function Jo(e){return lt(or,e,!1)}function Wo(e){return lt(ar|Bt,e,!0)}function Dn(e,t=0){return lt(ir|t,e,!0)}function Q(e,t=[],n=[],r=[]){Co(r,t,n,o=>{lt(ir,()=>e(...o.map(b)),!0)})}function mr(e,t=0){var n=lt(it|t,e,!0);return n}function Me(e){return lt(at|Bt,e,!0)}function _s(e){var t=e.teardown;if(t!==null){const n=Dt,r=P;Rr(!0),me(null);try{t.call(null)}finally{Rr(n),me(r)}}}function ps(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const o=n.ac;o!==null&&Mn(()=>{o.abort(It)});var r=n.next;(n.f&Mt)!==0?n.parent=null:pe(n,t),n=r}}function Bo(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&at)===0&&pe(t),t=n}}function pe(e,t=!0){var n=!1;(t||(e.f&Or)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Vo(e.nodes.start,e.nodes.end),n=!0),ps(e,t&&!n),xn(e,0),ae(e,st);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();_s(e);var o=e.parent;o!==null&&o.first!==null&&bs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Vo(e,t){for(;e!==null;){var n=e===t?null:Ve(e);e.remove(),e=n}}function bs(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function St(e,t,n=!0){var r=[];gs(e,r,!0);var o=()=>{n&&pe(e),t&&t()},s=r.length;if(s>0){var i=()=>--s||o();for(var l of r)l.out(i)}else o()}function gs(e,t,n){if((e.f&Ee)===0){e.f^=Ee;var r=e.nodes&&e.nodes.t;if(r!==null)for(const l of r)(l.is_global||n)&&t.push(l);for(var o=e.first;o!==null;){var s=o.next,i=(o.f&Ft)!==0||(o.f&at)!==0&&(e.f&it)!==0;gs(o,t,i?n:!1),o=s}}}function _r(e){ys(e,!0)}function ys(e,t){if((e.f&Ee)!==0){e.f^=Ee,(e.f&ie)===0&&(ae(e,be),Ct(e));for(var n=e.first;n!==null;){var r=n.next,o=(n.f&Ft)!==0||(n.f&at)!==0;ys(n,o?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const i of s)(i.is_global||t)&&i.in()}}function ws(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var o=n===r?null:Ve(n);t.append(n),n=o}}const xs=new Set,Xn=new Set;function zo(e,t,n,r={}){function o(s){if(r.capture||Zt.call(t,s),!s.cancelBubble)return Mn(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Nt(()=>{t.addEventListener(e,o,r)}):t.addEventListener(e,o,r),o}function pr(e,t,n,r,o){var s={capture:r,passive:o},i=zo(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&hr(()=>{t.removeEventListener(e,i,s)})}function pt(e){for(var t=0;t<e.length;t++)xs.add(e[t]);for(var n of Xn)n(e)}let Cr=null;function Zt(e){var t=this,n=t.ownerDocument,r=e.type,o=e.composedPath?.()||[],s=o[0]||e.target;Cr=e;var i=0,l=Cr===e&&e.__root;if(l){var a=o.indexOf(l);if(a!==-1&&(t===document||t===window)){e.__root=t;return}var c=o.indexOf(t);if(c===-1)return;a<=c&&(i=a)}if(s=o[i]||e.target,s!==t){lr(e,"currentTarget",{configurable:!0,get(){return s||n}});var u=P,v=U;me(null),Be(null);try{for(var f,m=[];s!==null;){var _=s.assignedSlot||s.parentNode||s.host||null;try{var w=s["__"+r];w!=null&&(!s.disabled||e.target===s)&&w.call(s,e)}catch(p){f?m.push(p):f=p}if(e.cancelBubble||_===t||_===null)break;s=_}if(f){for(let p of m)queueMicrotask(()=>{throw p});throw f}}finally{e.__root=t,delete e.currentTarget,me(u),Be(v)}}}function Ko(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function _t(e,t){var n=U;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function C(e,t){var n=(t&go)!==0,r=(t&yo)!==0,o,s=!e.startsWith("<!>");return()=>{if(O)return _t(F,null),F;o===void 0&&(o=Ko(s?e:"<!>"+e),n||(o=Tt(o)));var i=r||Kr?document.importNode(o,!0):o.cloneNode(!0);if(n){var l=Tt(i),a=i.lastChild;_t(l,a)}else _t(i,i);return i}}function an(e=""){if(!O){var t=_e(e+"");return _t(t,t),t}var n=F;return n.nodeType!==$n&&(n.before(n=_e()),ue(n)),_t(n,n),n}function ks(){if(O)return _t(F,null),F;var e=document.createDocumentFragment(),t=document.createComment(""),n=_e();return e.append(t,n),_t(t,n),e}function S(e,t){if(O){var n=U;((n.f&En)===0||n.nodes.end===null)&&(n.nodes.end=F),Cn();return}e!==null&&e.before(t)}const Yo=["touchstart","touchmove"];function Go(e){return Yo.includes(e)}function X(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Es(e,t){return $s(e,t)}function Xo(e,t){Kn(),t.intro=t.intro??!1;const n=t.target,r=O,o=F;try{for(var s=Tt(n);s&&(s.nodeType!==Vt||s.data!==Wr);)s=Ve(s);if(!s)throw Ut;nt(!0),ue(s);const i=$s(e,{...t,anchor:s});return nt(!1),i}catch(i){if(i instanceof Error&&i.message.split(`
`).some(l=>l.startsWith("https://svelte.dev/e/")))throw i;return i!==Ut&&console.warn("Failed to hydrate: ",i),t.recover===!1&&lo(),Kn(),Xr(n),nt(!1),Es(e,t)}finally{nt(r),ue(o)}}const Lt=new Map;function $s(e,{target:t,anchor:n,props:r={},events:o,context:s,intro:i=!0}){Kn();var l=new Set,a=v=>{for(var f=0;f<v.length;f++){var m=v[f];if(!l.has(m)){l.add(m);var _=Go(m);t.addEventListener(m,Zt,{passive:_});var w=Lt.get(m);w===void 0?(document.addEventListener(m,Zt,{passive:_}),Lt.set(m,1)):Lt.set(m,w+1)}}};a(Sn(xs)),Xn.add(a);var c=void 0,u=qo(()=>{var v=n??t.appendChild(_e());return Ro(v,{pending:()=>{}},f=>{if(s){Le({});var m=$e;m.c=s}if(o&&(r.$$events=o),O&&_t(f,null),c=e(f,r)||{},O&&(U.nodes.end=F,F===null||F.nodeType!==Vt||F.data!==cr))throw Tn(),Ut;s&&He()}),()=>{for(var f of l){t.removeEventListener(f,Zt);var m=Lt.get(f);--m===0?(document.removeEventListener(f,Zt),Lt.delete(f)):Lt.set(f,m)}Xn.delete(a),v!==n&&v.parentNode?.removeChild(v)}});return Zn.set(c,u),c}let Zn=new WeakMap;function Zo(e,t){const n=Zn.get(e);return n?(Zn.delete(e),n(t)):Promise.resolve()}function ze(e){return new Qo(e)}class Qo{#t;#e;constructor(t){var n=new Map,r=(s,i)=>{var l=vr(i,!1,!1);return n.set(s,l),l};const o=new Proxy({...t.props||{},$$events:{}},{get(s,i){return b(n.get(i)??r(i,Reflect.get(s,i)))},has(s,i){return i===Gs?!0:(b(n.get(i)??r(i,Reflect.get(s,i))),Reflect.has(s,i))},set(s,i,l){return T(n.get(i)??r(i,l),l),Reflect.set(s,i,l)}});this.#e=(t.hydrate?Xo:Es)(t.component,{target:t.target,anchor:t.anchor,props:o,context:t.context,intro:t.intro??!1,recover:t.recover}),(!t?.props?.$$host||t.sync===!1)&&he(),this.#t=o.$$events;for(const s of Object.keys(this.#e))s==="$set"||s==="$destroy"||s==="$on"||lr(this,s,{get(){return this.#e[s]},set(i){this.#e[s]=i},enumerable:!0});this.#e.$set=s=>{Object.assign(o,s)},this.#e.$destroy=()=>{Zo(this.#e)}}$set(t){this.#e.$set(t)}$on(t,n){this.#t[t]=this.#t[t]||[];const r=(...o)=>n.call(this,...o);return this.#t[t].push(r),()=>{this.#t[t]=this.#t[t].filter(o=>o!==r)}}$destroy(){this.#e.$destroy()}}const ei="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ei);class ti{anchor;#t=new Map;#e=new Map;#n=new Map;#r=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#o=()=>{var t=B;if(this.#t.has(t)){var n=this.#t.get(t),r=this.#e.get(n);if(r)_r(r),this.#r.delete(n);else{var o=this.#n.get(n);o&&(this.#e.set(n,o.effect),this.#n.delete(n),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),r=o.effect)}for(const[s,i]of this.#t){if(this.#t.delete(s),s===t)break;const l=this.#n.get(i);l&&(pe(l.effect),this.#n.delete(i))}for(const[s,i]of this.#e){if(s===n||this.#r.has(s))continue;const l=()=>{if(Array.from(this.#t.values()).includes(s)){var c=document.createDocumentFragment();ws(i,c),c.append(_e()),this.#n.set(s,{effect:i,fragment:c})}else pe(i);this.#r.delete(s),this.#e.delete(s)};this.#l||!r?(this.#r.add(s),St(i,l,!1)):l()}}};#s=t=>{this.#t.delete(t);const n=Array.from(this.#t.values());for(const[r,o]of this.#n)n.includes(r)||(pe(o.effect),this.#n.delete(r))};ensure(t,n){var r=B,o=Zr();if(n&&!this.#e.has(t)&&!this.#n.has(t))if(o){var s=document.createDocumentFragment(),i=_e();s.append(i),this.#n.set(t,{effect:Me(()=>n(i)),fragment:s})}else this.#e.set(t,Me(()=>n(this.anchor)));if(this.#t.set(r,t),o){for(const[l,a]of this.#e)l===t?r.skipped_effects.delete(a):r.skipped_effects.add(a);for(const[l,a]of this.#n)l===t?r.skipped_effects.delete(a.effect):r.skipped_effects.add(a.effect);r.oncommit(this.#o),r.ondiscard(this.#s)}else O&&(this.anchor=F),this.#o()}}function ni(e){$e===null&&no(),Nn(()=>{const t=zt(e);if(typeof t=="function")return t})}function V(e,t,n=!1){O&&Cn();var r=new ti(e),o=n?Ft:0;function s(i,l){if(O){const c=zr(e)===Rn;if(i===c){var a=gn();ue(a),r.anchor=a,nt(!1),r.ensure(i,l),nt(!0);return}}r.ensure(i,l)}mr(()=>{var i=!1;t((l,a=!0)=>{i=!0,s(a,l)}),i||s(!1,null)},o)}function Pn(e,t){return t}function ri(e,t,n){for(var r=[],o=t.length,s,i=t.length,l=0;l<o;l++){let v=t[l];St(v,()=>{if(s){if(s.pending.delete(v),s.done.add(v),s.pending.size===0){var f=e.outrogroups;Qn(Sn(s.done)),f.delete(s),f.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var a=r.length===0&&n!==null;if(a){var c=n,u=c.parentNode;Xr(u),u.append(c),e.items.clear()}Qn(t,!a)}else s={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(s)}function Qn(e,t=!0){for(var n=0;n<e.length;n++)pe(e[n],t)}var Ar;function un(e,t,n,r,o,s=null){var i=e,l=new Map,a=(t&Jr)!==0;if(a){var c=e;i=O?ue(Tt(c)):c.appendChild(_e())}O&&Cn();var u=null,v=No(()=>{var x=n();return Lr(x)?x:x==null?[]:Sn(x)}),f,m=!0;function _(){p.fallback=u,si(p,f,i,t,r),u!==null&&(f.length===0?(u.f&tt)===0?_r(u):(u.f^=tt,Qt(u,null,i)):St(u,()=>{u=null}))}var w=mr(()=>{f=b(v);var x=f.length;let L=!1;if(O){var j=zr(i)===Rn;j!==(x===0)&&(i=gn(),ue(i),nt(!1),L=!0)}for(var H=new Set,Y=B,Z=Zr(),M=0;M<x;M+=1){O&&F.nodeType===Vt&&F.data===cr&&(i=F,L=!0,nt(!1));var g=f[M],$=r(g,M),R=m?null:l.get($);R?(R.v&&Wt(R.v,g),R.i&&Wt(R.i,M),Z&&Y.skipped_effects.delete(R.e)):(R=oi(l,m?i:Ar??=_e(),g,$,M,o,t,n),m||(R.e.f|=tt),l.set($,R)),H.add($)}if(x===0&&s&&!u&&(m?u=Me(()=>s(i)):(u=Me(()=>s(Ar??=_e())),u.f|=tt)),O&&x>0&&ue(gn()),!m)if(Z){for(const[ee,ge]of l)H.has(ee)||Y.skipped_effects.add(ge.e);Y.oncommit(_),Y.ondiscard(()=>{})}else _();L&&nt(!0),b(v)}),p={effect:w,items:l,outrogroups:null,fallback:u};m=!1,O&&(i=F)}function si(e,t,n,r,o){var s=(r&po)!==0,i=t.length,l=e.items,a=e.effect.first,c,u=null,v,f=[],m=[],_,w,p,x;if(s)for(x=0;x<i;x+=1)_=t[x],w=o(_,x),p=l.get(w).e,(p.f&tt)===0&&(p.nodes?.a?.measure(),(v??=new Set).add(p));for(x=0;x<i;x+=1){if(_=t[x],w=o(_,x),p=l.get(w).e,e.outrogroups!==null)for(const R of e.outrogroups)R.pending.delete(p),R.done.delete(p);if((p.f&tt)!==0)if(p.f^=tt,p===a)Qt(p,null,n);else{var L=u?u.next:a;p===e.effect.last&&(e.effect.last=p.prev),p.prev&&(p.prev.next=p.next),p.next&&(p.next.prev=p.prev),ut(e,u,p),ut(e,p,L),Qt(p,L,n),u=p,f=[],m=[],a=u.next;continue}if((p.f&Ee)!==0&&(_r(p),s&&(p.nodes?.a?.unfix(),(v??=new Set).delete(p))),p!==a){if(c!==void 0&&c.has(p)){if(f.length<m.length){var j=m[0],H;u=j.prev;var Y=f[0],Z=f[f.length-1];for(H=0;H<f.length;H+=1)Qt(f[H],j,n);for(H=0;H<m.length;H+=1)c.delete(m[H]);ut(e,Y.prev,Z.next),ut(e,u,Y),ut(e,Z,j),a=j,u=Z,x-=1,f=[],m=[]}else c.delete(p),Qt(p,a,n),ut(e,p.prev,p.next),ut(e,p,u===null?e.effect.first:u.next),ut(e,u,p),u=p;continue}for(f=[],m=[];a!==null&&a!==p;)(c??=new Set).add(a),m.push(a),a=a.next;if(a===null)continue}(p.f&tt)===0&&f.push(p),u=p,a=p.next}if(e.outrogroups!==null){for(const R of e.outrogroups)R.pending.size===0&&(Qn(Sn(R.done)),e.outrogroups?.delete(R));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||c!==void 0){var M=[];if(c!==void 0)for(p of c)(p.f&Ee)===0&&M.push(p);for(;a!==null;)(a.f&Ee)===0&&a!==e.fallback&&M.push(a),a=a.next;var g=M.length;if(g>0){var $=(r&Jr)!==0&&i===0?n:null;if(s){for(x=0;x<g;x+=1)M[x].nodes?.a?.measure();for(x=0;x<g;x+=1)M[x].nodes?.a?.fix()}ri(e,M,$)}}s&&Nt(()=>{if(v!==void 0)for(p of v)p.nodes?.a?.apply()})}function oi(e,t,n,r,o,s,i,l){var a=(i&mo)!==0?(i&bo)===0?vr(n,!1,!1):At(n):null,c=(i&_o)!==0?At(o):null;return{v:a,i:c,e:Me(()=>(s(t,a??n,c??o,l),()=>{e.delete(r)}))}}function Qt(e,t,n){if(e.nodes)for(var r=e.nodes.start,o=e.nodes.end,s=t&&(t.f&tt)===0?t.nodes.start:n;r!==null;){var i=Ve(r);if(s.before(r),r===o)return;r=i}}function ut(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Ss(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Ss(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ii(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Ss(e))&&(r&&(r+=" "),r+=t);return r}function Mr(e){return typeof e=="object"?ii(e):e??""}function ai(e,t,n){var r=e==null?"":""+e;return r===""?null:r}function jt(e,t,n,r,o,s){var i=e.__className;if(O||i!==n||i===void 0){var l=ai(n);(!O||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=n}return s}const li=Symbol("is custom element"),ci=Symbol("is html");function ft(e){if(O){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;er(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var o=e.checked;er(e,"checked",null),e.checked=o}}};e.__on_r=n,Nt(n),as()}}function er(e,t,n,r){var o=ui(e);O&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=n)&&(t==="loading"&&(e[Xs]=n),n==null?e.removeAttribute(t):typeof n!="string"&&fi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ui(e){return e.__attributes??={[li]:e.nodeName.includes("-"),[ci]:e.namespaceURI===wo}}var Nr=new Map;function fi(e){var t=e.getAttribute("is")||e.nodeName,n=Nr.get(t);if(n)return n;Nr.set(t,n=[]);for(var r,o=e,s=Element.prototype;s!==o;){r=Qs(o);for(var i in r)r[i].set&&n.push(i);o=Hr(o)}return n}function kt(e,t,n=t){var r=new WeakSet;ls(e,"input",async o=>{var s=o?e.defaultValue:e.value;if(s=Wn(e)?Bn(s):s,n(s),B!==null&&r.add(B),await Io(),s!==(s=t())){var i=e.selectionStart,l=e.selectionEnd,a=e.value.length;if(e.value=s??"",l!==null){var c=e.value.length;i===l&&l===a&&c>a?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=i,e.selectionEnd=Math.min(l,c))}}}),(O&&e.defaultValue!==e.value||zt(t)==null&&e.value)&&(n(Wn(e)?Bn(e.value):e.value),B!==null&&r.add(B)),Dn(()=>{var o=t();if(e===document.activeElement){var s=bn??B;if(r.has(s))return}Wn(e)&&o===Bn(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function di(e,t,n=t){ls(e,"change",r=>{var o=r?e.defaultChecked:e.checked;n(o)}),(O&&e.defaultChecked!==e.checked||zt(t)==null)&&n(e.checked),Dn(()=>{var r=t();e.checked=!!r})}function Wn(e){var t=e.type;return t==="number"||t==="range"}function Bn(e){return e===""?null:+e}function Dr(e,t){return e===t||e?.[pn]===t}function vi(e={},t,n,r){return Jo(()=>{var o,s;return Dn(()=>{o=s,s=[],zt(()=>{e!==n(...s)&&(t(e,...s),o&&Dr(n(...o),e)&&t(null,...o))})}),()=>{Nt(()=>{s&&Dr(n(...s),e)&&t(null,...s)})}}),e}function Ke(e,t,n){e.$$events||={},e.$$events[t]||=[],e.$$events[t].push(n)}function Ye(e){for(var t in e)t in this&&(this[t]=e[t])}function br(e,t,n){if(e==null)return t(void 0),n&&n(void 0),vt;const r=zt(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Ht=[];function hi(e,t){return{subscribe:Se(e,t).subscribe}}function Se(e,t=vt){let n=null;const r=new Set;function o(l){if(Ur(e,l)&&(e=l,n)){const a=!Ht.length;for(const c of r)c[1](),Ht.push(c,e);if(a){for(let c=0;c<Ht.length;c+=2)Ht[c][0](Ht[c+1]);Ht.length=0}}}function s(l){o(l(e))}function i(l,a=vt){const c=[l,a];return r.add(c),r.size===1&&(n=t(o,s)||vt),l(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:o,update:s,subscribe:i}}function Rs(e,t,n){const r=!Array.isArray(e),o=r?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=t.length<2;return hi(n,(i,l)=>{let a=!1;const c=[];let u=0,v=vt;const f=()=>{if(u)return;v();const _=t(r?c[0]:c,i,l);s?i(_):v=typeof _=="function"?_:vt},m=o.map((_,w)=>br(_,p=>{c[w]=p,u&=~(1<<w),a&&f()},()=>{u|=1<<w}));return a=!0,f(),function(){Ir(m),v(),a=!1}})}function I(e){let t;return br(e,n=>t=n)(),t}let tr=Symbol();function K(e,t,n){const r=n[t]??={store:null,source:vr(void 0),unsubscribe:vt};if(r.store!==e&&!(tr in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=vt;else{var o=!0;r.unsubscribe=br(e,s=>{o?r.source.v=s:T(r.source,s)}),o=!1}return e&&tr in n?I(e):b(r.source)}function bt(){const e={};function t(){hr(()=>{for(var n in e)e[n].unsubscribe();lr(e,tr,{enumerable:!1,value:!0})})}return[e,t]}function De(e,t,n,r){var o=r,s=!0,i=()=>(s&&(s=!1,o=r),o),l;l=e[t],l===void 0&&r!==void 0&&(l=i());var a;a=()=>{var f=e[t];return f===void 0?i():(s=!0,f)};var c=!1,u=fr(()=>(c=!1,a())),v=U;return(function(f,m){if(arguments.length>0){const _=m?b(u):f;return T(u,_),c=!0,o!==void 0&&(o=_),f}return Dt&&c||(v.f&st)!==0?u.v:b(u)})}const Ts=Se(null),ln=Se(!1),gt=Se(!1),yt=Se(null),Kt=Se(""),On=Se(null),fn=Se(null),A=Se("[Hub]"),fe=Se(new Map([["[Hub]",{messages:[],users:new Set,unread:0}]])),Ln=Se([]),dn=Se({hubHash:"",destName:"rrc.hub",nickname:"",identityPath:"~/.rrc-web/identity"}),gr=Se(new Set),yr=Rs([fe,A],([e,t])=>e.get(t)||{messages:[],users:new Set,unread:0}),wr=Rs(fe,e=>Array.from(e.keys())),Cs=Object.freeze(Object.defineProperty({__proto__:null,connectionSettings:dn,currentRoom:A,currentRoomData:yr,discoveredHubs:Ln,hubName:yt,identityHash:On,latency:fn,nickname:Kt,roomList:wr,rooms:fe,rrcConnected:gt,sentMessageIds:gr,ws:Ts,wsConnected:ln},Symbol.toStringTag,{value:"Module"}));let et=null;function As(){const t=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;et=new WebSocket(t),Ts.set(et),et.onopen=()=>{ln.set(!0),nr(),Li(),q({type:"get_state"})},et.onmessage=n=>{const r=JSON.parse(n.data);mi(r)},et.onerror=n=>{console.error("WebSocket error:",n),n.currentTarget?.readyState===WebSocket.CLOSED&&fetch("/ws",{method:"HEAD"}).then(r=>{r.status===401&&window.location.reload()}).catch(()=>{})},et.onclose=n=>{ln.set(!1),gt.set(!1),fn.set(null),n.code===1008||n.code===1002?(console.log("WebSocket closed due to authentication failure"),window.location.reload()):setTimeout(As,3e3)}}function q(e){et&&et.readyState===WebSocket.OPEN&&et.send(JSON.stringify(e))}function mi(e){switch(e.type){case"connected":_i(e);break;case"disconnected":pi();break;case"message":bi(e);break;case"notice":gi(e);break;case"error":yi(e);break;case"system":wi(e);break;case"message_sent":xi(e);break;case"room_joined":ki(e.room,e.users);break;case"room_parted":Ei(e.room);break;case"state":$i(e);break;case"latency":Si(e);break;case"user_list_update":Ri(e);break;case"hub_info":Ti(e);break;case"hub_discovered":Ci(e);break;case"discovered_hubs":Ai(e);break;case"nickname_set":Mi(e);break}}function _i(e){gt.set(!0),e.hub_name&&yt.set(e.hub_name),Kt.set(e.nickname||""),e.identity_hash&&On.set(e.identity_hash)}function pi(){gt.set(!1),yt.set(null),fe.update(e=>{const t=e.get("[Hub]")||{messages:[],users:new Set,unread:0};return t.messages.push({type:"system",text:"Disconnected from hub",timestamp:new Date().toLocaleTimeString()}),e.set("[Hub]",t),new Map(e)})}function bi(e){const t=e.room||"[Hub]";fe.update(n=>{n.has(t)||n.set(t,{messages:[],users:new Set,unread:0});const r=n.get(t);return r.messages.push({type:"message",user:e.user,text:e.text,timestamp:e.timestamp||new Date().toLocaleTimeString(),message_id:e.message_id,sender_identity:e.sender_identity}),t!==I(A)&&r.unread++,new Map(n)})}function gi(e){const t=e.room||"[Hub]";fe.update(n=>(n.has(t)||n.set(t,{messages:[],users:new Set,unread:0}),n.get(t).messages.push({type:"notice",text:e.text,timestamp:e.timestamp||new Date().toLocaleTimeString()}),new Map(n)))}function yi(e){const t=I(A);fe.update(n=>{const r=n.get(t);return r&&r.messages.push({type:"error",text:e.text||e.error,timestamp:new Date().toLocaleTimeString()}),new Map(n)})}function wi(e){const t=e.room||I(A);fe.update(n=>(n.has(t)||n.set(t,{messages:[],users:new Set,unread:0}),n.get(t).messages.push({type:"system",text:e.text,timestamp:e.timestamp||new Date().toLocaleTimeString()}),new Map(n)))}function xi(e){e.message_id&&gr.update(t=>{if(t.add(e.message_id),t.size>100){const n=t.values().next().value;t.delete(n)}return t})}function ki(e,t){fe.update(n=>{n.has(e)||n.set(e,{messages:[],users:new Set,unread:0});const r=n.get(e);return r.users=new Set(t||[]),new Map(n)}),A.set(e)}function Ei(e){fe.update(t=>(t.delete(e),new Map(t))),I(A)===e&&A.set("[Hub]")}function $i(e){e.connected!==void 0&&gt.set(e.connected),e.hub_name&&yt.set(e.hub_name),e.nickname&&Kt.set(e.nickname),e.identity_hash&&On.set(e.identity_hash),e.config&&dn.update(t=>({...t,hubHash:e.config.hub_hash||t.hubHash,destName:e.config.dest_name||t.destName,nickname:e.config.nickname||t.nickname,identityPath:e.config.identity_path||t.identityPath})),e.rooms&&Object.keys(e.rooms).length>0&&fe.update(t=>{const n=new Map;return Object.keys(e.rooms).forEach(r=>{const o=e.rooms[r],s=t.get(r);n.set(r,{messages:o.messages||s?.messages||[],users:new Set(o.users||[]),unread:s?.unread||0})}),n})}function Si(e){e.latency_ms!==void 0&&fn.set(e.latency_ms)}function Ri(e){const t=e.room||"[Hub]";fe.update(n=>{n.has(t)||n.set(t,{messages:[],users:new Set,unread:0});const r=n.get(t);return r.users=new Set(e.users||[]),new Map(n)})}function Ti(e){yt.set(e.hub_name)}function Ci(e){e.hub&&Ln.update(t=>t.find(r=>r.hash===e.hub.hash)?t:[...t,e.hub])}function Ai(e){Ln.set(e.hubs||[])}function Mi(e){e.nickname!==void 0&&Kt.set(e.nickname)}function nr(){q({type:"get_discovered_hubs"})}function Ni(e,t,n,r){q({type:"connect",hub_hash:e,dest_name:t,nickname:n,identity_path:r}),Hi(e,t,n,r)}function Ms(){q({type:"disconnect"})}function Di(e){q({type:"join_room",room:e})}function Pi(e){q({type:"part_room",room:e})}function Oi(e,t){e.trim()&&q({type:"send_message",text:e,room:t||I(A)})}function Li(){const e=localStorage.getItem("rrc_connection_settings");if(e)try{const t=JSON.parse(e);dn.set(t)}catch(t){console.error("Failed to load connection settings:",t)}}function Hi(e,t,n,r){const o={hubHash:e,destName:t,nickname:n,identityPath:r};localStorage.setItem("rrc_connection_settings",JSON.stringify(o)),dn.set(o)}function Ns(e){fe.update(t=>{const n=t.get(e);return n&&(n.unread=0),new Map(t)})}var Ii=C('<span class="text-sm opacity-70"> </span>'),ji=C('<button class="btn btn-outline btn-error btn-sm">Disconnect</button>'),Fi=C('<div class="flex items-center gap-1"><div class="badge badge-success badge-xs"></div> <span>WS</span></div>'),Ui=C('<div class="flex items-center gap-1"><div class="badge badge-error badge-xs"></div> <span>WS</span></div>'),qi=C('<div class="flex items-center gap-1"><div class="badge badge-success badge-xs"></div> <span>RRC</span></div>'),Ji=C('<div class="flex items-center gap-1"><div class="badge badge-error badge-xs"></div> <span>RRC</span></div>'),Wi=C('<div class="flex items-center gap-1"><span class="opacity-70">Nick:</span> <span> </span></div>'),Bi=C('<div class="flex items-center gap-1"><span class="opacity-70">Latency:</span> <span> </span></div>'),Vi=C('<div class="navbar bg-base-300"><div class="flex-1 px-4 flex items-center gap-2"><img src="/transparent-icon.png" alt="RRC" class="h-8 w-8"/> <span class="text-xl font-bold">RRC Web Client</span> <!> <!></div> <div class="flex-none"><div class="flex items-center gap-3"><div class="flex items-center gap-3 text-sm"><!> <!> <!> <!></div> <div class="badge badge-lg badge-primary"> </div> <button class="btn btn-ghost btn-circle btn-sm" title="Toggle theme"><!></button> <button class="btn btn-ghost btn-sm" title="Logout"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"></path></svg></button></div></div></div>');function Ds(e,t){if(new.target)return ze({component:Ds,...e});Le(t,!0);const n=()=>K(yt,"$hubName",a),r=()=>K(gt,"$rrcConnected",a),o=()=>K(ln,"$wsConnected",a),s=()=>K(Kt,"$nickname",a),i=()=>K(fn,"$latency",a),l=()=>K(A,"$currentRoom",a),[a,c]=bt();let u=De(t,"onToggleTheme"),v=G("dark");function f(){T(v,b(v)==="dark"?"light":"dark",!0),document.documentElement.setAttribute("data-theme",b(v)),u()(b(v))}function m(){Ms()}async function _(){try{await fetch("/api/logout",{method:"POST"}),window.location.reload()}catch(E){console.error("Logout error:",E),window.location.reload()}}function w(E){return E==="[Hub]"?n()||"Hub":E}var p={get onToggleTheme(){return u()},set onToggleTheme(E){u(E),he()},$set:Ye,$on:(E,N)=>Ke(t,E,N)},x=Vi(),L=h(x),j=y(h(L),4);{var H=E=>{var N=Ii(),k=h(N);d(N),Q(()=>X(k,`- ${n()??""}`)),S(E,N)};V(j,E=>{n()&&E(H)})}var Y=y(j,2);{var Z=E=>{var N=ji();N.__click=m,S(E,N)};V(Y,E=>{r()&&E(Z)})}d(L);var M=y(L,2),g=h(M),$=h(g),R=h($);{var ee=E=>{var N=Fi();S(E,N)},ge=E=>{var N=Ui();S(E,N)};V(R,E=>{o()?E(ee):E(ge,!1)})}var J=y(R,2);{var ye=E=>{var N=qi();S(E,N)},de=E=>{var N=Ji();S(E,N)};V(J,E=>{r()?E(ye):E(de,!1)})}var te=y(J,2);{var se=E=>{var N=Wi(),k=y(h(N),2),W=h(k,!0);d(k),d(N),Q(()=>X(W,s())),S(E,N)};V(te,E=>{s()&&E(se)})}var we=y(te,2);{var Pe=E=>{var N=Bi(),k=y(h(N),2),W=h(k);d(k),d(N),Q(()=>X(W,`${i()??""}ms`)),S(E,N)};V(we,E=>{i()!==null&&E(Pe)})}d($);var ve=y($,2),Ge=h(ve,!0);d(ve);var xe=y(ve,2);xe.__click=f;var Re=h(xe);{var Ie=E=>{var N=an("â˜€ï¸");S(E,N)},je=E=>{var N=an("ðŸŒ™");S(E,N)};V(Re,E=>{b(v)==="dark"?E(Ie):E(je,!1)})}d(xe);var Xe=y(xe,2);Xe.__click=_,d(g),d(M),d(x),Q(E=>X(Ge,E),[()=>w(l())]),S(e,x);var Fe=He(p);return c(),Fe}pt(["click"]);var zi=C('<span class="badge badge-sm"> </span>'),Ki=C('<div class="text-center py-8"><p class="text-base-content/60 text-sm mb-2">No hubs discovered yet</p> <p class="text-base-content/40 text-xs">Listening for announcements...</p></div>'),Yi=C('<span class="ml-2"> </span>'),Gi=C('<li><button class="text-left"><div class="w-full"><div class="font-semibold"> </div> <div class="flex justify-between items-center text-xs opacity-60"><span> </span> <!></div></div></button></li>'),Xi=C('<ul class="menu menu-sm"></ul>'),Zi=C('<div class="modal modal-open"><div class="modal-box max-w-6xl"><h3 class="font-bold text-lg mb-4">Connect to RRC Hub</h3> <div class="grid grid-cols-1 lg:grid-cols-2 gap-4"><div class="card bg-base-200"><div class="card-body"><div class="flex justify-between items-center mb-2"><h4 class="card-title text-base">Discovered Hubs <!></h4> <button class="btn btn-ghost btn-sm btn-circle" title="Refresh">â†»</button></div> <div class="overflow-y-auto max-h-64"><!></div></div></div> <div class="card bg-base-200"><div class="card-body"><h4 class="card-title text-base mb-2">Connection Details</h4> <form class="space-y-3"><div class="form-control w-full"><label class="label" for="hubHash"><span class="label-text">Hub Hash:</span></label> <input type="text" id="hubHash" class="input input-bordered input-sm w-full mb-2" placeholder="destination hash" required/> <div class="label"><span class="label-text-alt">Select a discovered hub or enter manually</span></div></div> <div class="form-control w-full"><label class="label" for="nickname"><span class="label-text">Nickname:</span></label> <input type="text" id="nickname" class="input input-bordered input-sm w-full mb-2" placeholder="optional"/></div> <div class="collapse collapse-arrow bg-base-100 mt-2"><input type="checkbox"/> <div class="collapse-title text-sm font-medium">Advanced Options</div> <div class="collapse-content space-y-3"><div class="form-control w-full"><label class="label" for="destName"><span class="label-text">Destination Aspect</span></label> <input type="text" id="destName" class="input input-bordered input-sm w-full"/> <label class="label" for="destName"><span class="label-text-alt">RNS aspect filter</span></label></div> <div class="form-control w-full"><label class="label" for="identityPath"><span class="label-text">Identity Path</span></label> <input type="text" id="identityPath" class="input input-bordered input-sm w-full"/></div></div></div> <div class="card-actions justify-end mt-4"><button type="submit" class="btn btn-primary p-4">Connect</button></div></form></div></div></div></div></div>');function Ps(e,t){if(new.target)return ze({component:Ps,...e});Le(t,!0);const n=()=>K(dn,"$connectionSettings",o),r=()=>K(Ln,"$discoveredHubs",o),[o,s]=bt();let i=De(t,"onConnect"),l=G(rt(n().hubHash)),a=G(rt(n().destName)),c=G(rt(n().nickname)),u=G(rt(n().identityPath)),v=G(!1);Nn(()=>{T(l,n().hubHash||b(l),!0),T(a,n().destName||b(a),!0),T(c,n().nickname||b(c),!0),T(u,n().identityPath||b(u),!0)}),ni(()=>{nr()});function f(){Ni(b(l),b(a),b(c),b(u)),i()()}function m(k){T(l,k.hash,!0),T(a,k.aspect||"rrc.hub",!0)}function _(){nr()}function w(k){const W=Date.now()/1e3,le=Math.floor(W-k);return le<60?`${le}s ago`:le<3600?`${Math.floor(le/60)}m ago`:`${Math.floor(le/3600)}h ago`}var p={get onConnect(){return i()},set onConnect(k){i(k),he()},$set:Ye,$on:(k,W)=>Ke(t,k,W)},x=Zi(),L=h(x),j=y(h(L),2),H=h(j),Y=h(H),Z=h(Y),M=h(Z),g=y(h(M));{var $=k=>{var W=zi(),le=h(W,!0);d(W),Q(()=>X(le,r().length)),S(k,W)};V(g,k=>{r().length>0&&k($)})}d(M);var R=y(M,2);R.__click=_,d(Z);var ee=y(Z,2),ge=h(ee);{var J=k=>{var W=Ki();S(k,W)},ye=k=>{var W=Xi();un(W,5,r,Pn,(le,ct)=>{var Yt=Gi(),Gt=h(Yt);Gt.__click=()=>m(b(ct));var vn=h(Gt),wt=h(vn),Pt=h(wt,!0);d(wt);var hn=y(wt,2),Xt=h(hn),Hn=h(Xt);d(Xt);var In=y(Xt,2);{var jn=Ze=>{var Ot=Yi(),mn=h(Ot,!0);d(Ot),Q(Fn=>X(mn,Fn),[()=>w(b(ct).last_seen)]),S(Ze,Ot)};V(In,Ze=>{b(ct).last_seen&&Ze(jn)})}d(hn),d(vn),d(Gt),d(Yt),Q(Ze=>{X(Pt,b(ct).name||"Unknown Hub"),X(Hn,`${Ze??""}...`)},[()=>b(ct).hash?.substring(0,16)]),S(le,Yt)}),d(W),S(k,W)};V(ge,k=>{r().length===0?k(J):k(ye,!1)})}d(ee),d(Y),d(H);var de=y(H,2),te=h(de),se=y(h(te),2),we=h(se),Pe=y(h(we),2);ft(Pe),ht(2),d(we);var ve=y(we,2),Ge=y(h(ve),2);ft(Ge),d(ve);var xe=y(ve,2),Re=h(xe);ft(Re);var Ie=y(Re,4),je=h(Ie),Xe=y(h(je),2);ft(Xe),ht(2),d(je);var Fe=y(je,2),E=y(h(Fe),2);ft(E),d(Fe),d(Ie),d(xe),ht(2),d(se),d(te),d(de),d(j),d(L),d(x),pr("submit",se,k=>{k.preventDefault(),f()}),kt(Pe,()=>b(l),k=>T(l,k)),kt(Ge,()=>b(c),k=>T(c,k)),di(Re,()=>b(v),k=>T(v,k)),kt(Xe,()=>b(a),k=>T(a,k)),kt(E,()=>b(u),k=>T(u,k)),S(e,x);var N=He(p);return s(),N}pt(["click"]);var Qi=C('<span class="badge badge-primary badge-sm"> </span>'),ea=C("<li><button><span> </span> <!></button></li>"),ta=C('<button class="btn btn-sm btn-outline btn-warning">Part Room</button>'),na=C('<div class="p-4 bg-base-200 h-full overflow-y-auto flex flex-col"><div class="flex justify-between items-center mb-4"><h3 class="font-bold text-lg">Rooms</h3> <button class="btn btn-ghost btn-sm btn-circle" title="Collapse sidebar">&lt;</button></div> <ul class="menu-compact flex-1"></ul> <div class="divider"></div> <div class="flex flex-col gap-2"><button class="btn btn-sm btn-outline btn-success">Join Room</button> <!></div></div>');function Os(e,t){if(new.target)return ze({component:Os,...e});Le(t,!0);const n=()=>K(fe,"$rooms",i),r=()=>K(yt,"$hubName",i),o=()=>K(wr,"$roomListStore",i),s=()=>K(A,"$currentRoom",i),[i,l]=bt();let a=De(t,"onJoinRoom"),c=De(t,"onPartRoom"),u=De(t,"onToggleSidebar");function v(g){A.set(g),Ns(g)}function f(g){return n().get(g)?.unread||0}function m(g){return g==="[Hub]"?r()||"Hub":g}var _={get onJoinRoom(){return a()},set onJoinRoom(g){a(g),he()},get onPartRoom(){return c()},set onPartRoom(g){c(g),he()},get onToggleSidebar(){return u()},set onToggleSidebar(g){u(g),he()},$set:Ye,$on:(g,$)=>Ke(t,g,$)},w=na(),p=h(w),x=y(h(p),2);x.__click=function(...g){u()?.apply(this,g)},d(p);var L=y(p,2);un(L,5,o,Pn,(g,$)=>{var R=ea(),ee=h(R);ee.__click=()=>v(b($));var ge=h(ee),J=h(ge,!0);d(ge);var ye=y(ge,2);{var de=te=>{var se=Qi(),we=h(se,!0);d(se),Q(Pe=>X(we,Pe),[()=>f(b($))]),S(te,se)};V(ye,te=>{f(b($))>0&&te(de)})}d(ee),d(R),Q(te=>{jt(ee,1,`flex justify-between items-center w-full text-left px-2 py-2 rounded ${b($)===s()?"bg-primary text-primary-content hover:bg-primary-focus":"hover:bg-base-300"}`),X(J,te)},[()=>m(b($))]),S(g,R)}),d(L);var j=y(L,4),H=h(j);H.__click=function(...g){a()?.apply(this,g)};var Y=y(H,2);{var Z=g=>{var $=ta();$.__click=function(...R){c()?.apply(this,R)},S(g,$)};V(Y,g=>{s()!=="[Hub]"&&g(Z)})}d(j),d(w),S(e,w);var M=He(_);return l(),M}pt(["click"]);var ra=C('<div class="chat-header"> <time class="text-xs opacity-50"> </time></div>'),sa=C('<div class="chat-footer opacity-50"><time class="text-xs"> </time></div>'),oa=C('<div><!> <div style="white-space: pre-line;"> </div> <!></div>'),ia=C('<div class="message-area p-4"></div>');function rr(e,t){if(new.target)return ze({component:rr,...e});Le(t,!0);const n=()=>K(On,"$identityHash",s),r=()=>K(gr,"$sentMessageIds",s),o=()=>K(yr,"$currentRoomData",s),[s,i]=bt();let l;Nn(()=>{l&&(l.scrollTop=l.scrollHeight)});function a(_){return!!(_.type==="message"&&_.message_id&&_.sender_identity&&n()&&r()&&r().has(_.message_id)&&_.sender_identity===n())}function c(_){if(a(_))return"chat chat-end";switch(_.type){case"message":return"chat chat-start";case"system":return"chat chat-end";case"notice":return"chat chat-end";case"error":return"chat chat-end";default:return"chat"}}function u(_){if(a(_))return"chat-bubble chat-bubble-accent";switch(_.type){case"message":return"chat-bubble chat-bubble-primary";case"system":return"chat-bubble chat-bubble-info";case"notice":return"chat-bubble chat-bubble-warning";case"error":return"chat-bubble chat-bubble-error";default:return"chat-bubble"}}var v={$set:Ye,$on:(_,w)=>Ke(t,_,w)},f=ia();un(f,7,()=>o()?.messages||[],(_,w)=>_.timestamp+_.text+w,(_,w)=>{var p=oa(),x=h(p);{var L=M=>{var g=ra(),$=h(g),R=y($),ee=h(R,!0);d(R),d(g),Q(()=>{X($,`${b(w).user??""} `),X(ee,b(w).timestamp)}),S(M,g)};V(x,M=>{b(w).user&&M(L)})}var j=y(x,2),H=h(j,!0);d(j);var Y=y(j,2);{var Z=M=>{var g=sa(),$=h(g),R=h($,!0);d($),d(g),Q(()=>X(R,b(w).timestamp)),S(M,g)};V(Y,M=>{!b(w).user&&b(w).timestamp&&M(Z)})}d(p),Q((M,g)=>{jt(p,1,M),jt(j,1,g),X(H,b(w).text)},[()=>Mr(c(b(w))),()=>Mr(u(b(w)))]),S(_,p)}),d(f),vi(f,_=>l=_,()=>l),S(e,f);var m=He(v);return i(),m}const aa="modulepreload",la=function(e){return"/static/"+e},Pr={},Ls=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(v=>Promise.resolve(v).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};var i=c;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),a=l?.nonce||l?.getAttribute("nonce");o=c(n.map(u=>{if(u=la(u),u in Pr)return;Pr[u]=!0;const v=u.endsWith(".css"),f=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=v?"stylesheet":aa,v||(m.as="script"),m.crossOrigin="",m.href=u,a&&m.setAttribute("nonce",a),document.head.appendChild(m),v)return new Promise((_,w)=>{m.addEventListener("load",_),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(l){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=l,window.dispatchEvent(a),!a.defaultPrevented)throw l}return o.then(l=>{for(const a of l||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function ca(e){if(!e.startsWith("/"))return!1;const t=e.slice(1).trim().split(/\s+/),n=t[0].toLowerCase(),r=t.slice(1);switch(n){case"stats":return ua();case"reload":return fa();case"who":return da(r);case"kline":return va(r);case"kick":return ha(r);case"register":return ma(r);case"unregister":return _a(r);case"topic":return pa(r);case"mode":return ba(r);case"op":return ga(r);case"deop":return ya(r);case"voice":return wa(r);case"devoice":return xa(r);case"ban":return ka(r);case"invite":return Ea(r);case"join":return $a(r);case"part":case"leave":return Sa(r);case"nick":return Ra(r);case"msg":case"query":return Ta(r);case"help":return Ca();default:return Aa(e)}}function ua(){return q({type:"send_command",command:"/stats",room:I(A)}),!0}function fa(){return q({type:"send_command",command:"/reload",room:I(A)}),!0}function da(e){const t=e.length>0?e[0]:I(A);return q({type:"send_command",command:`/who ${t}`,room:I(A)}),!0}function va(e){if(e.length<1)return re("Usage: /kline <add|del|list> [target]"),!0;const t=e[0],n=e.slice(1).join(" ");return t==="list"?q({type:"send_command",command:"/kline list",room:I(A)}):t==="add"&&n?q({type:"send_command",command:`/kline add ${n}`,room:I(A)}):t==="del"&&n?q({type:"send_command",command:`/kline del ${n}`,room:I(A)}):re("Usage: /kline <add|del|list> [target]"),!0}function ha(e){if(e.length<2)return re("Usage: /kick <room> <nick|hashprefix>"),!0;const t=e[0],n=e.slice(1).join(" ");return q({type:"send_command",command:`/kick ${t} ${n}`,room:I(A)}),!0}function ma(e){const t=e.length>0?e[0]:I(A);return q({type:"send_command",command:`/register ${t}`,room:I(A)}),!0}function _a(e){const t=e.length>0?e[0]:I(A);return q({type:"send_command",command:`/unregister ${t}`,room:I(A)}),!0}function pa(e){if(e.length===0)return re("Usage: /topic <room> [topic]"),!0;const t=e[0],n=e.slice(1).join(" ");return q({type:"send_command",command:`/topic ${t}${n?" "+n:""}`,room:I(A)}),!0}function ba(e){if(e.length<2)return re("Usage: /mode <room> <mode> [args]"),!0;const t=e[0],n=e[1],r=e.slice(2).join(" ");return q({type:"send_command",command:`/mode ${t} ${n}${r?" "+r:""}`,room:I(A)}),!0}function ga(e){if(e.length<2)return re("Usage: /op <room> <nick|hashprefix|hash>"),!0;const t=e[0],n=e.slice(1).join(" ");return q({type:"send_command",command:`/op ${t} ${n}`,room:I(A)}),!0}function ya(e){if(e.length<2)return re("Usage: /deop <room> <nick|hashprefix|hash>"),!0;const t=e[0],n=e.slice(1).join(" ");return q({type:"send_command",command:`/deop ${t} ${n}`,room:I(A)}),!0}function wa(e){if(e.length<2)return re("Usage: /voice <room> <nick|hashprefix|hash>"),!0;const t=e[0],n=e.slice(1).join(" ");return q({type:"send_command",command:`/voice ${t} ${n}`,room:I(A)}),!0}function xa(e){if(e.length<2)return re("Usage: /devoice <room> <nick|hashprefix|hash>"),!0;const t=e[0],n=e.slice(1).join(" ");return q({type:"send_command",command:`/devoice ${t} ${n}`,room:I(A)}),!0}function ka(e){if(e.length<2)return re("Usage: /ban <room> <add|del|list> [target]"),!0;const t=e[0],n=e[1],r=e.slice(2).join(" ");return n==="list"?q({type:"send_command",command:`/ban ${t} list`,room:I(A)}):(n==="add"||n==="del")&&r?q({type:"send_command",command:`/ban ${t} ${n} ${r}`,room:I(A)}):re("Usage: /ban <room> <add|del|list> [target]"),!0}function Ea(e){if(e.length<2)return re("Usage: /invite <room> <add|del|list> [target]"),!0;const t=e[0],n=e[1],r=e.slice(2).join(" ");return n==="list"?q({type:"send_command",command:`/invite ${t} list`,room:I(A)}):(n==="add"||n==="del")&&r?q({type:"send_command",command:`/invite ${t} ${n} ${r}`,room:I(A)}):re("Usage: /invite <room> <add|del|list> [target]"),!0}function $a(e){if(e.length===0)return re("Usage: /join <room>"),!0;const t=e[0];return q({type:"join_room",room:t}),!0}function Sa(e){const t=e.length>0?e[0]:I(A);return t==="[Hub]"?(re("Cannot part from [Hub]"),!0):(q({type:"part_room",room:t}),!0)}function Ra(e){if(e.length===0)return re("Usage: /nick <nickname>"),!0;const t=e.join(" ");return q({type:"set_nickname",nickname:t}),!0}function Ta(e){if(e.length<2)return re("Usage: /msg <room> <message>"),!0;const t=e[0],n=e.slice(1).join(" ");return q({type:"send_message",text:n,room:t}),!0}function Ca(e){const t=`
Available commands (rrcd v0.1+):

Room Moderation Commands:
  /kick <room> <nick>           - Remove user from room
  /register <room>              - Persist room settings
  /unregister <room>            - Remove room settings
  /topic <room> [topic]         - Show or set room topic
  /mode <room> <flags>          - Set room modes (+m, +i, +k, +t, +n, +r)
  /op <room> <nick>             - Grant operator status
  /deop <room> <nick>           - Revoke operator status
  /voice <room> <nick>          - Grant voice (in moderated rooms)
  /devoice <room> <nick>        - Revoke voice
  /ban <room> add <nick>        - Ban user from room
  /ban <room> del <nick>        - Remove room ban
  /ban <room> list              - List room bans
  /invite <room> add <nick>     - Invite user to room
  /invite <room> del <nick>     - Remove room invite
  /invite <room> list           - List room invites

Client Commands:
  /join <room>                  - Join a room
  /part [room]                  - Leave a room (current room if not specified)
  /nick <nickname>              - Change your nickname
  /msg <room> <message>         - Send message to specific room
  /help                         - Show this help message

Room Modes:
  +m  Moderated (only voiced/ops can speak)
  +i  Invite-only
  +k  Key/password required
  +t  Topic ops-only
  +n  No outside messages
  +r  Registered
    `.trim();return Ma(t),!0}function Aa(e){return q({type:"send_command",command:e,room:I(A)}),!0}function re(e){Ls(async()=>{const{rooms:t,currentRoom:n}=await Promise.resolve().then(()=>Cs);return{rooms:t,currentRoom:n}},void 0).then(({rooms:t,currentRoom:n})=>{const r=I(n);t.update(o=>{const s=o.get(r);return s&&s.messages.push({type:"error",text:e,timestamp:new Date().toLocaleTimeString()}),new Map(o)})})}function Ma(e){Ls(async()=>{const{rooms:t,currentRoom:n}=await Promise.resolve().then(()=>Cs);return{rooms:t,currentRoom:n}},void 0).then(({rooms:t,currentRoom:n})=>{const r=I(n);t.update(o=>{const s=o.get(r);return s&&s.messages.push({type:"notice",text:e,timestamp:new Date().toLocaleTimeString()}),new Map(o)})})}var Na=C('<div class="p-4 bg-base-200"><div class="flex gap-2"><input type="text" placeholder="Type a message... (type /help for commands)" class="input input-bordered flex-1"/> <button class="btn btn-outline btn-primary p-4">Send</button></div></div>');function sr(e,t){if(new.target)return ze({component:sr,...e});Le(t,!0);const n=()=>K(A,"$currentRoom",r),[r,o]=bt();let s=G("");function i(){if(b(s).trim()){if(b(s).startsWith("/")&&ca(b(s))){T(s,"");return}Oi(b(s),n()),T(s,"")}}function l(_){_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),i())}var a={$set:Ye,$on:(_,w)=>Ke(t,_,w)},c=Na(),u=h(c),v=h(u);ft(v);var f=y(v,2);f.__click=i,d(u),d(c),pr("keypress",v,l),kt(v,()=>b(s),_=>T(s,_)),S(e,c);var m=He(a);return o(),m}pt(["click"]);var Da=C('<p class="text-sm opacity-60">No users</p>'),Pa=C('<li><span class="text-sm"> </span></li>'),Oa=C('<ul class="menu menu-compact"></ul>'),La=C('<div class="p-4 bg-base-200 h-full overflow-y-auto"><h3 class="font-bold text-lg mb-4">Users</h3> <!></div>');function Hs(e,t){if(new.target)return ze({component:Hs,...e});Le(t,!0);const n=()=>K(yr,"$currentRoomData",r),[r,o]=bt();var s={$set:Ye,$on:(v,f)=>Ke(t,v,f)},i=La(),l=y(h(i),2);{var a=v=>{var f=Da();S(v,f)},c=v=>{var f=Oa();un(f,5,()=>Array.from(n().users),Pn,(m,_)=>{var w=Pa(),p=h(w),x=h(p,!0);d(p),d(w),Q(()=>X(x,b(_))),S(m,w)}),d(f),S(v,f)};V(l,v=>{n().users.size===0?v(a):v(c,!1)})}d(i),S(e,i);var u=He(s);return o(),u}var Ha=C('<div class="modal modal-open"><div class="modal-box"><h3 class="font-bold text-lg">Join Room</h3> <form><div class="form-control mt-4"><label class="label" for="roomNameInput"><span class="mr-4 label-text">Room Name:</span></label> <input type="text" id="roomNameInput" class="input input-bordered" placeholder="Enter room name" required/></div> <div class="modal-action"><button type="button" class="p-4 mr-4 btn btn-error">Cancel</button> <button type="submit" class="p-4 btn btn-primary">Join</button></div></form></div></div>');function Is(e,t){if(new.target)return ze({component:Is,...e});Le(t,!0);let n=De(t,"show",7,!1),r=De(t,"onClose"),o=G("");function s(v){v.preventDefault(),b(o).trim()&&(Di(b(o).trim()),T(o,""),r()())}function i(){T(o,""),r()()}var l={get show(){return n()},set show(v=!1){n(v),he()},get onClose(){return r()},set onClose(v){r(v),he()},$set:Ye,$on:(v,f)=>Ke(t,v,f)},a=ks(),c=ur(a);{var u=v=>{var f=Ha(),m=h(f),_=y(h(m),2),w=h(_),p=y(h(w),2);ft(p),d(w);var x=y(w,2),L=h(x);L.__click=i,ht(2),d(x),d(_),d(m),d(f),pr("submit",_,s),kt(p,()=>b(o),j=>T(o,j)),S(v,f)};V(c,v=>{n()&&v(u)})}return S(e,a),He(l)}pt(["click"]);var Ia=C('<div class="flex items-center gap-2"><span class="opacity-70">Hub:</span> <span> </span></div>'),ja=C('<div class="flex items-center gap-2"><span class="opacity-70">Nickname:</span> <span> </span></div>'),Fa=C('<div class="flex items-center gap-2"><span class="opacity-70">Latency:</span> <span> </span></div>'),Ua=C('<button class="btn btn-sm btn-error justify-start">Disconnect</button>'),qa=C('<span class="badge badge-primary badge-sm"> </span>'),Ja=C("<li><button><span> </span> <!></button></li>"),Wa=C('<button class="btn btn-sm btn-outline btn-warning">Part Room</button>'),Ba=C('<div class="fixed inset-0 z-50 flex"><div class="fixed inset-0 bg-black/50" role="button" tabindex="0"></div> <div class="relative w-80 bg-base-200 h-full overflow-y-auto shadow-xl"><div class="p-4"><div class="flex justify-between items-center mb-4"><h2 class="text-xl font-bold">Menu</h2> <button class="btn btn-ghost btn-sm btn-circle">âœ•</button></div> <div class="card bg-base-300 mb-4"><div class="card-body p-3"><h3 class="font-semibold text-sm mb-2">Status</h3> <div class="flex flex-col gap-2 text-sm"><div class="flex items-center gap-2"><div></div> <span> </span></div> <div class="flex items-center gap-2"><div></div> <span> </span></div> <!> <!> <!></div></div></div> <div class="flex flex-col gap-2 mb-4"><button class="btn btn-sm btn-ghost justify-start"><!></button> <!></div> <div class="divider"></div> <h3 class="font-bold text-lg mb-2">Rooms</h3> <ul class="menu menu-compact mb-4"></ul> <div class="flex flex-col gap-2"><button class="btn btn-sm btn-outline btn-primary">Join Room</button> <!></div></div></div></div>');function js(e,t){if(new.target)return ze({component:js,...e});Le(t,!0);const n=()=>K(fe,"$rooms",u),r=()=>K(ln,"$wsConnected",u),o=()=>K(gt,"$rrcConnected",u),s=()=>K(yt,"$hubName",u),i=()=>K(Kt,"$nickname",u),l=()=>K(fn,"$latency",u),a=()=>K(wr,"$roomListStore",u),c=()=>K(A,"$currentRoom",u),[u,v]=bt();let f=De(t,"isOpen",7,!1),m=De(t,"onClose"),_=De(t,"onToggleTheme"),w=De(t,"onJoinRoom"),p=De(t,"onPartRoom"),x=G("dark");function L(){T(x,b(x)==="dark"?"light":"dark",!0),document.documentElement.setAttribute("data-theme",b(x)),_()(b(x))}function j(){Ms(),m()()}function H(J){A.set(J),Ns(J),m()()}function Y(J){return n().get(J)?.unread||0}function Z(){w()(),m()()}function M(){p()(),m()()}var g={get isOpen(){return f()},set isOpen(J=!1){f(J),he()},get onClose(){return m()},set onClose(J){m(J),he()},get onToggleTheme(){return _()},set onToggleTheme(J){_(J),he()},get onJoinRoom(){return w()},set onJoinRoom(J){w(J),he()},get onPartRoom(){return p()},set onPartRoom(J){p(J),he()},$set:Ye,$on:(J,ye)=>Ke(t,J,ye)},$=ks(),R=ur($);{var ee=J=>{var ye=Ba(),de=h(ye);de.__click=function(...D){m()?.apply(this,D)},de.__keydown=D=>D.key==="Enter"&&m()();var te=y(de,2),se=h(te),we=h(se),Pe=y(h(we),2);Pe.__click=function(...D){m()?.apply(this,D)},d(we);var ve=y(we,2),Ge=h(ve),xe=y(h(Ge),2),Re=h(xe),Ie=h(Re),je=y(Ie,2),Xe=h(je);d(je),d(Re);var Fe=y(Re,2),E=h(Fe),N=y(E,2),k=h(N);d(N),d(Fe);var W=y(Fe,2);{var le=D=>{var z=Ia(),Te=y(h(z),2),Ue=h(Te,!0);d(Te),d(z),Q(()=>X(Ue,s())),S(D,z)};V(W,D=>{s()&&D(le)})}var ct=y(W,2);{var Yt=D=>{var z=ja(),Te=y(h(z),2),Ue=h(Te,!0);d(Te),d(z),Q(()=>X(Ue,i())),S(D,z)};V(ct,D=>{i()&&D(Yt)})}var Gt=y(ct,2);{var vn=D=>{var z=Fa(),Te=y(h(z),2),Ue=h(Te);d(Te),d(z),Q(()=>X(Ue,`${l()??""}ms`)),S(D,z)};V(Gt,D=>{l()!==null&&D(vn)})}d(xe),d(Ge),d(ve);var wt=y(ve,2),Pt=h(wt);Pt.__click=L;var hn=h(Pt);{var Xt=D=>{var z=an("â˜€ï¸ Light Mode");S(D,z)},Hn=D=>{var z=an("ðŸŒ™ Dark Mode");S(D,z)};V(hn,D=>{b(x)==="dark"?D(Xt):D(Hn,!1)})}d(Pt);var In=y(Pt,2);{var jn=D=>{var z=Ua();z.__click=j,S(D,z)};V(In,D=>{o()&&D(jn)})}d(wt);var Ze=y(wt,6);un(Ze,5,a,Pn,(D,z)=>{var Te=Ja(),Ue=h(Te);Ue.__click=()=>H(b(z));var Un=h(Ue),Js=h(Un,!0);d(Un);var Ws=y(Un,2);{var Bs=qn=>{var Jn=qa(),Vs=h(Jn,!0);d(Jn),Q(zs=>X(Vs,zs),[()=>Y(b(z))]),S(qn,Jn)};V(Ws,qn=>{Y(b(z))>0&&qn(Bs)})}d(Ue),d(Te),Q(()=>{jt(Ue,1,`flex justify-between items-center ${b(z)===c()?"active":""}`),X(Js,b(z))}),S(D,Te)}),d(Ze);var Ot=y(Ze,2),mn=h(Ot);mn.__click=Z;var Fn=y(mn,2);{var qs=D=>{var z=Wa();z.__click=M,S(D,z)};V(Fn,D=>{c()!=="[Hub]"&&D(qs)})}d(Ot),d(se),d(te),d(ye),Q(()=>{jt(Ie,1,`badge ${r()?"badge-success":"badge-error"} badge-xs`),X(Xe,`WebSocket: ${r()?"Connected":"Disconnected"}`),jt(E,1,`badge ${o()?"badge-success":"badge-error"} badge-xs`),X(k,`RRC: ${o()?"Connected":"Disconnected"}`)}),S(J,ye)};V(R,J=>{f()&&J(ee)})}S(e,$);var ge=He(g);return v(),ge}pt(["click","keydown"]);var Va=C('<div class="w-64 border-r border-base-300 flex-shrink-0"><!></div>'),za=C('<div class="border-r border-base-300 flex-shrink-0 bg-base-200"><button class="btn btn-ghost btn-sm m-2" title="Expand sidebar">&gt;</button></div>'),Ka=C('<div class="hidden md:flex md:flex-col h-full"><!> <div class="flex flex-1 min-h-0"><!> <div class="flex-1 flex min-h-0"><div class="flex-1 flex flex-col min-h-0"><!> <!></div> <div class="hidden xl:block w-64 border-l border-base-300 overflow-y-auto flex-shrink-0"><!></div></div></div></div> <div class="md:hidden flex flex-col h-full"><div class="navbar bg-base-300"><div class="flex-none"><button class="btn btn-square btn-ghost" aria-label="Toggle mobile menu"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div> <div class="flex-1 px-2"><span class="text-lg font-bold">RRC</span> <span class="ml-2 text-sm opacity-70"> </span></div></div> <!> <div class="flex-1 flex flex-col min-h-0"><!> <!></div></div> <!> <!>',1);function Fs(e,t){if(new.target)return ze({component:Fs,...e});Le(t,!0);const n=()=>K(A,"$currentRoom",o),r=()=>K(gt,"$rrcConnected",o),[o,s]=bt();let i=G(!1),l=G(!1),a=G(!1);function c(){}function u(){T(i,!0)}function v(){const k=n();k!=="[Hub]"&&Pi(k)}function f(){T(i,!1)}function m(k){}function _(){T(l,!b(l))}function w(){T(a,!b(a))}function p(){T(a,!1)}var x={$set:Ye,$on:(k,W)=>Ke(t,k,W)},L=Ka(),j=ur(L),H=h(j);Ds(H,{onToggleTheme:m});var Y=y(H,2),Z=h(Y);{var M=k=>{var W=Va(),le=h(W);Os(le,{onJoinRoom:u,onPartRoom:v,onToggleSidebar:_}),d(W),S(k,W)},g=k=>{var W=za(),le=h(W);le.__click=_,d(W),S(k,W)};V(Z,k=>{b(l)?k(g,!1):k(M)})}var $=y(Z,2),R=h($),ee=h(R);rr(ee,{});var ge=y(ee,2);sr(ge,{}),d(R);var J=y(R,2),ye=h(J);Hs(ye,{}),d(J),d($),d(Y),d(j);var de=y(j,2),te=h(de),se=h(te),we=h(se);we.__click=w,d(se);var Pe=y(se,2),ve=y(h(Pe),2),Ge=h(ve);d(ve),d(Pe),d(te);var xe=y(te,2);js(xe,{get isOpen(){return b(a)},onClose:p,onToggleTheme:m,onJoinRoom:u,onPartRoom:v});var Re=y(xe,2),Ie=h(Re);rr(Ie,{});var je=y(Ie,2);sr(je,{}),d(Re),d(de);var Xe=y(de,2);{var Fe=k=>{Ps(k,{onConnect:c})};V(Xe,k=>{r()||k(Fe)})}var E=y(Xe,2);Is(E,{get show(){return b(i)},onClose:f}),Q(()=>X(Ge,`- ${n()??""}`)),S(e,L);var N=He(x);return s(),N}pt(["click"]);var Ya=C('<div class="label"><span class="label-text-alt text-error"> </span></div>'),Ga=C('<span class="loading loading-spinner"></span> Authenticating...',1),Xa=C('<div class="hero min-h-screen bg-base-200"><div class="hero-content flex-col"><div class="text-center lg:text-left mb-8"><img alt="RRC Logo" class="w-64 mx-auto"/> <p>Authentication has been enabled on this application.</p> <p>Please enter your authentication token to continue.</p></div> <div class="card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100"><div class="card-body"><div class="form-control"><label class="label" for="token-input"><span class="label-text">Authentication Token</span></label> <input id="token-input" type="password" placeholder="Enter your token" class="input input-bordered" autocomplete="off"/> <!></div> <div class="form-control mt-6"><button class="btn btn-primary"><!></button></div> <div class="divider"></div> <div class="text-sm opacity-70"><p class="mb-2">To generate a token, run:</p> <code class="block bg-base-300 p-2 rounded text-xs overflow-x-auto">python -c "import secrets; print(secrets.token_urlsafe(32))"</code> <p class="mt-2">Add the token to your <code>config.json</code> file.</p></div></div></div></div></div>');function Us(e,t){if(new.target)return ze({component:Us,...e});Le(t,!0);let n=G(""),r=G(""),o=G(!1),s=G(!0);Nn(()=>{const g=document.documentElement.getAttribute("data-theme");g?T(s,g==="dark"):T(s,window.matchMedia("(prefers-color-scheme: dark)").matches,!0);const $=new MutationObserver(()=>{const R=document.documentElement.getAttribute("data-theme");R&&T(s,R==="dark")});return $.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>$.disconnect()});async function i(){T(r,""),T(o,!0);try{const g=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:b(n)})}),$=await g.json();g.ok?window.location.reload():T(r,$.error||"Login failed",!0)}catch(g){T(r,"Failed to connect to server"),console.error("Login error:",g)}finally{T(o,!1)}}function l(g){g.key==="Enter"&&!b(o)&&i()}var a={$set:Ye,$on:(g,$)=>Ke(t,g,$)},c=Xa(),u=h(c),v=h(u),f=h(v);ht(4),d(v);var m=y(v,2),_=h(m),w=h(_),p=y(h(w),2);ft(p),p.__keydown=l;var x=y(p,2);{var L=g=>{var $=Ya(),R=h($),ee=h(R,!0);d(R),d($),Q(()=>X(ee,b(r))),S(g,$)};V(x,g=>{b(r)&&g(L)})}d(w);var j=y(w,2),H=h(j);H.__click=i;var Y=h(H);{var Z=g=>{var $=Ga();ht(),S(g,$)},M=g=>{var $=an("Login");S(g,$)};V(Y,g=>{b(o)?g(Z):g(M,!1)})}return d(H),d(j),ht(4),d(_),d(m),d(u),d(c),Q(g=>{er(f,"src",b(s)?"/transparent-logo-dark.png":"/transparent-logo-light.png"),p.disabled=b(o),H.disabled=g},[()=>b(o)||!b(n).trim()]),kt(p,()=>b(n),g=>T(n,g)),S(e,c),He(a)}pt(["keydown","click"]);async function Za(){try{const e=await fetch("/api/auth-status");if(!e.ok)return!0;const t=await e.json();return!t.auth_required||t.is_authenticated}catch(e){return console.error("Failed to check auth status:",e),!0}}async function Qa(){await Za()?(new Fs({target:document.getElementById("app")}),As()):new Us({target:document.getElementById("app")})}Qa();
